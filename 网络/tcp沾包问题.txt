tcp连接会被分配一个tcp发送缓冲区和一个tcp接收缓冲区
应用层的数据放到tcp发送缓冲区中，tcp协议对齐包装后进行发送
tcp将收到的数据（tcp脱包后）放入接收缓冲区中，然后等待（应用层）读取

每个TCP套接口有一个发送缓冲区，可以用SO_SNDBUF套接口选项来改变这一缓冲区的大小
TCP发给对方的数据，对方在收到数据时必须给矛确认，只有在收到对方的确认时，本方TCP才会把TCP发送缓冲区中的数据删除。

tcp接收数据时，如果没及时read，就可能将接收到的多个tcp包的数据都存放的tcp接收缓冲区中，
这时再调用tcp的read，读到的将是多个tcp包传来的数据，这就是沾包问题，
如果这些数据是一大段数据的多个部分（如一个大的pdf文件的不同部分）还好说，
如果这些数据不是一体的，如传来的是不同犯人的口供，那就无法区分哪个犯人分别说了什么，
解决的办法是给每个tcp携带的数据加分割标记，或者添加指明数据长度的标记， 如http中就有字段表明数据的长度


基础知识
IPv4 数据报最大大小是65535（16位），包括IPv4头部。
IPv6 数据报最大大小是65575，包括40个字节的IPv4头部
MTU，这是由硬件规定的，如以太网的MTU是1500字节，IPv4要求最小MTU是68字节，IPv6要求最小MTU是576字节
path MTU： 指两台主机间的路径上最小MTU
分片（fragmentation)：指ip数据报大小超过相应链路的MTU,IPv4和IPv6都将对ip数据进行分片，到达目的主机后进行重组。
IPv4头部的DF位用于设置分片还是不分片
MSS：最大分节大小，向对方TCP通告被通告方在每个分节中能发送的最大TCP数据量。MSS的目的是告诉对方其重组缓冲区大小的实际值，从而避免分片。