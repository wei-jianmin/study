From: <Saved by Blink>
Snapshot-Content-Location: https://docs.python.org/3/library/ctypes.html?highlight=ctypes#module-ctypes
Subject: =?utf-8?Q?ctypes=20=E2=80=94=20A=20foreign=20function=20library=20for=20P?=
 =?utf-8?Q?ython=20=E2=80=94=20Python=203.9.7=20documentation?=
Date: Mon, 27 Sep 2021 05:29:32 -0000
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----"


------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/html
Content-ID: <frame-96744445A51F90151F3ACCF7717B416A@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: https://docs.python.org/3/library/ctypes.html?highlight=ctypes#module-ctypes

<!DOCTYPE html><html xmlns=3D"http://www.w3.org/1999/xhtml"><head><meta htt=
p-equiv=3D"Content-Type" content=3D"text/html; charset=3DUTF-8"><link rel=
=3D"stylesheet" type=3D"text/css" href=3D"cid:css-26cfc2c8-13ba-4483-92f6-f=
438e6b337a3@mhtml.blink" /><link rel=3D"stylesheet" type=3D"text/css" href=
=3D"cid:css-fc75671e-b67c-4609-9dc9-d1e2c4fa7c96@mhtml.blink" /><link rel=
=3D"stylesheet" type=3D"text/css" href=3D"cid:css-bbb2339e-0b52-4ec4-b5e8-6=
d014be9d8ac@mhtml.blink" />
   =20
    <title>ctypes =E2=80=94 A foreign function library for Python =E2=80=94=
 Python 3.9.7 documentation</title>
    <link rel=3D"stylesheet" href=3D"https://docs.python.org/3/_static/pydo=
ctheme.css" type=3D"text/css">
    <link rel=3D"stylesheet" href=3D"https://docs.python.org/3/_static/pygm=
ents.css" type=3D"text/css">
   =20
   =20
   =20
   =20
   =20
   =20
   =20
   =20
   =20
    <link rel=3D"search" type=3D"application/opensearchdescription+xml" tit=
le=3D"Search within Python 3.9.7 documentation" href=3D"https://docs.python=
.org/3/_static/opensearch.xml">
    <link rel=3D"author" title=3D"About these documents" href=3D"https://do=
cs.python.org/3/about.html">
    <link rel=3D"index" title=3D"Index" href=3D"https://docs.python.org/3/g=
enindex.html">
    <link rel=3D"search" title=3D"Search" href=3D"https://docs.python.org/3=
/search.html">
    <link rel=3D"copyright" title=3D"Copyright" href=3D"https://docs.python=
.org/3/copyright.html">
    <link rel=3D"next" title=3D"Concurrent Execution" href=3D"https://docs.=
python.org/3/library/concurrency.html">
    <link rel=3D"prev" title=3D"errno =E2=80=94 Standard errno system symbo=
ls" href=3D"https://docs.python.org/3/library/errno.html">
    <link rel=3D"canonical" href=3D"https://docs.python.org/3/library/ctype=
s.html">
   =20
     =20
     =20
   =20

   =20
   =20

    <link rel=3D"shortcut icon" type=3D"image/png" href=3D"https://docs.pyt=
hon.org/3/_static/py.png">
   =20
   =20
   =20
    =20


  </head><body>
 =20
    <div class=3D"related" role=3D"navigation" aria-label=3D"related naviga=
tion">
      <h3>Navigation</h3>
      <ul>
        <li class=3D"right" style=3D"margin-right: 10px">
          <a href=3D"https://docs.python.org/3/genindex.html" title=3D"Gene=
ral Index" accesskey=3D"I">index</a></li>
        <li class=3D"right">
          <a href=3D"https://docs.python.org/3/py-modindex.html" title=3D"P=
ython Module Index">modules</a> |</li>
        <li class=3D"right">
          <a href=3D"https://docs.python.org/3/library/concurrency.html" ti=
tle=3D"Concurrent Execution" accesskey=3D"N">next</a> |</li>
        <li class=3D"right">
          <a href=3D"https://docs.python.org/3/library/errno.html" title=3D=
"errno =E2=80=94 Standard errno system symbols" accesskey=3D"P">previous</a=
> |</li>

    <li><img src=3D"https://docs.python.org/3/_static/py.png" alt=3D"" styl=
e=3D"vertical-align: middle; margin-top: -1px"></li>
    <li><a href=3D"https://www.python.org/">Python</a> =C2=BB</li>
   =20

    <li><span class=3D"language_switcher_placeholder"><select id=3D"languag=
e_select"><option value=3D"en" selected=3D"selected">English</option><optio=
n value=3D"es">Spanish</option><option value=3D"fr">French</option><option =
value=3D"ja">Japanese</option><option value=3D"ko">Korean</option><option v=
alue=3D"pt-br">Brazilian Portuguese</option><option value=3D"zh-cn">Simplif=
ied Chinese</option><option value=3D"zh-tw">Traditional Chinese</option></s=
elect></span> <span class=3D"version_switcher_placeholder"><select id=3D"ve=
rsion_select"><option value=3D"3.11">dev (3.11)</option><option value=3D"3.=
10">pre (3.10)</option><option value=3D"3.9" selected=3D"selected">3.9.7</o=
ption><option value=3D"3.8">3.8</option><option value=3D"3.7">3.7</option><=
option value=3D"3.6">3.6</option><option value=3D"3.5">3.5</option><option =
value=3D"2.7">2.7</option></select></span> <a href=3D"https://docs.python.o=
rg/3/" id=3D"indexlink">Documentation</a> =C2=BB</li>

          <li class=3D"nav-item nav-item-1"><a href=3D"https://docs.python.=
org/3/library/index.html">The Python Standard Library</a> =C2=BB</li>
          <li class=3D"nav-item nav-item-2"><a href=3D"https://docs.python.=
org/3/library/allos.html" accesskey=3D"U">Generic Operating System Services=
</a> =C2=BB</li>
    <li class=3D"right">
       =20

    <div class=3D"inline-search" style=3D"" role=3D"search">
        <form class=3D"inline-search" action=3D"https://docs.python.org/3/s=
earch.html" method=3D"get">
          <input placeholder=3D"Quick search" type=3D"text" name=3D"q">
          <input type=3D"submit" value=3D"Go">
         =20
         =20
        </form>
    </div>
   =20
         |
    </li>

      </ul>
    </div>   =20

    <div class=3D"document">
      <div class=3D"documentwrapper">
        <div class=3D"bodywrapper">
          <div class=3D"body" role=3D"main">
           =20
  <div class=3D"section" id=3D"module-ctypes">
<span id=3D"ctypes-a-foreign-function-library-for-python"></span><h1><a cla=
ss=3D"reference internal" href=3D"https://docs.python.org/3/library/ctypes.=
html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign function =
library for Python."><code class=3D"xref py py-mod docutils literal notrans=
late"><span class=3D"pre"><span class=3D"highlighted">ctypes</span></span><=
/code></a> =E2=80=94 A foreign function library for Python<a class=3D"heade=
rlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dct=
ypes#module-ctypes" title=3D"Permalink to this headline">=C2=B6</a></h1>
<hr class=3D"docutils">
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> is a foreign function library for Python.  It provides =
C compatible
data types, and allows calling functions in DLLs or shared libraries.  It c=
an be
used to wrap these libraries in pure Python.</p>
<div class=3D"section" id=3D"ctypes-tutorial">
<span id=3D"ctypes-ctypes-tutorial"></span><h2><span class=3D"highlighted">=
ctypes</span> tutorial<a class=3D"headerlink" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes-tutorial" title=3D"Perma=
link to this headline">=C2=B6</a></h2>
<p>Note: The code samples in this tutorial use <a class=3D"reference intern=
al" href=3D"https://docs.python.org/3/library/doctest.html#module-doctest" =
title=3D"doctest: Test pieces of code within docstrings."><code class=3D"xr=
ef py py-mod docutils literal notranslate"><span class=3D"pre">doctest</spa=
n></code></a> to make sure that
they actually work.  Since some code samples behave differently under Linux=
,
Windows, or Mac OS X, they contain doctest directives in comments.</p>
<p>Note: Some code samples reference the <span class=3D"highlighted">ctypes=
</span> <a class=3D"reference internal" href=3D"https://docs.python.org/3/l=
ibrary/ctypes.html?highlight=3Dctypes#ctypes.c_int" title=3D"ctypes.c_int">=
<code class=3D"xref py py-class docutils literal notranslate"><span class=
=3D"pre">c_int</span></code></a> type.  On platforms
where <code class=3D"docutils literal notranslate"><span class=3D"pre">size=
of(long)</span> <span class=3D"pre">=3D=3D</span> <span class=3D"pre">sizeo=
f(int)</span></code> it is an alias to <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
.c_long" title=3D"ctypes.c_long"><code class=3D"xref py py-class docutils l=
iteral notranslate"><span class=3D"pre">c_long</span></code></a>.
So, you should not be confused if <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_lo=
ng" title=3D"ctypes.c_long"><code class=3D"xref py py-class docutils litera=
l notranslate"><span class=3D"pre">c_long</span></code></a> is printed if y=
ou would expect
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_int" title=3D"ctypes.c_int"><code cl=
ass=3D"xref py py-class docutils literal notranslate"><span class=3D"pre">c=
_int</span></code></a> =E2=80=94 they are actually the same type.</p>
<div class=3D"section" id=3D"loading-dynamic-link-libraries">
<span id=3D"ctypes-loading-dynamic-link-libraries"></span><h3>Loading dynam=
ic link libraries<a class=3D"headerlink" href=3D"https://docs.python.org/3/=
library/ctypes.html?highlight=3Dctypes#loading-dynamic-link-libraries" titl=
e=3D"Permalink to this headline">=C2=B6</a></h3>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> exports the <em>cdll</em>, and on Windows <em>windll</e=
m> and <em>oledll</em>
objects, for loading dynamic link libraries.</p>
<p>You load libraries by accessing them as attributes of these objects. <em=
>cdll</em>
loads libraries which export functions using the standard <code class=3D"do=
cutils literal notranslate"><span class=3D"pre">cdecl</span></code> calling
convention, while <em>windll</em> libraries call functions using the <code =
class=3D"docutils literal notranslate"><span class=3D"pre">stdcall</span></=
code>
calling convention. <em>oledll</em> also uses the <code class=3D"docutils l=
iteral notranslate"><span class=3D"pre">stdcall</span></code> calling conve=
ntion, and
assumes the functions return a Windows <code class=3D"xref c c-type docutil=
s literal notranslate"><span class=3D"pre">HRESULT</span></code> error code=
. The error
code is used to automatically raise an <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/exceptions.html#OSError" title=3D"OSE=
rror"><code class=3D"xref py py-class docutils literal notranslate"><span c=
lass=3D"pre">OSError</span></code></a> exception when the
function call fails.</p>
<div class=3D"versionchanged">
<p><span class=3D"versionmodified changed">Changed in version 3.3: </span>W=
indows errors used to raise <a class=3D"reference internal" href=3D"https:/=
/docs.python.org/3/library/exceptions.html#WindowsError" title=3D"WindowsEr=
ror"><code class=3D"xref py py-exc docutils literal notranslate"><span clas=
s=3D"pre">WindowsError</span></code></a>, which is now an alias
of <a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/exceptions.html#OSError" title=3D"OSError"><code class=3D"xref py py-exc =
docutils literal notranslate"><span class=3D"pre">OSError</span></code></a>=
.</p>
</div>
<p>Here are some examples for Windows. Note that <code class=3D"docutils li=
teral notranslate"><span class=3D"pre">msvcrt</span></code> is the MS stand=
ard C
library containing most standard C functions, and uses the cdecl calling
convention:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">windll</span><span class=3D"o">.</sp=
an><span class=3D"n">kernel32</span><span class=3D"p">)</span> =20
<span class=3D"go">&lt;WinDLL 'kernel32', handle ... at ...&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">cdll</span><span class=3D"o">.</span=
><span class=3D"n">msvcrt</span><span class=3D"p">)</span>     =20
<span class=3D"go">&lt;CDLL 'msvcrt', handle ... at ...&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">libc</span> <span =
class=3D"o">=3D</span> <span class=3D"n">cdll</span><span class=3D"o">.</sp=
an><span class=3D"n">msvcrt</span>     =20
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Windows appends the usual <code class=3D"docutils literal notranslate"><=
span class=3D"pre">.dll</span></code> file suffix automatically.</p>
<div class=3D"admonition note">
<p class=3D"admonition-title">Note</p>
<p>Accessing the standard C library through <code class=3D"docutils literal=
 notranslate"><span class=3D"pre">cdll.msvcrt</span></code> will use an
outdated version of the library that may be incompatible with the one
being used by Python. Where possible, use native Python functionality,
or else import and use the <code class=3D"docutils literal notranslate"><sp=
an class=3D"pre">msvcrt</span></code> module.</p>
</div>
<p>On Linux, it is required to specify the filename <em>including</em> the =
extension to
load a library, so attribute access can not be used to load libraries. Eith=
er the
<code class=3D"xref py py-meth docutils literal notranslate"><span class=3D=
"pre">LoadLibrary()</span></code> method of the dll loaders should be used,=
 or you should load
the library by creating an instance of CDLL by calling the constructor:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">cdll</span><span class=3D"o">.</span><span class=3D"n">LoadLibrary</span=
><span class=3D"p">(</span><span class=3D"s2">"libc.so.6"</span><span class=
=3D"p">)</span> =20
<span class=3D"go">&lt;CDLL 'libc.so.6', handle ... at ...&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">libc</span> <span =
class=3D"o">=3D</span> <span class=3D"n">CDLL</span><span class=3D"p">(</sp=
an><span class=3D"s2">"libc.so.6"</span><span class=3D"p">)</span>      =20
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">libc</span>       =
                   =20
<span class=3D"go">&lt;CDLL 'libc.so.6', handle ... at ...&gt;</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"accessing-functions-from-loaded-dlls">
<span id=3D"ctypes-accessing-functions-from-loaded-dlls"></span><h3>Accessi=
ng functions from loaded dlls<a class=3D"headerlink" href=3D"https://docs.p=
ython.org/3/library/ctypes.html?highlight=3Dctypes#accessing-functions-from=
-loaded-dlls" title=3D"Permalink to this headline">=C2=B6</a></h3>
<p>Functions are accessed as attributes of dll objects:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">libc</span><span c=
lass=3D"o">.</span><span class=3D"n">printf</span>
<span class=3D"go">&lt;_FuncPtr object at 0x...&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">windll</span><span class=3D"o">.</sp=
an><span class=3D"n">kernel32</span><span class=3D"o">.</span><span class=
=3D"n">GetModuleHandleA</span><span class=3D"p">)</span> =20
<span class=3D"go">&lt;_FuncPtr object at 0x...&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">windll</span><span class=3D"o">.</sp=
an><span class=3D"n">kernel32</span><span class=3D"o">.</span><span class=
=3D"n">MyOwnFunction</span><span class=3D"p">)</span>    =20
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span><span>
  File </span><span class=3D"nb">"<span class=3D"highlighted">ctypes</span>=
.py"</span><span>, line </span><span class=3D"m">239</span><span>, in </spa=
n><span class=3D"n">__getattr__</span>
    <span class=3D"n">func</span> <span class=3D"o">=3D</span> <span class=
=3D"n">_StdcallFuncPtr</span><span class=3D"p">(</span><span class=3D"n">na=
me</span><span class=3D"p">,</span> <span class=3D"bp">self</span><span cla=
ss=3D"p">)</span>
<span class=3D"gr">AttributeError</span><span>: </span><span class=3D"n">fu=
nction 'MyOwnFunction' not found</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Note that win32 system dlls like <code class=3D"docutils literal notrans=
late"><span class=3D"pre">kernel32</span></code> and <code class=3D"docutil=
s literal notranslate"><span class=3D"pre">user32</span></code> often expor=
t ANSI
as well as UNICODE versions of a function. The UNICODE version is exported =
with
an <code class=3D"docutils literal notranslate"><span class=3D"pre">W</span=
></code> appended to the name, while the ANSI version is exported with an <=
code class=3D"docutils literal notranslate"><span class=3D"pre">A</span></c=
ode>
appended to the name. The win32 <code class=3D"docutils literal notranslate=
"><span class=3D"pre">GetModuleHandle</span></code> function, which returns=
 a
<em>module handle</em> for a given module name, has the following C prototy=
pe, and a
macro is used to expose one of them as <code class=3D"docutils literal notr=
anslate"><span class=3D"pre">GetModuleHandle</span></code> depending on whe=
ther
UNICODE is defined or not:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"o">/*</span> <spa=
n class=3D"n">ANSI</span> <span class=3D"n">version</span> <span class=3D"o=
">*/</span>
<span class=3D"n">HMODULE</span> <span class=3D"n">GetModuleHandleA</span><=
span class=3D"p">(</span><span class=3D"n">LPCSTR</span> <span class=3D"n">=
lpModuleName</span><span class=3D"p">);</span>
<span class=3D"o">/*</span> <span class=3D"n">UNICODE</span> <span class=3D=
"n">version</span> <span class=3D"o">*/</span>
<span class=3D"n">HMODULE</span> <span class=3D"n">GetModuleHandleW</span><=
span class=3D"p">(</span><span class=3D"n">LPCWSTR</span> <span class=3D"n"=
>lpModuleName</span><span class=3D"p">);</span>
</pre></div>
</div>
<p><em>windll</em> does not try to select one of them by magic, you must ac=
cess the
version you need by specifying <code class=3D"docutils literal notranslate"=
><span class=3D"pre">GetModuleHandleA</span></code> or <code class=3D"docut=
ils literal notranslate"><span class=3D"pre">GetModuleHandleW</span></code>
explicitly, and then call it with bytes or string objects respectively.</p>
<p>Sometimes, dlls export functions with names which aren=E2=80=99t valid P=
ython
identifiers, like <code class=3D"docutils literal notranslate"><span class=
=3D"pre">"??2@YAPAXI@Z"</span></code>. In this case you have to use
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/f=
unctions.html#getattr" title=3D"getattr"><code class=3D"xref py py-func doc=
utils literal notranslate"><span class=3D"pre">getattr()</span></code></a> =
to retrieve the function:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
nb">getattr</span><span class=3D"p">(</span><span class=3D"n">cdll</span><s=
pan class=3D"o">.</span><span class=3D"n">msvcrt</span><span class=3D"p">,<=
/span> <span class=3D"s2">"??2@YAPAXI@Z"</span><span class=3D"p">)</span> =
=20
<span class=3D"go">&lt;_FuncPtr object at 0x...&gt;</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>On Windows, some dlls export functions not by name but by ordinal. These
functions can be accessed by indexing the dll object with the ordinal numbe=
r:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">cdll</span><span class=3D"o">.</span><span class=3D"n">kernel32</span><s=
pan class=3D"p">[</span><span class=3D"mi">1</span><span class=3D"p">]</spa=
n> =20
<span class=3D"go">&lt;_FuncPtr object at 0x...&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">cdll</span><span c=
lass=3D"o">.</span><span class=3D"n">kernel32</span><span class=3D"p">[</sp=
an><span class=3D"mi">0</span><span class=3D"p">]</span> =20
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span><span>
  File </span><span class=3D"nb">"<span class=3D"highlighted">ctypes</span>=
.py"</span><span>, line </span><span class=3D"m">310</span><span>, in </spa=
n><span class=3D"n">__getitem__</span>
    <span class=3D"n">func</span> <span class=3D"o">=3D</span> <span class=
=3D"n">_StdcallFuncPtr</span><span class=3D"p">(</span><span class=3D"n">na=
me</span><span class=3D"p">,</span> <span class=3D"bp">self</span><span cla=
ss=3D"p">)</span>
<span class=3D"gr">AttributeError</span><span>: </span><span class=3D"n">fu=
nction ordinal 0 not found</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"calling-functions">
<span id=3D"ctypes-calling-functions"></span><h3>Calling functions<a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#calling-functions" title=3D"Permalink to this headline">=C2=
=B6</a></h3>
<p>You can call these functions like any other Python callable. This exampl=
e uses
the <code class=3D"docutils literal notranslate"><span class=3D"pre">time()=
</span></code> function, which returns system time in seconds since the Uni=
x
epoch, and the <code class=3D"docutils literal notranslate"><span class=3D"=
pre">GetModuleHandleA()</span></code> function, which returns a win32 modul=
e
handle.</p>
<p>This example calls both functions with a <code class=3D"docutils literal=
 notranslate"><span class=3D"pre">NULL</span></code> pointer (<code class=
=3D"docutils literal notranslate"><span class=3D"pre">None</span></code> sh=
ould be used
as the <code class=3D"docutils literal notranslate"><span class=3D"pre">NUL=
L</span></code> pointer):</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
nb">print</span><span class=3D"p">(</span><span class=3D"n">libc</span><spa=
n class=3D"o">.</span><span class=3D"n">time</span><span class=3D"p">(</spa=
n><span class=3D"kc">None</span><span class=3D"p">))</span> =20
<span class=3D"go">1150640792</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"nb">hex</span><span class=3D"p">(</span=
><span class=3D"n">windll</span><span class=3D"o">.</span><span class=3D"n"=
>kernel32</span><span class=3D"o">.</span><span class=3D"n">GetModuleHandle=
A</span><span class=3D"p">(</span><span class=3D"kc">None</span><span class=
=3D"p">)))</span> =20
<span class=3D"go">0x1d000000</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/exceptions.html#ValueError" title=3D"ValueError"><code class=3D"xref py p=
y-exc docutils literal notranslate"><span class=3D"pre">ValueError</span></=
code></a> is raised when you call an <code class=3D"docutils literal notran=
slate"><span class=3D"pre">stdcall</span></code> function with the
<code class=3D"docutils literal notranslate"><span class=3D"pre">cdecl</spa=
n></code> calling convention, or vice versa:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">cdll</span><span class=3D"o">.</span><span class=3D"n">kernel32</span><s=
pan class=3D"o">.</span><span class=3D"n">GetModuleHandleA</span><span clas=
s=3D"p">(</span><span class=3D"kc">None</span><span class=3D"p">)</span> =
=20
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">ValueError</span><span>: </span><span class=3D"n">Proced=
ure probably called with not enough arguments (4 bytes missing)</span>
<span class=3D"go">&gt;&gt;&gt;</span>

<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">windll</span><span=
 class=3D"o">.</span><span class=3D"n">msvcrt</span><span class=3D"o">.</sp=
an><span class=3D"n">printf</span><span class=3D"p">(</span><span class=3D"=
sa">b</span><span class=3D"s2">"spam"</span><span class=3D"p">)</span> =20
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">ValueError</span><span>: </span><span class=3D"n">Proced=
ure probably called with too many arguments (4 bytes in excess)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>To find out the correct calling convention you have to look into the C h=
eader
file or the documentation for the function you want to call.</p>
<p>On Windows, <a class=3D"reference internal" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes=
: A foreign function library for Python."><code class=3D"xref py py-mod doc=
utils literal notranslate"><span class=3D"pre"><span class=3D"highlighted">=
ctypes</span></span></code></a> uses win32 structured exception handling to=
 prevent
crashes from general protection faults when functions are called with inval=
id
argument values:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">windll</span><span class=3D"o">.</span><span class=3D"n">kernel32</span>=
<span class=3D"o">.</span><span class=3D"n">GetModuleHandleA</span><span cl=
ass=3D"p">(</span><span class=3D"mi">32</span><span class=3D"p">)</span> =
=20
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">OSError</span><span>: </span><span class=3D"n">exception=
: access violation reading 0x00000020</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>There are, however, enough ways to crash Python with <a class=3D"referen=
ce internal" href=3D"https://docs.python.org/3/library/ctypes.html?highligh=
t=3Dctypes#module-ctypes" title=3D"ctypes: A foreign function library for P=
ython."><code class=3D"xref py py-mod docutils literal notranslate"><span c=
lass=3D"pre"><span class=3D"highlighted">ctypes</span></span></code></a>, s=
o you
should be careful anyway.  The <a class=3D"reference internal" href=3D"http=
s://docs.python.org/3/library/faulthandler.html#module-faulthandler" title=
=3D"faulthandler: Dump the Python traceback."><code class=3D"xref py py-mod=
 docutils literal notranslate"><span class=3D"pre">faulthandler</span></cod=
e></a> module can be helpful in
debugging crashes (e.g. from segmentation faults produced by erroneous C li=
brary
calls).</p>
<p><code class=3D"docutils literal notranslate"><span class=3D"pre">None</s=
pan></code>, integers, bytes objects and (unicode) strings are the only nat=
ive
Python objects that can directly be used as parameters in these function ca=
lls.
<code class=3D"docutils literal notranslate"><span class=3D"pre">None</span=
></code> is passed as a C <code class=3D"docutils literal notranslate"><spa=
n class=3D"pre">NULL</span></code> pointer, bytes objects and strings are p=
assed
as pointer to the memory block that contains their data (<code class=3D"xre=
f c c-type docutils literal notranslate"><span class=3D"pre">char</span> <s=
pan class=3D"pre">*</span></code> or
<code class=3D"xref c c-type docutils literal notranslate"><span class=3D"p=
re">wchar_t</span> <span class=3D"pre">*</span></code>).  Python integers a=
re passed as the platforms default C
<code class=3D"xref c c-type docutils literal notranslate"><span class=3D"p=
re">int</span></code> type, their value is masked to fit into the C type.</=
p>
<p>Before we move on calling functions with other parameter types, we have =
to learn
more about <a class=3D"reference internal" href=3D"https://docs.python.org/=
3/library/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A =
foreign function library for Python."><code class=3D"xref py py-mod docutil=
s literal notranslate"><span class=3D"pre"><span class=3D"highlighted">ctyp=
es</span></span></code></a> data types.</p>
</div>
<div class=3D"section" id=3D"fundamental-data-types">
<span id=3D"ctypes-fundamental-data-types"></span><h3>Fundamental data type=
s<a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.h=
tml?highlight=3Dctypes#fundamental-data-types" title=3D"Permalink to this h=
eadline">=C2=B6</a></h3>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> defines a number of primitive C compatible data types:<=
/p>
<table class=3D"docutils align-default">
<colgroup>
<col style=3D"width: 24%">
<col style=3D"width: 46%">
<col style=3D"width: 30%">
</colgroup>
<thead>
<tr class=3D"row-odd"><th class=3D"head"><p><span class=3D"highlighted">cty=
pes</span> type</p></th>
<th class=3D"head"><p>C type</p></th>
<th class=3D"head"><p>Python type</p></th>
</tr>
</thead>
<tbody>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_bool" =
title=3D"ctypes.c_bool"><code class=3D"xref py py-class docutils literal no=
translate"><span class=3D"pre">c_bool</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">_Bool</span></code></p></td>
<td><p>bool (1)</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_char" t=
itle=3D"ctypes.c_char"><code class=3D"xref py py-class docutils literal not=
ranslate"><span class=3D"pre">c_char</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">char</span></code></p></td>
<td><p>1-character bytes object</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_wchar"=
 title=3D"ctypes.c_wchar"><code class=3D"xref py py-class docutils literal =
notranslate"><span class=3D"pre">c_wchar</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">wchar_t</span></code></p></td>
<td><p>1-character string</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_byte" t=
itle=3D"ctypes.c_byte"><code class=3D"xref py py-class docutils literal not=
ranslate"><span class=3D"pre">c_byte</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">char</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ubyte"=
 title=3D"ctypes.c_ubyte"><code class=3D"xref py py-class docutils literal =
notranslate"><span class=3D"pre">c_ubyte</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">unsigned</span> <span class=3D"pre">char</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_short" =
title=3D"ctypes.c_short"><code class=3D"xref py py-class docutils literal n=
otranslate"><span class=3D"pre">c_short</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">short</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ushort=
" title=3D"ctypes.c_ushort"><code class=3D"xref py py-class docutils litera=
l notranslate"><span class=3D"pre">c_ushort</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">unsigned</span> <span class=3D"pre">short</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int" ti=
tle=3D"ctypes.c_int"><code class=3D"xref py py-class docutils literal notra=
nslate"><span class=3D"pre">c_int</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">int</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_uint" =
title=3D"ctypes.c_uint"><code class=3D"xref py py-class docutils literal no=
translate"><span class=3D"pre">c_uint</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">unsigned</span> <span class=3D"pre">int</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_long" t=
itle=3D"ctypes.c_long"><code class=3D"xref py py-class docutils literal not=
ranslate"><span class=3D"pre">c_long</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">long</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ulong"=
 title=3D"ctypes.c_ulong"><code class=3D"xref py py-class docutils literal =
notranslate"><span class=3D"pre">c_ulong</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">unsigned</span> <span class=3D"pre">long</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_longlon=
g" title=3D"ctypes.c_longlong"><code class=3D"xref py py-class docutils lit=
eral notranslate"><span class=3D"pre">c_longlong</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">__int64</span></code> or <code class=3D"xref c c-type docutils l=
iteral notranslate"><span class=3D"pre">long</span> <span class=3D"pre">lon=
g</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ulongl=
ong" title=3D"ctypes.c_ulonglong"><code class=3D"xref py py-class docutils =
literal notranslate"><span class=3D"pre">c_ulonglong</span></code></a></p><=
/td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">unsigned</span> <span class=3D"pre">__int64</span></code> or
<code class=3D"xref c c-type docutils literal notranslate"><span class=3D"p=
re">unsigned</span> <span class=3D"pre">long</span> <span class=3D"pre">lon=
g</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_size_t"=
 title=3D"ctypes.c_size_t"><code class=3D"xref py py-class docutils literal=
 notranslate"><span class=3D"pre">c_size_t</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">size_t</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ssize_=
t" title=3D"ctypes.c_ssize_t"><code class=3D"xref py py-class docutils lite=
ral notranslate"><span class=3D"pre">c_ssize_t</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">ssize_t</span></code> or
<code class=3D"xref c c-type docutils literal notranslate"><span class=3D"p=
re">Py_ssize_t</span></code></p></td>
<td><p>int</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_float" =
title=3D"ctypes.c_float"><code class=3D"xref py py-class docutils literal n=
otranslate"><span class=3D"pre">c_float</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">float</span></code></p></td>
<td><p>float</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_double=
" title=3D"ctypes.c_double"><code class=3D"xref py py-class docutils litera=
l notranslate"><span class=3D"pre">c_double</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">double</span></code></p></td>
<td><p>float</p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_longdou=
ble" title=3D"ctypes.c_longdouble"><code class=3D"xref py py-class docutils=
 literal notranslate"><span class=3D"pre">c_longdouble</span></code></a></p=
></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">long</span> <span class=3D"pre">double</span></code></p></td>
<td><p>float</p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_char_p=
" title=3D"ctypes.c_char_p"><code class=3D"xref py py-class docutils litera=
l notranslate"><span class=3D"pre">c_char_p</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">char</span> <span class=3D"pre">*</span></code> (NUL terminated)=
</p></td>
<td><p>bytes object or <code class=3D"docutils literal notranslate"><span c=
lass=3D"pre">None</span></code></p></td>
</tr>
<tr class=3D"row-odd"><td><p><a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_wchar_p=
" title=3D"ctypes.c_wchar_p"><code class=3D"xref py py-class docutils liter=
al notranslate"><span class=3D"pre">c_wchar_p</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">wchar_t</span> <span class=3D"pre">*</span></code> (NUL terminat=
ed)</p></td>
<td><p>string or <code class=3D"docutils literal notranslate"><span class=
=3D"pre">None</span></code></p></td>
</tr>
<tr class=3D"row-even"><td><p><a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_void_p=
" title=3D"ctypes.c_void_p"><code class=3D"xref py py-class docutils litera=
l notranslate"><span class=3D"pre">c_void_p</span></code></a></p></td>
<td><p><code class=3D"xref c c-type docutils literal notranslate"><span cla=
ss=3D"pre">void</span> <span class=3D"pre">*</span></code></p></td>
<td><p>int or <code class=3D"docutils literal notranslate"><span class=3D"p=
re">None</span></code></p></td>
</tr>
</tbody>
</table>
<ol class=3D"arabic simple">
<li><p>The constructor accepts any object with a truth value.</p></li>
</ol>
<p>All these types can be created by calling them with an optional initiali=
zer of
the correct type and value:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">c_int</span><span class=3D"p">()</span>
<span class=3D"go">c_long(0)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c_wchar_p</span><s=
pan class=3D"p">(</span><span class=3D"s2">"Hello, World"</span><span class=
=3D"p">)</span>
<span class=3D"go">c_wchar_p(140018365411392)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c_ushort</span><sp=
an class=3D"p">(</span><span class=3D"o">-</span><span class=3D"mi">3</span=
><span class=3D"p">)</span>
<span class=3D"go">c_ushort(65533)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Since these types are mutable, their value can also be changed afterward=
s:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">i</span> <span class=3D"o">=3D</span> <span class=3D"n">c_int</span><spa=
n class=3D"p">(</span><span class=3D"mi">42</span><span class=3D"p">)</span=
>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">i</span><span class=3D"p">)</span>
<span class=3D"go">c_long(42)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">i</span><span class=3D"o">.</span><s=
pan class=3D"n">value</span><span class=3D"p">)</span>
<span class=3D"go">42</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">i</span><span clas=
s=3D"o">.</span><span class=3D"n">value</span> <span class=3D"o">=3D</span>=
 <span class=3D"o">-</span><span class=3D"mi">99</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">i</span><span class=3D"o">.</span><s=
pan class=3D"n">value</span><span class=3D"p">)</span>
<span class=3D"go">-99</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Assigning a new value to instances of the pointer types <a class=3D"refe=
rence internal" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#ctypes.c_char_p" title=3D"ctypes.c_char_p"><code class=3D"xre=
f py py-class docutils literal notranslate"><span class=3D"pre">c_char_p</s=
pan></code></a>,
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_wchar_p" title=3D"ctypes.c_wchar_p">=
<code class=3D"xref py py-class docutils literal notranslate"><span class=
=3D"pre">c_wchar_p</span></code></a>, and <a class=3D"reference internal" h=
ref=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#cty=
pes.c_void_p" title=3D"ctypes.c_void_p"><code class=3D"xref py py-class doc=
utils literal notranslate"><span class=3D"pre">c_void_p</span></code></a> c=
hanges the <em>memory location</em> they
point to, <em>not the contents</em> of the memory block (of course not, bec=
ause Python
bytes objects are immutable):</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">s</span> <span class=3D"o">=3D</span> <span class=3D"s2">"Hello, World"<=
/span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c_s</span> <span c=
lass=3D"o">=3D</span> <span class=3D"n">c_wchar_p</span><span class=3D"p">(=
</span><span class=3D"n">s</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">c_s</span><span class=3D"p">)</span>
<span class=3D"go">c_wchar_p(139966785747344)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">c_s</span><span class=3D"o">.</span>=
<span class=3D"n">value</span><span class=3D"p">)</span>
<span class=3D"go">Hello World</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c_s</span><span cl=
ass=3D"o">.</span><span class=3D"n">value</span> <span class=3D"o">=3D</spa=
n> <span class=3D"s2">"Hi, there"</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">c_s</span><span class=3D"p">)</span>=
              <span class=3D"c1"># the memory location has changed</span>
<span class=3D"go">c_wchar_p(139966783348904)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">c_s</span><span class=3D"o">.</span>=
<span class=3D"n">value</span><span class=3D"p">)</span>
<span class=3D"go">Hi, there</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">s</span><span class=3D"p">)</span>  =
              <span class=3D"c1"># first object is unchanged</span>
<span class=3D"go">Hello, World</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>You should be careful, however, not to pass them to functions expecting =
pointers
to mutable memory. If you need mutable memory blocks, <span class=3D"highli=
ghted">ctypes</span> has a
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.create_string_buffer" title=3D"ctypes.=
create_string_buffer"><code class=3D"xref py py-func docutils literal notra=
nslate"><span class=3D"pre">create_string_buffer()</span></code></a> functi=
on which creates these in various ways.  The
current memory block contents can be accessed (or changed) with the <code c=
lass=3D"docutils literal notranslate"><span class=3D"pre">raw</span></code>
property; if you want to access it as NUL terminated string, use the <code =
class=3D"docutils literal notranslate"><span class=3D"pre">value</span></co=
de>
property:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">p</span> <span cla=
ss=3D"o">=3D</span> <span class=3D"n">create_string_buffer</span><span clas=
s=3D"p">(</span><span class=3D"mi">3</span><span class=3D"p">)</span>      =
      <span class=3D"c1"># create a 3 byte buffer, initialized to NUL bytes=
</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">sizeof</span><span class=3D"p">(</sp=
an><span class=3D"n">p</span><span class=3D"p">),</span> <span class=3D"nb"=
>repr</span><span class=3D"p">(</span><span class=3D"n">p</span><span class=
=3D"o">.</span><span class=3D"n">raw</span><span class=3D"p">))</span>
<span class=3D"go">3 b'\x00\x00\x00'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">p</span> <span cla=
ss=3D"o">=3D</span> <span class=3D"n">create_string_buffer</span><span clas=
s=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"Hello"</span=
><span class=3D"p">)</span>     <span class=3D"c1"># create a buffer contai=
ning a NUL terminated string</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">sizeof</span><span class=3D"p">(</sp=
an><span class=3D"n">p</span><span class=3D"p">),</span> <span class=3D"nb"=
>repr</span><span class=3D"p">(</span><span class=3D"n">p</span><span class=
=3D"o">.</span><span class=3D"n">raw</span><span class=3D"p">))</span>
<span class=3D"go">6 b'Hello\x00'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"nb">repr</span><span class=3D"p">(</spa=
n><span class=3D"n">p</span><span class=3D"o">.</span><span class=3D"n">val=
ue</span><span class=3D"p">))</span>
<span class=3D"go">b'Hello'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">p</span> <span cla=
ss=3D"o">=3D</span> <span class=3D"n">create_string_buffer</span><span clas=
s=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"Hello"</span=
><span class=3D"p">,</span> <span class=3D"mi">10</span><span class=3D"p">)=
</span> <span class=3D"c1"># create a 10 byte buffer</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">sizeof</span><span class=3D"p">(</sp=
an><span class=3D"n">p</span><span class=3D"p">),</span> <span class=3D"nb"=
>repr</span><span class=3D"p">(</span><span class=3D"n">p</span><span class=
=3D"o">.</span><span class=3D"n">raw</span><span class=3D"p">))</span>
<span class=3D"go">10 b'Hello\x00\x00\x00\x00\x00'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">p</span><span clas=
s=3D"o">.</span><span class=3D"n">value</span> <span class=3D"o">=3D</span>=
 <span class=3D"sa">b</span><span class=3D"s2">"Hi"</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">sizeof</span><span class=3D"p">(</sp=
an><span class=3D"n">p</span><span class=3D"p">),</span> <span class=3D"nb"=
>repr</span><span class=3D"p">(</span><span class=3D"n">p</span><span class=
=3D"o">.</span><span class=3D"n">raw</span><span class=3D"p">))</span>
<span class=3D"go">10 b'Hi\x00lo\x00\x00\x00\x00\x00'</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>The <a class=3D"reference internal" href=3D"https://docs.python.org/3/li=
brary/ctypes.html?highlight=3Dctypes#ctypes.create_string_buffer" title=3D"=
ctypes.create_string_buffer"><code class=3D"xref py py-func docutils litera=
l notranslate"><span class=3D"pre">create_string_buffer()</span></code></a>=
 function replaces the <code class=3D"xref py py-func docutils literal notr=
anslate"><span class=3D"pre">c_buffer()</span></code> function
(which is still available as an alias), as well as the <code class=3D"xref =
py py-func docutils literal notranslate"><span class=3D"pre">c_string()</sp=
an></code> function
from earlier <span class=3D"highlighted">ctypes</span> releases.  To create=
 a mutable memory block containing
unicode characters of the C type <code class=3D"xref c c-type docutils lite=
ral notranslate"><span class=3D"pre">wchar_t</span></code> use the
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.create_unicode_buffer" title=3D"ctypes=
.create_unicode_buffer"><code class=3D"xref py py-func docutils literal not=
ranslate"><span class=3D"pre">create_unicode_buffer()</span></code></a> fun=
ction.</p>
</div>
<div class=3D"section" id=3D"calling-functions-continued">
<span id=3D"ctypes-calling-functions-continued"></span><h3>Calling function=
s, continued<a class=3D"headerlink" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#calling-functions-continued" title=3D"Per=
malink to this headline">=C2=B6</a></h3>
<p>Note that printf prints to the real standard output channel, <em>not</em=
> to
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/s=
ys.html#sys.stdout" title=3D"sys.stdout"><code class=3D"xref py py-data doc=
utils literal notranslate"><span class=3D"pre">sys.stdout</span></code></a>=
, so these examples will only work at the console prompt, not
from within <em>IDLE</em> or <em>PythonWin</em>:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">printf</span> <span class=3D"o">=3D</span> <span class=3D"n">libc</span>=
<span class=3D"o">.</span><span class=3D"n">printf</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">printf</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"Hello, =
</span><span class=3D"si">%s</span><span class=3D"se">\n</span><span class=
=3D"s2">"</span><span class=3D"p">,</span> <span class=3D"sa">b</span><span=
 class=3D"s2">"World!"</span><span class=3D"p">)</span>
<span class=3D"go">Hello, World!</span>
<span class=3D"go">14</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">printf</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"Hello, =
%S</span><span class=3D"se">\n</span><span class=3D"s2">"</span><span class=
=3D"p">,</span> <span class=3D"s2">"World!"</span><span class=3D"p">)</span=
>
<span class=3D"go">Hello, World!</span>
<span class=3D"go">14</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">printf</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"</span>=
<span class=3D"si">%d</span><span class=3D"s2"> bottles of beer</span><span=
 class=3D"se">\n</span><span class=3D"s2">"</span><span class=3D"p">,</span=
> <span class=3D"mi">42</span><span class=3D"p">)</span>
<span class=3D"go">42 bottles of beer</span>
<span class=3D"go">19</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">printf</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"</span>=
<span class=3D"si">%f</span><span class=3D"s2"> bottles of beer</span><span=
 class=3D"se">\n</span><span class=3D"s2">"</span><span class=3D"p">,</span=
> <span class=3D"mf">42.5</span><span class=3D"p">)</span>
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">ArgumentError</span><span>: </span><span class=3D"n">arg=
ument 2: exceptions.TypeError: Don't know how to convert parameter 2</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>As has been mentioned before, all Python types except integers, strings,=
 and
bytes objects have to be wrapped in their corresponding <a class=3D"referen=
ce internal" href=3D"https://docs.python.org/3/library/ctypes.html?highligh=
t=3Dctypes#module-ctypes" title=3D"ctypes: A foreign function library for P=
ython."><code class=3D"xref py py-mod docutils literal notranslate"><span c=
lass=3D"pre"><span class=3D"highlighted">ctypes</span></span></code></a> ty=
pe, so
that they can be converted to the required C data type:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">printf</span><span class=3D"p">(</span><span class=3D"sa">b</span><span =
class=3D"s2">"An int </span><span class=3D"si">%d</span><span class=3D"s2">=
, a double </span><span class=3D"si">%f</span><span class=3D"se">\n</span><=
span class=3D"s2">"</span><span class=3D"p">,</span> <span class=3D"mi">123=
4</span><span class=3D"p">,</span> <span class=3D"n">c_double</span><span c=
lass=3D"p">(</span><span class=3D"mf">3.14</span><span class=3D"p">))</span=
>
<span class=3D"go">An int 1234, a double 3.140000</span>
<span class=3D"go">31</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"calling-functions-with-your-own-custom-data-ty=
pes">
<span id=3D"ctypes-calling-functions-with-own-custom-data-types"></span><h3=
>Calling functions with your own custom data types<a class=3D"headerlink" h=
ref=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#cal=
ling-functions-with-your-own-custom-data-types" title=3D"Permalink to this =
headline">=C2=B6</a></h3>
<p>You can also customize <a class=3D"reference internal" href=3D"https://d=
ocs.python.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" titl=
e=3D"ctypes: A foreign function library for Python."><code class=3D"xref py=
 py-mod docutils literal notranslate"><span class=3D"pre"><span class=3D"hi=
ghlighted">ctypes</span></span></code></a> argument conversion to allow ins=
tances of
your own classes be used as function arguments.  <a class=3D"reference inte=
rnal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dcty=
pes#module-ctypes" title=3D"ctypes: A foreign function library for Python."=
><code class=3D"xref py py-mod docutils literal notranslate"><span class=3D=
"pre"><span class=3D"highlighted">ctypes</span></span></code></a> looks for=
 an
<code class=3D"xref py py-attr docutils literal notranslate"><span class=3D=
"pre">_as_parameter_</span></code> attribute and uses this as the function =
argument.  Of
course, it must be one of integer, string, or bytes:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">class</span> <span class=3D"nc">Bottles</span><span class=3D"p">:</span>
<span class=3D"gp">... </span>    <span class=3D"k">def</span> <span class=
=3D"fm">__init__</span><span class=3D"p">(</span><span class=3D"bp">self</s=
pan><span class=3D"p">,</span> <span class=3D"n">number</span><span class=
=3D"p">):</span>
<span class=3D"gp">... </span>        <span class=3D"bp">self</span><span c=
lass=3D"o">.</span><span class=3D"n">_as_parameter_</span> <span class=3D"o=
">=3D</span> <span class=3D"n">number</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">bottles</span> <sp=
an class=3D"o">=3D</span> <span class=3D"n">Bottles</span><span class=3D"p"=
>(</span><span class=3D"mi">42</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">printf</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"</span>=
<span class=3D"si">%d</span><span class=3D"s2"> bottles of beer</span><span=
 class=3D"se">\n</span><span class=3D"s2">"</span><span class=3D"p">,</span=
> <span class=3D"n">bottles</span><span class=3D"p">)</span>
<span class=3D"go">42 bottles of beer</span>
<span class=3D"go">19</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>If you don=E2=80=99t want to store the instance=E2=80=99s data in the <c=
ode class=3D"xref py py-attr docutils literal notranslate"><span class=3D"p=
re">_as_parameter_</span></code>
instance variable, you could define a <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/functions.html#property" title=3D"pro=
perty"><code class=3D"xref py py-class docutils literal notranslate"><span =
class=3D"pre">property</span></code></a> which makes the
attribute available on request.</p>
</div>
<div class=3D"section" id=3D"specifying-the-required-argument-types-functio=
n-prototypes">
<span id=3D"ctypes-specifying-required-argument-types"></span><h3>Specifyin=
g the required argument types (function prototypes)<a class=3D"headerlink" =
href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#sp=
ecifying-the-required-argument-types-function-prototypes" title=3D"Permalin=
k to this headline">=C2=B6</a></h3>
<p>It is possible to specify the required argument types of functions expor=
ted from
DLLs by setting the <code class=3D"xref py py-attr docutils literal notrans=
late"><span class=3D"pre">argtypes</span></code> attribute.</p>
<p><code class=3D"xref py py-attr docutils literal notranslate"><span class=
=3D"pre">argtypes</span></code> must be a sequence of C data types (the <co=
de class=3D"docutils literal notranslate"><span class=3D"pre">printf</span>=
</code> function is
probably not a good example here, because it takes a variable number and
different types of parameters depending on the format string, on the other =
hand
this is quite handy to experiment with this feature):</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">printf</span><span class=3D"o">.</span><span class=3D"n">argtypes</span>=
 <span class=3D"o">=3D</span> <span class=3D"p">[</span><span class=3D"n">c=
_char_p</span><span class=3D"p">,</span> <span class=3D"n">c_char_p</span><=
span class=3D"p">,</span> <span class=3D"n">c_int</span><span class=3D"p">,=
</span> <span class=3D"n">c_double</span><span class=3D"p">]</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">printf</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"String =
'</span><span class=3D"si">%s</span><span class=3D"s2">', Int </span><span =
class=3D"si">%d</span><span class=3D"s2">, Double </span><span class=3D"si"=
>%f</span><span class=3D"se">\n</span><span class=3D"s2">"</span><span clas=
s=3D"p">,</span> <span class=3D"sa">b</span><span class=3D"s2">"Hi"</span><=
span class=3D"p">,</span> <span class=3D"mi">10</span><span class=3D"p">,</=
span> <span class=3D"mf">2.2</span><span class=3D"p">)</span>
<span class=3D"go">String 'Hi', Int 10, Double 2.200000</span>
<span class=3D"go">37</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Specifying a format protects against incompatible argument types (just a=
s a
prototype for a C function), and tries to convert the arguments to valid ty=
pes:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">printf</span><span class=3D"p">(</span><span class=3D"sa">b</span><span =
class=3D"s2">"</span><span class=3D"si">%d</span><span class=3D"s2"> </span=
><span class=3D"si">%d</span><span class=3D"s2"> </span><span class=3D"si">=
%d</span><span class=3D"s2">"</span><span class=3D"p">,</span> <span class=
=3D"mi">1</span><span class=3D"p">,</span> <span class=3D"mi">2</span><span=
 class=3D"p">,</span> <span class=3D"mi">3</span><span class=3D"p">)</span>
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">ArgumentError</span><span>: </span><span class=3D"n">arg=
ument 2: exceptions.TypeError: wrong type</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">printf</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"</span>=
<span class=3D"si">%s</span><span class=3D"s2"> </span><span class=3D"si">%=
d</span><span class=3D"s2"> </span><span class=3D"si">%f</span><span class=
=3D"se">\n</span><span class=3D"s2">"</span><span class=3D"p">,</span> <spa=
n class=3D"sa">b</span><span class=3D"s2">"X"</span><span class=3D"p">,</sp=
an> <span class=3D"mi">2</span><span class=3D"p">,</span> <span class=3D"mi=
">3</span><span class=3D"p">)</span>
<span class=3D"go">X 2 3.000000</span>
<span class=3D"go">13</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>If you have defined your own classes which you pass to function calls, y=
ou have
to implement a <code class=3D"xref py py-meth docutils literal notranslate"=
><span class=3D"pre">from_param()</span></code> class method for them to be=
 able to use them
in the <code class=3D"xref py py-attr docutils literal notranslate"><span c=
lass=3D"pre">argtypes</span></code> sequence. The <code class=3D"xref py py=
-meth docutils literal notranslate"><span class=3D"pre">from_param()</span>=
</code> class method receives
the Python object passed to the function call, it should do a typecheck or
whatever is needed to make sure this object is acceptable, and then return =
the
object itself, its <code class=3D"xref py py-attr docutils literal notransl=
ate"><span class=3D"pre">_as_parameter_</span></code> attribute, or whateve=
r you want to
pass as the C function argument in this case. Again, the result should be a=
n
integer, string, bytes, a <a class=3D"reference internal" href=3D"https://d=
ocs.python.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" titl=
e=3D"ctypes: A foreign function library for Python."><code class=3D"xref py=
 py-mod docutils literal notranslate"><span class=3D"pre"><span class=3D"hi=
ghlighted">ctypes</span></span></code></a> instance, or an object with an
<code class=3D"xref py py-attr docutils literal notranslate"><span class=3D=
"pre">_as_parameter_</span></code> attribute.</p>
</div>
<div class=3D"section" id=3D"return-types">
<span id=3D"ctypes-return-types"></span><h3>Return types<a class=3D"headerl=
ink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctyp=
es#return-types" title=3D"Permalink to this headline">=C2=B6</a></h3>
<p>By default functions are assumed to return the C <code class=3D"xref c c=
-type docutils literal notranslate"><span class=3D"pre">int</span></code> t=
ype.  Other
return types can be specified by setting the <code class=3D"xref py py-attr=
 docutils literal notranslate"><span class=3D"pre">restype</span></code> at=
tribute of the
function object.</p>
<p>Here is a more advanced example, it uses the <code class=3D"docutils lit=
eral notranslate"><span class=3D"pre">strchr</span></code> function, which =
expects
a string pointer and a char, and returns a pointer to a string:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">strchr</span> <span class=3D"o">=3D</span> <span class=3D"n">libc</span>=
<span class=3D"o">.</span><span class=3D"n">strchr</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">strchr</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"abcdef"=
</span><span class=3D"p">,</span> <span class=3D"nb">ord</span><span class=
=3D"p">(</span><span class=3D"s2">"d"</span><span class=3D"p">))</span> =20
<span class=3D"go">8059983</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">strchr</span><span=
 class=3D"o">.</span><span class=3D"n">restype</span> <span class=3D"o">=3D=
</span> <span class=3D"n">c_char_p</span>    <span class=3D"c1"># c_char_p =
is a pointer to a string</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">strchr</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"abcdef"=
</span><span class=3D"p">,</span> <span class=3D"nb">ord</span><span class=
=3D"p">(</span><span class=3D"s2">"d"</span><span class=3D"p">))</span>
<span class=3D"go">b'def'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">strchr</span><span class=3D"p">(</sp=
an><span class=3D"sa">b</span><span class=3D"s2">"abcdef"</span><span class=
=3D"p">,</span> <span class=3D"nb">ord</span><span class=3D"p">(</span><spa=
n class=3D"s2">"x"</span><span class=3D"p">)))</span>
<span class=3D"go">None</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>If you want to avoid the <code class=3D"docutils literal notranslate"><s=
pan class=3D"pre">ord("x")</span></code> calls above, you can set the
<code class=3D"xref py py-attr docutils literal notranslate"><span class=3D=
"pre">argtypes</span></code> attribute, and the second argument will be con=
verted from a
single character Python bytes object into a C char:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">strchr</span><span class=3D"o">.</span><span class=3D"n">restype</span> =
<span class=3D"o">=3D</span> <span class=3D"n">c_char_p</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">strchr</span><span=
 class=3D"o">.</span><span class=3D"n">argtypes</span> <span class=3D"o">=
=3D</span> <span class=3D"p">[</span><span class=3D"n">c_char_p</span><span=
 class=3D"p">,</span> <span class=3D"n">c_char</span><span class=3D"p">]</s=
pan>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">strchr</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"abcdef"=
</span><span class=3D"p">,</span> <span class=3D"sa">b</span><span class=3D=
"s2">"d"</span><span class=3D"p">)</span>
<span class=3D"go">'def'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">strchr</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"abcdef"=
</span><span class=3D"p">,</span> <span class=3D"sa">b</span><span class=3D=
"s2">"def"</span><span class=3D"p">)</span>
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">ArgumentError</span><span>: </span><span class=3D"n">arg=
ument 2: exceptions.TypeError: one character string expected</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">strchr</span><span class=3D"p">(</sp=
an><span class=3D"sa">b</span><span class=3D"s2">"abcdef"</span><span class=
=3D"p">,</span> <span class=3D"sa">b</span><span class=3D"s2">"x"</span><sp=
an class=3D"p">))</span>
<span class=3D"go">None</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">strchr</span><span=
 class=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s2">"abcdef"=
</span><span class=3D"p">,</span> <span class=3D"sa">b</span><span class=3D=
"s2">"d"</span><span class=3D"p">)</span>
<span class=3D"go">'def'</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>You can also use a callable Python object (a function or a class for exa=
mple) as
the <code class=3D"xref py py-attr docutils literal notranslate"><span clas=
s=3D"pre">restype</span></code> attribute, if the foreign function returns =
an integer.  The
callable will be called with the <em>integer</em> the C function returns, a=
nd the
result of this call will be used as the result of your function call. This =
is
useful to check for error return values and automatically raise an exceptio=
n:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">GetModuleHandle</span> <span class=3D"o">=3D</span> <span class=3D"n">wi=
ndll</span><span class=3D"o">.</span><span class=3D"n">kernel32</span><span=
 class=3D"o">.</span><span class=3D"n">GetModuleHandleA</span> =20
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">def</span> <span c=
lass=3D"nf">ValidHandle</span><span class=3D"p">(</span><span class=3D"n">v=
alue</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"k">if</span> <span class=
=3D"n">value</span> <span class=3D"o">=3D=3D</span> <span class=3D"mi">0</s=
pan><span class=3D"p">:</span>
<span class=3D"gp">... </span>        <span class=3D"k">raise</span> <span =
class=3D"n">WinError</span><span class=3D"p">()</span>
<span class=3D"gp">... </span>    <span class=3D"k">return</span> <span cla=
ss=3D"n">value</span>
<span class=3D"gp">...</span>
<span class=3D"go">&gt;&gt;&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">GetModuleHandle</s=
pan><span class=3D"o">.</span><span class=3D"n">restype</span> <span class=
=3D"o">=3D</span> <span class=3D"n">ValidHandle</span> =20
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">GetModuleHandle</s=
pan><span class=3D"p">(</span><span class=3D"kc">None</span><span class=3D"=
p">)</span> =20
<span class=3D"go">486539264</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">GetModuleHandle</s=
pan><span class=3D"p">(</span><span class=3D"s2">"something silly"</span><s=
pan class=3D"p">)</span> =20
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">3</span><span>, in </span><span class=3D"n">ValidHandle</=
span>
<span class=3D"gr">OSError</span><span>: </span><span class=3D"n">[Errno 12=
6] The specified module could not be found.</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p><code class=3D"docutils literal notranslate"><span class=3D"pre">WinErro=
r</span></code> is a function which will call Windows <code class=3D"docuti=
ls literal notranslate"><span class=3D"pre">FormatMessage()</span></code> a=
pi to
get the string representation of an error code, and <em>returns</em> an exc=
eption.
<code class=3D"docutils literal notranslate"><span class=3D"pre">WinError</=
span></code> takes an optional error code parameter, if no one is used, it =
calls
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.GetLastError" title=3D"ctypes.GetLastE=
rror"><code class=3D"xref py py-func docutils literal notranslate"><span cl=
ass=3D"pre">GetLastError()</span></code></a> to retrieve it.</p>
<p>Please note that a much more powerful error checking mechanism is availa=
ble
through the <code class=3D"xref py py-attr docutils literal notranslate"><s=
pan class=3D"pre">errcheck</span></code> attribute; see the reference manua=
l for details.</p>
</div>
<div class=3D"section" id=3D"passing-pointers-or-passing-parameters-by-refe=
rence">
<span id=3D"ctypes-passing-pointers"></span><h3>Passing pointers (or: passi=
ng parameters by reference)<a class=3D"headerlink" href=3D"https://docs.pyt=
hon.org/3/library/ctypes.html?highlight=3Dctypes#passing-pointers-or-passin=
g-parameters-by-reference" title=3D"Permalink to this headline">=C2=B6</a><=
/h3>
<p>Sometimes a C api function expects a <em>pointer</em> to a data type as =
parameter,
probably to write into the corresponding location, or if the data is too la=
rge
to be passed by value. This is also known as <em>passing parameters by refe=
rence</em>.</p>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> exports the <a class=3D"reference internal" href=3D"htt=
ps://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.byref"=
 title=3D"ctypes.byref"><code class=3D"xref py py-func docutils literal not=
ranslate"><span class=3D"pre">byref()</span></code></a> function which is u=
sed to pass parameters
by reference.  The same effect can be achieved with the <a class=3D"referen=
ce internal" href=3D"https://docs.python.org/3/library/ctypes.html?highligh=
t=3Dctypes#ctypes.pointer" title=3D"ctypes.pointer"><code class=3D"xref py =
py-func docutils literal notranslate"><span class=3D"pre">pointer()</span><=
/code></a> function,
although <a class=3D"reference internal" href=3D"https://docs.python.org/3/=
library/ctypes.html?highlight=3Dctypes#ctypes.pointer" title=3D"ctypes.poin=
ter"><code class=3D"xref py py-func docutils literal notranslate"><span cla=
ss=3D"pre">pointer()</span></code></a> does a lot more work since it constr=
ucts a real pointer
object, so it is faster to use <a class=3D"reference internal" href=3D"http=
s://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.byref" =
title=3D"ctypes.byref"><code class=3D"xref py py-func docutils literal notr=
anslate"><span class=3D"pre">byref()</span></code></a> if you don=E2=80=99t=
 need the pointer
object in Python itself:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">i</span> <span class=3D"o">=3D</span> <span class=3D"n">c_int</span><spa=
n class=3D"p">()</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">f</span> <span cla=
ss=3D"o">=3D</span> <span class=3D"n">c_float</span><span class=3D"p">()</s=
pan>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">s</span> <span cla=
ss=3D"o">=3D</span> <span class=3D"n">create_string_buffer</span><span clas=
s=3D"p">(</span><span class=3D"sa">b</span><span class=3D"s1">'</span><span=
 class=3D"se">\000</span><span class=3D"s1">'</span> <span class=3D"o">*</s=
pan> <span class=3D"mi">32</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">i</span><span class=3D"o">.</span><s=
pan class=3D"n">value</span><span class=3D"p">,</span> <span class=3D"n">f<=
/span><span class=3D"o">.</span><span class=3D"n">value</span><span class=
=3D"p">,</span> <span class=3D"nb">repr</span><span class=3D"p">(</span><sp=
an class=3D"n">s</span><span class=3D"o">.</span><span class=3D"n">value</s=
pan><span class=3D"p">))</span>
<span class=3D"go">0 0.0 b''</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">libc</span><span c=
lass=3D"o">.</span><span class=3D"n">sscanf</span><span class=3D"p">(</span=
><span class=3D"sa">b</span><span class=3D"s2">"1 3.14 Hello"</span><span c=
lass=3D"p">,</span> <span class=3D"sa">b</span><span class=3D"s2">"</span><=
span class=3D"si">%d</span><span class=3D"s2"> </span><span class=3D"si">%f=
</span><span class=3D"s2"> </span><span class=3D"si">%s</span><span class=
=3D"s2">"</span><span class=3D"p">,</span>
<span class=3D"gp">... </span>            <span class=3D"n">byref</span><sp=
an class=3D"p">(</span><span class=3D"n">i</span><span class=3D"p">),</span=
> <span class=3D"n">byref</span><span class=3D"p">(</span><span class=3D"n"=
>f</span><span class=3D"p">),</span> <span class=3D"n">s</span><span class=
=3D"p">)</span>
<span class=3D"go">3</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">i</span><span class=3D"o">.</span><s=
pan class=3D"n">value</span><span class=3D"p">,</span> <span class=3D"n">f<=
/span><span class=3D"o">.</span><span class=3D"n">value</span><span class=
=3D"p">,</span> <span class=3D"nb">repr</span><span class=3D"p">(</span><sp=
an class=3D"n">s</span><span class=3D"o">.</span><span class=3D"n">value</s=
pan><span class=3D"p">))</span>
<span class=3D"go">1 3.1400001049 b'Hello'</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"structures-and-unions">
<span id=3D"ctypes-structures-unions"></span><h3>Structures and unions<a cl=
ass=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?hi=
ghlight=3Dctypes#structures-and-unions" title=3D"Permalink to this headline=
">=C2=B6</a></h3>
<p>Structures and unions must derive from the <a class=3D"reference interna=
l" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes=
#ctypes.Structure" title=3D"ctypes.Structure"><code class=3D"xref py py-cla=
ss docutils literal notranslate"><span class=3D"pre">Structure</span></code=
></a> and <a class=3D"reference internal" href=3D"https://docs.python.org/3=
/library/ctypes.html?highlight=3Dctypes#ctypes.Union" title=3D"ctypes.Union=
"><code class=3D"xref py py-class docutils literal notranslate"><span class=
=3D"pre">Union</span></code></a>
base classes which are defined in the <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#module=
-ctypes" title=3D"ctypes: A foreign function library for Python."><code cla=
ss=3D"xref py py-mod docutils literal notranslate"><span class=3D"pre"><spa=
n class=3D"highlighted">ctypes</span></span></code></a> module. Each subcla=
ss must
define a <code class=3D"xref py py-attr docutils literal notranslate"><span=
 class=3D"pre">_fields_</span></code> attribute.  <code class=3D"xref py py=
-attr docutils literal notranslate"><span class=3D"pre">_fields_</span></co=
de> must be a list of
<em>2-tuples</em>, containing a <em>field name</em> and a <em>field type</e=
m>.</p>
<p>The field type must be a <a class=3D"reference internal" href=3D"https:/=
/docs.python.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" ti=
tle=3D"ctypes: A foreign function library for Python."><code class=3D"xref =
py py-mod docutils literal notranslate"><span class=3D"pre"><span class=3D"=
highlighted">ctypes</span></span></code></a> type like <a class=3D"referenc=
e internal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=
=3Dctypes#ctypes.c_int" title=3D"ctypes.c_int"><code class=3D"xref py py-cl=
ass docutils literal notranslate"><span class=3D"pre">c_int</span></code></=
a>, or any other
derived <a class=3D"reference internal" href=3D"https://docs.python.org/3/l=
ibrary/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A for=
eign function library for Python."><code class=3D"xref py py-mod docutils l=
iteral notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes<=
/span></span></code></a> type: structure, union, array, pointer.</p>
<p>Here is a simple example of a POINT structure, which contains two intege=
rs named
<em>x</em> and <em>y</em>, and also shows how to initialize a structure in =
the constructor:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">class</span> <span=
 class=3D"nc">POINT</span><span class=3D"p">(</span><span class=3D"n">Struc=
ture</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">[(</span><span class=3D"s2">"x"</sp=
an><span class=3D"p">,</span> <span class=3D"n">c_int</span><span class=3D"=
p">),</span>
<span class=3D"gp">... </span>                <span class=3D"p">(</span><sp=
an class=3D"s2">"y"</span><span class=3D"p">,</span> <span class=3D"n">c_in=
t</span><span class=3D"p">)]</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">point</span> <span=
 class=3D"o">=3D</span> <span class=3D"n">POINT</span><span class=3D"p">(</=
span><span class=3D"mi">10</span><span class=3D"p">,</span> <span class=3D"=
mi">20</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">point</span><span class=3D"o">.</spa=
n><span class=3D"n">x</span><span class=3D"p">,</span> <span class=3D"n">po=
int</span><span class=3D"o">.</span><span class=3D"n">y</span><span class=
=3D"p">)</span>
<span class=3D"go">10 20</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">point</span> <span=
 class=3D"o">=3D</span> <span class=3D"n">POINT</span><span class=3D"p">(</=
span><span class=3D"n">y</span><span class=3D"o">=3D</span><span class=3D"m=
i">5</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">point</span><span class=3D"o">.</spa=
n><span class=3D"n">x</span><span class=3D"p">,</span> <span class=3D"n">po=
int</span><span class=3D"o">.</span><span class=3D"n">y</span><span class=
=3D"p">)</span>
<span class=3D"go">0 5</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">POINT</span><span =
class=3D"p">(</span><span class=3D"mi">1</span><span class=3D"p">,</span> <=
span class=3D"mi">2</span><span class=3D"p">,</span> <span class=3D"mi">3</=
span><span class=3D"p">)</span>
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">TypeError</span><span>: </span><span class=3D"n">too man=
y initializers</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>You can, however, build much more complicated structures.  A structure c=
an
itself contain other structures by using a structure as a field type.</p>
<p>Here is a RECT structure which contains two POINTs named <em>upperleft</=
em> and
<em>lowerright</em>:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">class</span> <span class=3D"nc">RECT</span><span class=3D"p">(</span><sp=
an class=3D"n">Structure</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">[(</span><span class=3D"s2">"upperl=
eft"</span><span class=3D"p">,</span> <span class=3D"n">POINT</span><span c=
lass=3D"p">),</span>
<span class=3D"gp">... </span>                <span class=3D"p">(</span><sp=
an class=3D"s2">"lowerright"</span><span class=3D"p">,</span> <span class=
=3D"n">POINT</span><span class=3D"p">)]</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">rc</span> <span cl=
ass=3D"o">=3D</span> <span class=3D"n">RECT</span><span class=3D"p">(</span=
><span class=3D"n">point</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">rc</span><span class=3D"o">.</span><=
span class=3D"n">upperleft</span><span class=3D"o">.</span><span class=3D"n=
">x</span><span class=3D"p">,</span> <span class=3D"n">rc</span><span class=
=3D"o">.</span><span class=3D"n">upperleft</span><span class=3D"o">.</span>=
<span class=3D"n">y</span><span class=3D"p">)</span>
<span class=3D"go">0 5</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">rc</span><span class=3D"o">.</span><=
span class=3D"n">lowerright</span><span class=3D"o">.</span><span class=3D"=
n">x</span><span class=3D"p">,</span> <span class=3D"n">rc</span><span clas=
s=3D"o">.</span><span class=3D"n">lowerright</span><span class=3D"o">.</spa=
n><span class=3D"n">y</span><span class=3D"p">)</span>
<span class=3D"go">0 0</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Nested structures can also be initialized in the constructor in several =
ways:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">r</span> <span class=3D"o">=3D</span> <span class=3D"n">RECT</span><span=
 class=3D"p">(</span><span class=3D"n">POINT</span><span class=3D"p">(</spa=
n><span class=3D"mi">1</span><span class=3D"p">,</span> <span class=3D"mi">=
2</span><span class=3D"p">),</span> <span class=3D"n">POINT</span><span cla=
ss=3D"p">(</span><span class=3D"mi">3</span><span class=3D"p">,</span> <spa=
n class=3D"mi">4</span><span class=3D"p">))</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">r</span> <span cla=
ss=3D"o">=3D</span> <span class=3D"n">RECT</span><span class=3D"p">((</span=
><span class=3D"mi">1</span><span class=3D"p">,</span> <span class=3D"mi">2=
</span><span class=3D"p">),</span> <span class=3D"p">(</span><span class=3D=
"mi">3</span><span class=3D"p">,</span> <span class=3D"mi">4</span><span cl=
ass=3D"p">))</span>
</pre></div>
</div>
<p>Field <a class=3D"reference internal" href=3D"https://docs.python.org/3/=
glossary.html#term-descriptor"><span class=3D"xref std std-term">descriptor=
</span></a>s can be retrieved from the <em>class</em>, they are useful
for debugging because they can provide useful information:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
nb">print</span><span class=3D"p">(</span><span class=3D"n">POINT</span><sp=
an class=3D"o">.</span><span class=3D"n">x</span><span class=3D"p">)</span>
<span class=3D"go">&lt;Field type=3Dc_long, ofs=3D0, size=3D4&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">POINT</span><span class=3D"o">.</spa=
n><span class=3D"n">y</span><span class=3D"p">)</span>
<span class=3D"go">&lt;Field type=3Dc_long, ofs=3D4, size=3D4&gt;</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class=3D"admonition warning" id=3D"ctypes-structureunion-alignment-byt=
e-order">
<p class=3D"admonition-title">Warning</p>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> does not support passing unions or structures with bit-=
fields
to functions by value.  While this may work on 32-bit x86, it=E2=80=99s not
guaranteed by the library to work in the general case.  Unions and
structures with bit-fields should always be passed to functions by pointer.=
</p>
</div>
</div>
<div class=3D"section" id=3D"structure-union-alignment-and-byte-order">
<h3>Structure/union alignment and byte order<a class=3D"headerlink" href=3D=
"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#structure=
-union-alignment-and-byte-order" title=3D"Permalink to this headline">=C2=
=B6</a></h3>
<p>By default, Structure and Union fields are aligned in the same way the C
compiler does it. It is possible to override this behavior by specifying a
<code class=3D"xref py py-attr docutils literal notranslate"><span class=3D=
"pre">_pack_</span></code> class attribute in the subclass definition. This=
 must be set to a
positive integer and specifies the maximum alignment for the fields. This i=
s
what <code class=3D"docutils literal notranslate"><span class=3D"pre">#prag=
ma</span> <span class=3D"pre">pack(n)</span></code> also does in MSVC.</p>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> uses the native byte order for Structures and Unions.  =
To build
structures with non-native byte order, you can use one of the
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.BigEndianStructure" title=3D"ctypes.Bi=
gEndianStructure"><code class=3D"xref py py-class docutils literal notransl=
ate"><span class=3D"pre">BigEndianStructure</span></code></a>, <a class=3D"=
reference internal" href=3D"https://docs.python.org/3/library/ctypes.html?h=
ighlight=3Dctypes#ctypes.LittleEndianStructure" title=3D"ctypes.LittleEndia=
nStructure"><code class=3D"xref py py-class docutils literal notranslate"><=
span class=3D"pre">LittleEndianStructure</span></code></a>,
<code class=3D"xref py py-class docutils literal notranslate"><span class=
=3D"pre">BigEndianUnion</span></code>, and <code class=3D"xref py py-class =
docutils literal notranslate"><span class=3D"pre">LittleEndianUnion</span><=
/code> base classes.  These
classes cannot contain pointer fields.</p>
</div>
<div class=3D"section" id=3D"bit-fields-in-structures-and-unions">
<span id=3D"ctypes-bit-fields-in-structures-unions"></span><h3>Bit fields i=
n structures and unions<a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#bit-fields-in-structures-and-u=
nions" title=3D"Permalink to this headline">=C2=B6</a></h3>
<p>It is possible to create structures and unions containing bit fields. Bi=
t fields
are only possible for integer fields, the bit width is specified as the thi=
rd
item in the <code class=3D"xref py py-attr docutils literal notranslate"><s=
pan class=3D"pre">_fields_</span></code> tuples:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">class</span> <span class=3D"nc">Int</span><span class=3D"p">(</span><spa=
n class=3D"n">Structure</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">[(</span><span class=3D"s2">"first_=
16"</span><span class=3D"p">,</span> <span class=3D"n">c_int</span><span cl=
ass=3D"p">,</span> <span class=3D"mi">16</span><span class=3D"p">),</span>
<span class=3D"gp">... </span>                <span class=3D"p">(</span><sp=
an class=3D"s2">"second_16"</span><span class=3D"p">,</span> <span class=3D=
"n">c_int</span><span class=3D"p">,</span> <span class=3D"mi">16</span><spa=
n class=3D"p">)]</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">Int</span><span class=3D"o">.</span>=
<span class=3D"n">first_16</span><span class=3D"p">)</span>
<span class=3D"go">&lt;Field type=3Dc_long, ofs=3D0:0, bits=3D16&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">Int</span><span class=3D"o">.</span>=
<span class=3D"n">second_16</span><span class=3D"p">)</span>
<span class=3D"go">&lt;Field type=3Dc_long, ofs=3D0:16, bits=3D16&gt;</span=
>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"arrays">
<span id=3D"ctypes-arrays"></span><h3>Arrays<a class=3D"headerlink" href=3D=
"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#arrays" t=
itle=3D"Permalink to this headline">=C2=B6</a></h3>
<p>Arrays are sequences, containing a fixed number of instances of the same=
 type.</p>
<p>The recommended way to create array types is by multiplying a data type =
with a
positive integer:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"n">TenPointsArray=
Type</span> <span class=3D"o">=3D</span> <span class=3D"n">POINT</span> <sp=
an class=3D"o">*</span> <span class=3D"mi">10</span>
</pre></div>
</div>
<p>Here is an example of a somewhat artificial data type, a structure conta=
ining 4
POINTs among other stuff:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">class</span> <span=
 class=3D"nc">POINT</span><span class=3D"p">(</span><span class=3D"n">Struc=
ture</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">(</span><span class=3D"s2">"x"</spa=
n><span class=3D"p">,</span> <span class=3D"n">c_int</span><span class=3D"p=
">),</span> <span class=3D"p">(</span><span class=3D"s2">"y"</span><span cl=
ass=3D"p">,</span> <span class=3D"n">c_int</span><span class=3D"p">)</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">class</span> <span=
 class=3D"nc">MyStruct</span><span class=3D"p">(</span><span class=3D"n">St=
ructure</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">[(</span><span class=3D"s2">"a"</sp=
an><span class=3D"p">,</span> <span class=3D"n">c_int</span><span class=3D"=
p">),</span>
<span class=3D"gp">... </span>                <span class=3D"p">(</span><sp=
an class=3D"s2">"b"</span><span class=3D"p">,</span> <span class=3D"n">c_fl=
oat</span><span class=3D"p">),</span>
<span class=3D"gp">... </span>                <span class=3D"p">(</span><sp=
an class=3D"s2">"point_array"</span><span class=3D"p">,</span> <span class=
=3D"n">POINT</span> <span class=3D"o">*</span> <span class=3D"mi">4</span><=
span class=3D"p">)]</span>
<span class=3D"go">&gt;&gt;&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"nb">len</span><span class=3D"p">(</span=
><span class=3D"n">MyStruct</span><span class=3D"p">()</span><span class=3D=
"o">.</span><span class=3D"n">point_array</span><span class=3D"p">))</span>
<span class=3D"go">4</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Instances are created in the usual way, by calling the class:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"n">arr</span> <sp=
an class=3D"o">=3D</span> <span class=3D"n">TenPointsArrayType</span><span =
class=3D"p">()</span>
<span class=3D"k">for</span> <span class=3D"n">pt</span> <span class=3D"ow"=
>in</span> <span class=3D"n">arr</span><span class=3D"p">:</span>
    <span class=3D"nb">print</span><span class=3D"p">(</span><span class=3D=
"n">pt</span><span class=3D"o">.</span><span class=3D"n">x</span><span clas=
s=3D"p">,</span> <span class=3D"n">pt</span><span class=3D"o">.</span><span=
 class=3D"n">y</span><span class=3D"p">)</span>
</pre></div>
</div>
<p>The above code print a series of <code class=3D"docutils literal notrans=
late"><span class=3D"pre">0</span> <span class=3D"pre">0</span></code> line=
s, because the array contents is
initialized to zeros.</p>
<p>Initializers of the correct type can also be specified:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">TenIntegers</span>=
 <span class=3D"o">=3D</span> <span class=3D"n">c_int</span> <span class=3D=
"o">*</span> <span class=3D"mi">10</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">ii</span> <span cl=
ass=3D"o">=3D</span> <span class=3D"n">TenIntegers</span><span class=3D"p">=
(</span><span class=3D"mi">1</span><span class=3D"p">,</span> <span class=
=3D"mi">2</span><span class=3D"p">,</span> <span class=3D"mi">3</span><span=
 class=3D"p">,</span> <span class=3D"mi">4</span><span class=3D"p">,</span>=
 <span class=3D"mi">5</span><span class=3D"p">,</span> <span class=3D"mi">6=
</span><span class=3D"p">,</span> <span class=3D"mi">7</span><span class=3D=
"p">,</span> <span class=3D"mi">8</span><span class=3D"p">,</span> <span cl=
ass=3D"mi">9</span><span class=3D"p">,</span> <span class=3D"mi">10</span><=
span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">ii</span><span class=3D"p">)</span>
<span class=3D"go">&lt;c_long_Array_10 object at 0x...&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">for</span> <span c=
lass=3D"n">i</span> <span class=3D"ow">in</span> <span class=3D"n">ii</span=
><span class=3D"p">:</span> <span class=3D"nb">print</span><span class=3D"p=
">(</span><span class=3D"n">i</span><span class=3D"p">,</span> <span class=
=3D"n">end</span><span class=3D"o">=3D</span><span class=3D"s2">" "</span><=
span class=3D"p">)</span>
<span class=3D"gp">...</span>
<span class=3D"go">1 2 3 4 5 6 7 8 9 10</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"pointers">
<span id=3D"ctypes-pointers"></span><h3>Pointers<a class=3D"headerlink" hre=
f=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#point=
ers" title=3D"Permalink to this headline">=C2=B6</a></h3>
<p>Pointer instances are created by calling the <a class=3D"reference inter=
nal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctyp=
es#ctypes.pointer" title=3D"ctypes.pointer"><code class=3D"xref py py-func =
docutils literal notranslate"><span class=3D"pre">pointer()</span></code></=
a> function on a
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign fun=
ction library for Python."><code class=3D"xref py py-mod docutils literal n=
otranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span></=
span></code></a> type:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">i</span> <span cla=
ss=3D"o">=3D</span> <span class=3D"n">c_int</span><span class=3D"p">(</span=
><span class=3D"mi">42</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">pi</span> <span cl=
ass=3D"o">=3D</span> <span class=3D"n">pointer</span><span class=3D"p">(</s=
pan><span class=3D"n">i</span><span class=3D"p">)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Pointer instances have a <a class=3D"reference internal" href=3D"https:/=
/docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes._Pointer.c=
ontents" title=3D"ctypes._Pointer.contents"><code class=3D"xref py py-attr =
docutils literal notranslate"><span class=3D"pre">contents</span></code></a=
> attribute which
returns the object to which the pointer points, the <code class=3D"docutils=
 literal notranslate"><span class=3D"pre">i</span></code> object above:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">pi</span><span class=3D"o">.</span><span class=3D"n">contents</span>
<span class=3D"go">c_long(42)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Note that <a class=3D"reference internal" href=3D"https://docs.python.or=
g/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: =
A foreign function library for Python."><code class=3D"xref py py-mod docut=
ils literal notranslate"><span class=3D"pre"><span class=3D"highlighted">ct=
ypes</span></span></code></a> does not have OOR (original object return), i=
t constructs a
new, equivalent object each time you retrieve an attribute:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">pi</span><span class=3D"o">.</span><span class=3D"n">contents</span> <sp=
an class=3D"ow">is</span> <span class=3D"n">i</span>
<span class=3D"go">False</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">pi</span><span cla=
ss=3D"o">.</span><span class=3D"n">contents</span> <span class=3D"ow">is</s=
pan> <span class=3D"n">pi</span><span class=3D"o">.</span><span class=3D"n"=
>contents</span>
<span class=3D"go">False</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Assigning another <a class=3D"reference internal" href=3D"https://docs.p=
ython.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int" title=3D"c=
types.c_int"><code class=3D"xref py py-class docutils literal notranslate">=
<span class=3D"pre">c_int</span></code></a> instance to the pointer=E2=80=
=99s contents attribute
would cause the pointer to point to the memory location where this is store=
d:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">i</span> <span class=3D"o">=3D</span> <span class=3D"n">c_int</span><spa=
n class=3D"p">(</span><span class=3D"mi">99</span><span class=3D"p">)</span=
>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">pi</span><span cla=
ss=3D"o">.</span><span class=3D"n">contents</span> <span class=3D"o">=3D</s=
pan> <span class=3D"n">i</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">pi</span><span cla=
ss=3D"o">.</span><span class=3D"n">contents</span>
<span class=3D"go">c_long(99)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Pointer instances can also be indexed with integers:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">pi</span><span class=3D"p">[</span><span class=3D"mi">0</span><span clas=
s=3D"p">]</span>
<span class=3D"go">99</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Assigning to an integer index changes the pointed to value:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
nb">print</span><span class=3D"p">(</span><span class=3D"n">i</span><span c=
lass=3D"p">)</span>
<span class=3D"go">c_long(99)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">pi</span><span cla=
ss=3D"p">[</span><span class=3D"mi">0</span><span class=3D"p">]</span> <spa=
n class=3D"o">=3D</span> <span class=3D"mi">22</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">i</span><span class=3D"p">)</span>
<span class=3D"go">c_long(22)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>It is also possible to use indexes different from 0, but you must know w=
hat
you=E2=80=99re doing, just as in C: You can access or change arbitrary memo=
ry locations.
Generally you only use this feature if you receive a pointer from a C funct=
ion,
and you <em>know</em> that the pointer actually points to an array instead =
of a single
item.</p>
<p>Behind the scenes, the <a class=3D"reference internal" href=3D"https://d=
ocs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.pointer" tit=
le=3D"ctypes.pointer"><code class=3D"xref py py-func docutils literal notra=
nslate"><span class=3D"pre">pointer()</span></code></a> function does more =
than simply create
pointer instances, it has to create pointer <em>types</em> first. This is d=
one with the
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.POINTER" title=3D"ctypes.POINTER"><cod=
e class=3D"xref py py-func docutils literal notranslate"><span class=3D"pre=
">POINTER()</span></code></a> function, which accepts any <a class=3D"refer=
ence internal" href=3D"https://docs.python.org/3/library/ctypes.html?highli=
ght=3Dctypes#module-ctypes" title=3D"ctypes: A foreign function library for=
 Python."><code class=3D"xref py py-mod docutils literal notranslate"><span=
 class=3D"pre"><span class=3D"highlighted">ctypes</span></span></code></a> =
type, and returns a
new type:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">PI</span> <span class=3D"o">=3D</span> <span class=3D"n">POINTER</span><=
span class=3D"p">(</span><span class=3D"n">c_int</span><span class=3D"p">)<=
/span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">PI</span>
<span class=3D"go">&lt;class '<span class=3D"highlighted">ctypes</span>.LP_=
c_long'&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">PI</span><span cla=
ss=3D"p">(</span><span class=3D"mi">42</span><span class=3D"p">)</span>
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">TypeError</span><span>: </span><span class=3D"n">expecte=
d c_long instead of int</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">PI</span><span cla=
ss=3D"p">(</span><span class=3D"n">c_int</span><span class=3D"p">(</span><s=
pan class=3D"mi">42</span><span class=3D"p">))</span>
<span class=3D"go">&lt;<span class=3D"highlighted">ctypes</span>.LP_c_long =
object at 0x...&gt;</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Calling the pointer type without an argument creates a <code class=3D"do=
cutils literal notranslate"><span class=3D"pre">NULL</span></code> pointer.
<code class=3D"docutils literal notranslate"><span class=3D"pre">NULL</span=
></code> pointers have a <code class=3D"docutils literal notranslate"><span=
 class=3D"pre">False</span></code> boolean value:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">null_ptr</span> <span class=3D"o">=3D</span> <span class=3D"n">POINTER</=
span><span class=3D"p">(</span><span class=3D"n">c_int</span><span class=3D=
"p">)()</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"nb">bool</span><span class=3D"p">(</spa=
n><span class=3D"n">null_ptr</span><span class=3D"p">))</span>
<span class=3D"go">False</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> checks for <code class=3D"docutils literal notranslate"=
><span class=3D"pre">NULL</span></code> when dereferencing pointers (but de=
referencing
invalid non-<code class=3D"docutils literal notranslate"><span class=3D"pre=
">NULL</span></code> pointers would crash Python):</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">null_ptr</span><span class=3D"p">[</span><span class=3D"mi">0</span><spa=
n class=3D"p">]</span>
<span class=3D"gt">Traceback (most recent call last):</span>
    <span class=3D"o">....</span>
<span class=3D"gr">ValueError</span><span>: </span><span class=3D"n">NULL p=
ointer access</span>
<span class=3D"go">&gt;&gt;&gt;</span>

<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">null_ptr</span><sp=
an class=3D"p">[</span><span class=3D"mi">0</span><span class=3D"p">]</span=
> <span class=3D"o">=3D</span> <span class=3D"mi">1234</span>
<span class=3D"gt">Traceback (most recent call last):</span>
    <span class=3D"o">....</span>
<span class=3D"gr">ValueError</span><span>: </span><span class=3D"n">NULL p=
ointer access</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"type-conversions">
<span id=3D"ctypes-type-conversions"></span><h3>Type conversions<a class=3D=
"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highligh=
t=3Dctypes#type-conversions" title=3D"Permalink to this headline">=C2=B6</a=
></h3>
<p>Usually, <span class=3D"highlighted">ctypes</span> does strict type chec=
king.  This means, if you have
<code class=3D"docutils literal notranslate"><span class=3D"pre">POINTER(c_=
int)</span></code> in the <code class=3D"xref py py-attr docutils literal n=
otranslate"><span class=3D"pre">argtypes</span></code> list of a function o=
r as the type of
a member field in a structure definition, only instances of exactly the sam=
e
type are accepted.  There are some exceptions to this rule, where <span cla=
ss=3D"highlighted">ctypes</span> accepts
other objects.  For example, you can pass compatible array instances instea=
d of
pointer types.  So, for <code class=3D"docutils literal notranslate"><span =
class=3D"pre">POINTER(c_int)</span></code>, ctypes accepts an array of c_in=
t:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">class</span> <span class=3D"nc">Bar</span><span class=3D"p">(</span><spa=
n class=3D"n">Structure</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">[(</span><span class=3D"s2">"count"=
</span><span class=3D"p">,</span> <span class=3D"n">c_int</span><span class=
=3D"p">),</span> <span class=3D"p">(</span><span class=3D"s2">"values"</spa=
n><span class=3D"p">,</span> <span class=3D"n">POINTER</span><span class=3D=
"p">(</span><span class=3D"n">c_int</span><span class=3D"p">))]</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">bar</span> <span c=
lass=3D"o">=3D</span> <span class=3D"n">Bar</span><span class=3D"p">()</spa=
n>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">bar</span><span cl=
ass=3D"o">.</span><span class=3D"n">values</span> <span class=3D"o">=3D</sp=
an> <span class=3D"p">(</span><span class=3D"n">c_int</span> <span class=3D=
"o">*</span> <span class=3D"mi">3</span><span class=3D"p">)(</span><span cl=
ass=3D"mi">1</span><span class=3D"p">,</span> <span class=3D"mi">2</span><s=
pan class=3D"p">,</span> <span class=3D"mi">3</span><span class=3D"p">)</sp=
an>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">bar</span><span cl=
ass=3D"o">.</span><span class=3D"n">count</span> <span class=3D"o">=3D</spa=
n> <span class=3D"mi">3</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">for</span> <span c=
lass=3D"n">i</span> <span class=3D"ow">in</span> <span class=3D"nb">range</=
span><span class=3D"p">(</span><span class=3D"n">bar</span><span class=3D"o=
">.</span><span class=3D"n">count</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"nb">print</span><span clas=
s=3D"p">(</span><span class=3D"n">bar</span><span class=3D"o">.</span><span=
 class=3D"n">values</span><span class=3D"p">[</span><span class=3D"n">i</sp=
an><span class=3D"p">])</span>
<span class=3D"gp">...</span>
<span class=3D"go">1</span>
<span class=3D"go">2</span>
<span class=3D"go">3</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>In addition, if a function argument is explicitly declared to be a point=
er type
(such as <code class=3D"docutils literal notranslate"><span class=3D"pre">P=
OINTER(c_int)</span></code>) in <code class=3D"xref py py-attr docutils lit=
eral notranslate"><span class=3D"pre">argtypes</span></code>, an object of =
the pointed
type (<code class=3D"docutils literal notranslate"><span class=3D"pre">c_in=
t</span></code> in this case) can be passed to the function.  <span class=
=3D"highlighted">ctypes</span> will apply
the required <a class=3D"reference internal" href=3D"https://docs.python.or=
g/3/library/ctypes.html?highlight=3Dctypes#ctypes.byref" title=3D"ctypes.by=
ref"><code class=3D"xref py py-func docutils literal notranslate"><span cla=
ss=3D"pre">byref()</span></code></a> conversion in this case automatically.=
</p>
<p>To set a POINTER type field to <code class=3D"docutils literal notransla=
te"><span class=3D"pre">NULL</span></code>, you can assign <code class=3D"d=
ocutils literal notranslate"><span class=3D"pre">None</span></code>:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">bar</span><span class=3D"o">.</span><span class=3D"n">values</span> <spa=
n class=3D"o">=3D</span> <span class=3D"kc">None</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Sometimes you have instances of incompatible types.  In C, you can cast =
one type
into another type.  <a class=3D"reference internal" href=3D"https://docs.py=
thon.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"c=
types: A foreign function library for Python."><code class=3D"xref py py-mo=
d docutils literal notranslate"><span class=3D"pre"><span class=3D"highligh=
ted">ctypes</span></span></code></a> provides a <a class=3D"reference inter=
nal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctyp=
es#ctypes.cast" title=3D"ctypes.cast"><code class=3D"xref py py-func docuti=
ls literal notranslate"><span class=3D"pre">cast()</span></code></a> functi=
on which can be
used in the same way.  The <code class=3D"docutils literal notranslate"><sp=
an class=3D"pre">Bar</span></code> structure defined above accepts
<code class=3D"docutils literal notranslate"><span class=3D"pre">POINTER(c_=
int)</span></code> pointers or <a class=3D"reference internal" href=3D"http=
s://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int" =
title=3D"ctypes.c_int"><code class=3D"xref py py-class docutils literal not=
ranslate"><span class=3D"pre">c_int</span></code></a> arrays for its <code =
class=3D"docutils literal notranslate"><span class=3D"pre">values</span></c=
ode> field,
but not instances of other types:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">bar</span><span class=3D"o">.</span><span class=3D"n">values</span> <spa=
n class=3D"o">=3D</span> <span class=3D"p">(</span><span class=3D"n">c_byte=
</span> <span class=3D"o">*</span> <span class=3D"mi">4</span><span class=
=3D"p">)()</span>
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span>
<span class=3D"gr">TypeError</span><span>: </span><span class=3D"n">incompa=
tible types, c_byte_Array_4 instance instead of LP_c_long instance</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>For these cases, the <a class=3D"reference internal" href=3D"https://doc=
s.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.cast" title=3D=
"ctypes.cast"><code class=3D"xref py py-func docutils literal notranslate">=
<span class=3D"pre">cast()</span></code></a> function is handy.</p>
<p>The <a class=3D"reference internal" href=3D"https://docs.python.org/3/li=
brary/ctypes.html?highlight=3Dctypes#ctypes.cast" title=3D"ctypes.cast"><co=
de class=3D"xref py py-func docutils literal notranslate"><span class=3D"pr=
e">cast()</span></code></a> function can be used to cast a <span class=3D"h=
ighlighted">ctypes</span> instance into a pointer
to a different <span class=3D"highlighted">ctypes</span> data type.  <a cla=
ss=3D"reference internal" href=3D"https://docs.python.org/3/library/ctypes.=
html?highlight=3Dctypes#ctypes.cast" title=3D"ctypes.cast"><code class=3D"x=
ref py py-func docutils literal notranslate"><span class=3D"pre">cast()</sp=
an></code></a> takes two parameters, a ctypes
object that is or can be converted to a pointer of some kind, and a ctypes
pointer type.  It returns an instance of the second argument, which referen=
ces
the same memory block as the first argument:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">a</span> <span class=3D"o">=3D</span> <span class=3D"p">(</span><span cl=
ass=3D"n">c_byte</span> <span class=3D"o">*</span> <span class=3D"mi">4</sp=
an><span class=3D"p">)()</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">cast</span><span c=
lass=3D"p">(</span><span class=3D"n">a</span><span class=3D"p">,</span> <sp=
an class=3D"n">POINTER</span><span class=3D"p">(</span><span class=3D"n">c_=
int</span><span class=3D"p">))</span>
<span class=3D"go">&lt;<span class=3D"highlighted">ctypes</span>.LP_c_long =
object at ...&gt;</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>So, <a class=3D"reference internal" href=3D"https://docs.python.org/3/li=
brary/ctypes.html?highlight=3Dctypes#ctypes.cast" title=3D"ctypes.cast"><co=
de class=3D"xref py py-func docutils literal notranslate"><span class=3D"pr=
e">cast()</span></code></a> can be used to assign to the <code class=3D"doc=
utils literal notranslate"><span class=3D"pre">values</span></code> field o=
f <code class=3D"docutils literal notranslate"><span class=3D"pre">Bar</spa=
n></code> the
structure:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">bar</span> <span class=3D"o">=3D</span> <span class=3D"n">Bar</span><spa=
n class=3D"p">()</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">bar</span><span cl=
ass=3D"o">.</span><span class=3D"n">values</span> <span class=3D"o">=3D</sp=
an> <span class=3D"n">cast</span><span class=3D"p">((</span><span class=3D"=
n">c_byte</span> <span class=3D"o">*</span> <span class=3D"mi">4</span><spa=
n class=3D"p">)(),</span> <span class=3D"n">POINTER</span><span class=3D"p"=
>(</span><span class=3D"n">c_int</span><span class=3D"p">))</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">bar</span><span class=3D"o">.</span>=
<span class=3D"n">values</span><span class=3D"p">[</span><span class=3D"mi"=
>0</span><span class=3D"p">])</span>
<span class=3D"go">0</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"incomplete-types">
<span id=3D"ctypes-incomplete-types"></span><h3>Incomplete Types<a class=3D=
"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highligh=
t=3Dctypes#incomplete-types" title=3D"Permalink to this headline">=C2=B6</a=
></h3>
<p><em>Incomplete Types</em> are structures, unions or arrays whose members=
 are not yet
specified. In C, they are specified by forward declarations, which are defi=
ned
later:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"n">struct</span> =
<span class=3D"n">cell</span><span class=3D"p">;</span> <span class=3D"o">/=
*</span> <span class=3D"n">forward</span> <span class=3D"n">declaration</sp=
an> <span class=3D"o">*/</span>

<span class=3D"n">struct</span> <span class=3D"n">cell</span> <span class=
=3D"p">{</span>
    <span class=3D"n">char</span> <span class=3D"o">*</span><span class=3D"=
n">name</span><span class=3D"p">;</span>
    <span class=3D"n">struct</span> <span class=3D"n">cell</span> <span cla=
ss=3D"o">*</span><span class=3D"nb">next</span><span class=3D"p">;</span>
<span class=3D"p">};</span>
</pre></div>
</div>
<p>The straightforward translation into <span class=3D"highlighted">ctypes<=
/span> code would be this, but it does not
work:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">class</span> <span class=3D"nc">cell</span><span class=3D"p">(</span><sp=
an class=3D"n">Structure</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">[(</span><span class=3D"s2">"name"<=
/span><span class=3D"p">,</span> <span class=3D"n">c_char_p</span><span cla=
ss=3D"p">),</span>
<span class=3D"gp">... </span>                <span class=3D"p">(</span><sp=
an class=3D"s2">"next"</span><span class=3D"p">,</span> <span class=3D"n">P=
OINTER</span><span class=3D"p">(</span><span class=3D"n">cell</span><span c=
lass=3D"p">))]</span>
<span class=3D"gp">...</span>
<span class=3D"gt">Traceback (most recent call last):</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">1</span><span>, in </span><span class=3D"n">&lt;module&gt=
;</span><span>
  File </span><span class=3D"nb">"&lt;stdin&gt;"</span><span>, line </span>=
<span class=3D"m">2</span><span>, in </span><span class=3D"n">cell</span>
<span class=3D"gr">NameError</span><span>: </span><span class=3D"n">name 'c=
ell' is not defined</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>because the new <code class=3D"docutils literal notranslate"><span class=
=3D"pre">class</span> <span class=3D"pre">cell</span></code> is not availab=
le in the class statement itself.
In <a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a>, we can define the <code class=3D"docutils literal notr=
anslate"><span class=3D"pre">cell</span></code> class and set the <code cla=
ss=3D"xref py py-attr docutils literal notranslate"><span class=3D"pre">_fi=
elds_</span></code>
attribute later, after the class statement:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">class</span> <span=
 class=3D"nc">cell</span><span class=3D"p">(</span><span class=3D"n">Struct=
ure</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"k">pass</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">cell</span><span c=
lass=3D"o">.</span><span class=3D"n">_fields_</span> <span class=3D"o">=3D<=
/span> <span class=3D"p">[(</span><span class=3D"s2">"name"</span><span cla=
ss=3D"p">,</span> <span class=3D"n">c_char_p</span><span class=3D"p">),</sp=
an>
<span class=3D"gp">... </span>                 <span class=3D"p">(</span><s=
pan class=3D"s2">"next"</span><span class=3D"p">,</span> <span class=3D"n">=
POINTER</span><span class=3D"p">(</span><span class=3D"n">cell</span><span =
class=3D"p">))]</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Let=E2=80=99s try it. We create two instances of <code class=3D"docutils=
 literal notranslate"><span class=3D"pre">cell</span></code>, and let them =
point to each
other, and finally follow the pointer chain a few times:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">c1</span> <span class=3D"o">=3D</span> <span class=3D"n">cell</span><spa=
n class=3D"p">()</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c1</span><span cla=
ss=3D"o">.</span><span class=3D"n">name</span> <span class=3D"o">=3D</span>=
 <span class=3D"sa">b</span><span class=3D"s2">"foo"</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c2</span> <span cl=
ass=3D"o">=3D</span> <span class=3D"n">cell</span><span class=3D"p">()</spa=
n>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c2</span><span cla=
ss=3D"o">.</span><span class=3D"n">name</span> <span class=3D"o">=3D</span>=
 <span class=3D"sa">b</span><span class=3D"s2">"bar"</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c1</span><span cla=
ss=3D"o">.</span><span class=3D"n">next</span> <span class=3D"o">=3D</span>=
 <span class=3D"n">pointer</span><span class=3D"p">(</span><span class=3D"n=
">c2</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">c2</span><span cla=
ss=3D"o">.</span><span class=3D"n">next</span> <span class=3D"o">=3D</span>=
 <span class=3D"n">pointer</span><span class=3D"p">(</span><span class=3D"n=
">c1</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">p</span> <span cla=
ss=3D"o">=3D</span> <span class=3D"n">c1</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">for</span> <span c=
lass=3D"n">i</span> <span class=3D"ow">in</span> <span class=3D"nb">range</=
span><span class=3D"p">(</span><span class=3D"mi">8</span><span class=3D"p"=
>):</span>
<span class=3D"gp">... </span>    <span class=3D"nb">print</span><span clas=
s=3D"p">(</span><span class=3D"n">p</span><span class=3D"o">.</span><span c=
lass=3D"n">name</span><span class=3D"p">,</span> <span class=3D"n">end</spa=
n><span class=3D"o">=3D</span><span class=3D"s2">" "</span><span class=3D"p=
">)</span>
<span class=3D"gp">... </span>    <span class=3D"n">p</span> <span class=3D=
"o">=3D</span> <span class=3D"n">p</span><span class=3D"o">.</span><span cl=
ass=3D"n">next</span><span class=3D"p">[</span><span class=3D"mi">0</span><=
span class=3D"p">]</span>
<span class=3D"gp">...</span>
<span class=3D"go">foo bar foo bar foo bar foo bar</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"callback-functions">
<span id=3D"ctypes-callback-functions"></span><h3>Callback functions<a clas=
s=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?high=
light=3Dctypes#callback-functions" title=3D"Permalink to this headline">=C2=
=B6</a></h3>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> allows creating C callable function pointers from Pytho=
n callables.
These are sometimes called <em>callback functions</em>.</p>
<p>First, you must create a class for the callback function. The class know=
s the
calling convention, the return type, and the number and types of arguments =
this
function will receive.</p>
<p>The <a class=3D"reference internal" href=3D"https://docs.python.org/3/li=
brary/ctypes.html?highlight=3Dctypes#ctypes.CFUNCTYPE" title=3D"ctypes.CFUN=
CTYPE"><code class=3D"xref py py-func docutils literal notranslate"><span c=
lass=3D"pre">CFUNCTYPE()</span></code></a> factory function creates types f=
or callback functions
using the <code class=3D"docutils literal notranslate"><span class=3D"pre">=
cdecl</span></code> calling convention. On Windows, the <a class=3D"referen=
ce internal" href=3D"https://docs.python.org/3/library/ctypes.html?highligh=
t=3Dctypes#ctypes.WINFUNCTYPE" title=3D"ctypes.WINFUNCTYPE"><code class=3D"=
xref py py-func docutils literal notranslate"><span class=3D"pre">WINFUNCTY=
PE()</span></code></a>
factory function creates types for callback functions using the <code class=
=3D"docutils literal notranslate"><span class=3D"pre">stdcall</span></code>
calling convention.</p>
<p>Both of these factory functions are called with the result type as first
argument, and the callback functions expected argument types as the remaini=
ng
arguments.</p>
<p>I will present an example here which uses the standard C library=E2=80=
=99s
<code class=3D"xref c c-func docutils literal notranslate"><span class=3D"p=
re">qsort()</span></code> function, that is used to sort items with the hel=
p of a callback
function.  <code class=3D"xref c c-func docutils literal notranslate"><span=
 class=3D"pre">qsort()</span></code> will be used to sort an array of integ=
ers:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">IntArray5</span> <span class=3D"o">=3D</span> <span class=3D"n">c_int</s=
pan> <span class=3D"o">*</span> <span class=3D"mi">5</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">ia</span> <span cl=
ass=3D"o">=3D</span> <span class=3D"n">IntArray5</span><span class=3D"p">(<=
/span><span class=3D"mi">5</span><span class=3D"p">,</span> <span class=3D"=
mi">1</span><span class=3D"p">,</span> <span class=3D"mi">7</span><span cla=
ss=3D"p">,</span> <span class=3D"mi">33</span><span class=3D"p">,</span> <s=
pan class=3D"mi">99</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">qsort</span> <span=
 class=3D"o">=3D</span> <span class=3D"n">libc</span><span class=3D"o">.</s=
pan><span class=3D"n">qsort</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">qsort</span><span =
class=3D"o">.</span><span class=3D"n">restype</span> <span class=3D"o">=3D<=
/span> <span class=3D"kc">None</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p><code class=3D"xref py py-func docutils literal notranslate"><span class=
=3D"pre">qsort()</span></code> must be called with a pointer to the data to=
 sort, the number of
items in the data array, the size of one item, and a pointer to the compari=
son
function, the callback. The callback will then be called with two pointers =
to
items, and it must return a negative integer if the first item is smaller t=
han
the second, a zero if they are equal, and a positive integer otherwise.</p>
<p>So our callback function receives pointers to integers, and must return =
an
integer. First we create the <code class=3D"docutils literal notranslate"><=
span class=3D"pre">type</span></code> for the callback function:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">CMPFUNC</span> <span class=3D"o">=3D</span> <span class=3D"n">CFUNCTYPE<=
/span><span class=3D"p">(</span><span class=3D"n">c_int</span><span class=
=3D"p">,</span> <span class=3D"n">POINTER</span><span class=3D"p">(</span><=
span class=3D"n">c_int</span><span class=3D"p">),</span> <span class=3D"n">=
POINTER</span><span class=3D"p">(</span><span class=3D"n">c_int</span><span=
 class=3D"p">))</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>To get started, here is a simple callback that shows the values it gets
passed:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">def</span> <span class=3D"nf">py_cmp_func</span><span class=3D"p">(</spa=
n><span class=3D"n">a</span><span class=3D"p">,</span> <span class=3D"n">b<=
/span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"nb">print</span><span clas=
s=3D"p">(</span><span class=3D"s2">"py_cmp_func"</span><span class=3D"p">,<=
/span> <span class=3D"n">a</span><span class=3D"p">[</span><span class=3D"m=
i">0</span><span class=3D"p">],</span> <span class=3D"n">b</span><span clas=
s=3D"p">[</span><span class=3D"mi">0</span><span class=3D"p">])</span>
<span class=3D"gp">... </span>    <span class=3D"k">return</span> <span cla=
ss=3D"mi">0</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">cmp_func</span> <s=
pan class=3D"o">=3D</span> <span class=3D"n">CMPFUNC</span><span class=3D"p=
">(</span><span class=3D"n">py_cmp_func</span><span class=3D"p">)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>The result:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">qsort</span><span class=3D"p">(</span><span class=3D"n">ia</span><span c=
lass=3D"p">,</span> <span class=3D"nb">len</span><span class=3D"p">(</span>=
<span class=3D"n">ia</span><span class=3D"p">),</span> <span class=3D"n">si=
zeof</span><span class=3D"p">(</span><span class=3D"n">c_int</span><span cl=
ass=3D"p">),</span> <span class=3D"n">cmp_func</span><span class=3D"p">)</s=
pan> =20
<span class=3D"go">py_cmp_func 5 1</span>
<span class=3D"go">py_cmp_func 33 99</span>
<span class=3D"go">py_cmp_func 7 33</span>
<span class=3D"go">py_cmp_func 5 7</span>
<span class=3D"go">py_cmp_func 1 7</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Now we can actually compare the two items and return a useful result:</p=
>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">def</span> <span class=3D"nf">py_cmp_func</span><span class=3D"p">(</spa=
n><span class=3D"n">a</span><span class=3D"p">,</span> <span class=3D"n">b<=
/span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"nb">print</span><span clas=
s=3D"p">(</span><span class=3D"s2">"py_cmp_func"</span><span class=3D"p">,<=
/span> <span class=3D"n">a</span><span class=3D"p">[</span><span class=3D"m=
i">0</span><span class=3D"p">],</span> <span class=3D"n">b</span><span clas=
s=3D"p">[</span><span class=3D"mi">0</span><span class=3D"p">])</span>
<span class=3D"gp">... </span>    <span class=3D"k">return</span> <span cla=
ss=3D"n">a</span><span class=3D"p">[</span><span class=3D"mi">0</span><span=
 class=3D"p">]</span> <span class=3D"o">-</span> <span class=3D"n">b</span>=
<span class=3D"p">[</span><span class=3D"mi">0</span><span class=3D"p">]</s=
pan>
<span class=3D"gp">...</span>
<span class=3D"go">&gt;&gt;&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">qsort</span><span =
class=3D"p">(</span><span class=3D"n">ia</span><span class=3D"p">,</span> <=
span class=3D"nb">len</span><span class=3D"p">(</span><span class=3D"n">ia<=
/span><span class=3D"p">),</span> <span class=3D"n">sizeof</span><span clas=
s=3D"p">(</span><span class=3D"n">c_int</span><span class=3D"p">),</span> <=
span class=3D"n">CMPFUNC</span><span class=3D"p">(</span><span class=3D"n">=
py_cmp_func</span><span class=3D"p">))</span>=20
<span class=3D"go">py_cmp_func 5 1</span>
<span class=3D"go">py_cmp_func 33 99</span>
<span class=3D"go">py_cmp_func 7 33</span>
<span class=3D"go">py_cmp_func 1 7</span>
<span class=3D"go">py_cmp_func 5 7</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>As we can easily check, our array is sorted now:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">for</span> <span class=3D"n">i</span> <span class=3D"ow">in</span> <span=
 class=3D"n">ia</span><span class=3D"p">:</span> <span class=3D"nb">print</=
span><span class=3D"p">(</span><span class=3D"n">i</span><span class=3D"p">=
,</span> <span class=3D"n">end</span><span class=3D"o">=3D</span><span clas=
s=3D"s2">" "</span><span class=3D"p">)</span>
<span class=3D"gp">...</span>
<span class=3D"go">1 5 7 33 99</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>The function factories can be used as decorator factories, so we may as =
well
write:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
nd">@CFUNCTYPE</span><span class=3D"p">(</span><span class=3D"n">c_int</spa=
n><span class=3D"p">,</span> <span class=3D"n">POINTER</span><span class=3D=
"p">(</span><span class=3D"n">c_int</span><span class=3D"p">),</span> <span=
 class=3D"n">POINTER</span><span class=3D"p">(</span><span class=3D"n">c_in=
t</span><span class=3D"p">))</span>
<span class=3D"gp">... </span><span class=3D"k">def</span> <span class=3D"n=
f">py_cmp_func</span><span class=3D"p">(</span><span class=3D"n">a</span><s=
pan class=3D"p">,</span> <span class=3D"n">b</span><span class=3D"p">):</sp=
an>
<span class=3D"gp">... </span>    <span class=3D"nb">print</span><span clas=
s=3D"p">(</span><span class=3D"s2">"py_cmp_func"</span><span class=3D"p">,<=
/span> <span class=3D"n">a</span><span class=3D"p">[</span><span class=3D"m=
i">0</span><span class=3D"p">],</span> <span class=3D"n">b</span><span clas=
s=3D"p">[</span><span class=3D"mi">0</span><span class=3D"p">])</span>
<span class=3D"gp">... </span>    <span class=3D"k">return</span> <span cla=
ss=3D"n">a</span><span class=3D"p">[</span><span class=3D"mi">0</span><span=
 class=3D"p">]</span> <span class=3D"o">-</span> <span class=3D"n">b</span>=
<span class=3D"p">[</span><span class=3D"mi">0</span><span class=3D"p">]</s=
pan>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">qsort</span><span =
class=3D"p">(</span><span class=3D"n">ia</span><span class=3D"p">,</span> <=
span class=3D"nb">len</span><span class=3D"p">(</span><span class=3D"n">ia<=
/span><span class=3D"p">),</span> <span class=3D"n">sizeof</span><span clas=
s=3D"p">(</span><span class=3D"n">c_int</span><span class=3D"p">),</span> <=
span class=3D"n">py_cmp_func</span><span class=3D"p">)</span>
<span class=3D"go">py_cmp_func 5 1</span>
<span class=3D"go">py_cmp_func 33 99</span>
<span class=3D"go">py_cmp_func 7 33</span>
<span class=3D"go">py_cmp_func 1 7</span>
<span class=3D"go">py_cmp_func 5 7</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class=3D"admonition note">
<p class=3D"admonition-title">Note</p>
<p>Make sure you keep references to <a class=3D"reference internal" href=3D=
"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.CF=
UNCTYPE" title=3D"ctypes.CFUNCTYPE"><code class=3D"xref py py-func docutils=
 literal notranslate"><span class=3D"pre">CFUNCTYPE()</span></code></a> obj=
ects as long as they
are used from C code. <a class=3D"reference internal" href=3D"https://docs.=
python.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D=
"ctypes: A foreign function library for Python."><code class=3D"xref py py-=
mod docutils literal notranslate"><span class=3D"pre"><span class=3D"highli=
ghted">ctypes</span></span></code></a> doesn=E2=80=99t, and if you don=E2=
=80=99t, they may be
garbage collected, crashing your program when a callback is made.</p>
<p>Also, note that if the callback function is called in a thread created
outside of Python=E2=80=99s control (e.g. by the foreign code that calls th=
e
callback), <span class=3D"highlighted">ctypes</span> creates a new dummy Py=
thon thread on every invocation. This
behavior is correct for most purposes, but it means that values stored with
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/t=
hreading.html#threading.local" title=3D"threading.local"><code class=3D"xre=
f py py-class docutils literal notranslate"><span class=3D"pre">threading.l=
ocal</span></code></a> will <em>not</em> survive across different callbacks=
, even when
those calls are made from the same C thread.</p>
</div>
</div>
<div class=3D"section" id=3D"accessing-values-exported-from-dlls">
<span id=3D"ctypes-accessing-values-exported-from-dlls"></span><h3>Accessin=
g values exported from dlls<a class=3D"headerlink" href=3D"https://docs.pyt=
hon.org/3/library/ctypes.html?highlight=3Dctypes#accessing-values-exported-=
from-dlls" title=3D"Permalink to this headline">=C2=B6</a></h3>
<p>Some shared libraries not only export functions, they also export variab=
les. An
example in the Python library itself is the <a class=3D"reference internal"=
 href=3D"https://docs.python.org/3/c-api/init.html#c.Py_OptimizeFlag" title=
=3D"Py_OptimizeFlag"><code class=3D"xref c c-data docutils literal notransl=
ate"><span class=3D"pre">Py_OptimizeFlag</span></code></a>, an integer
set to 0, 1, or 2, depending on the <a class=3D"reference internal" href=3D=
"https://docs.python.org/3/using/cmdline.html#cmdoption-o"><code class=3D"x=
ref std std-option docutils literal notranslate"><span class=3D"pre">-O</sp=
an></code></a> or <a class=3D"reference internal" href=3D"https://docs.pyth=
on.org/3/using/cmdline.html#cmdoption-oo"><code class=3D"xref std std-optio=
n docutils literal notranslate"><span class=3D"pre">-OO</span></code></a> f=
lag given on
startup.</p>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> can access values like this with the <code class=3D"xre=
f py py-meth docutils literal notranslate"><span class=3D"pre">in_dll()</sp=
an></code> class methods of
the type.  <em>pythonapi</em> is a predefined symbol giving access to the P=
ython C
api:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">opt_flag</span> <span class=3D"o">=3D</span> <span class=3D"n">c_int</sp=
an><span class=3D"o">.</span><span class=3D"n">in_dll</span><span class=3D"=
p">(</span><span class=3D"n">pythonapi</span><span class=3D"p">,</span> <sp=
an class=3D"s2">"Py_OptimizeFlag"</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">opt_flag</span><span class=3D"p">)</=
span>
<span class=3D"go">c_long(0)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>If the interpreter would have been started with <a class=3D"reference in=
ternal" href=3D"https://docs.python.org/3/using/cmdline.html#cmdoption-o"><=
code class=3D"xref std std-option docutils literal notranslate"><span class=
=3D"pre">-O</span></code></a>, the sample would
have printed <code class=3D"docutils literal notranslate"><span class=3D"pr=
e">c_long(1)</span></code>, or <code class=3D"docutils literal notranslate"=
><span class=3D"pre">c_long(2)</span></code> if <a class=3D"reference inter=
nal" href=3D"https://docs.python.org/3/using/cmdline.html#cmdoption-oo"><co=
de class=3D"xref std std-option docutils literal notranslate"><span class=
=3D"pre">-OO</span></code></a> would have been
specified.</p>
<p>An extended example which also demonstrates the use of pointers accesses=
 the
<a class=3D"reference internal" href=3D"https://docs.python.org/3/c-api/imp=
ort.html#c.PyImport_FrozenModules" title=3D"PyImport_FrozenModules"><code c=
lass=3D"xref c c-data docutils literal notranslate"><span class=3D"pre">PyI=
mport_FrozenModules</span></code></a> pointer exported by Python.</p>
<p>Quoting the docs for that value:</p>
<blockquote>
<div><p>This pointer is initialized to point to an array of <code class=3D"=
xref c c-type docutils literal notranslate"><span class=3D"pre">struct</spa=
n> <span class=3D"pre">_frozen</span></code>
records, terminated by one whose members are all <code class=3D"docutils li=
teral notranslate"><span class=3D"pre">NULL</span></code> or zero.  When a =
frozen
module is imported, it is searched in this table.  Third-party code could p=
lay
tricks with this to provide a dynamically created collection of frozen modu=
les.</p>
</div></blockquote>
<p>So manipulating this pointer could even prove useful. To restrict the ex=
ample
size, we show only how this table can be read with <a class=3D"reference in=
ternal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dc=
types#module-ctypes" title=3D"ctypes: A foreign function library for Python=
."><code class=3D"xref py py-mod docutils literal notranslate"><span class=
=3D"pre"><span class=3D"highlighted">ctypes</span></span></code></a>:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"go">&gt;&gt;&gt;</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">class</span> <span=
 class=3D"nc">struct_frozen</span><span class=3D"p">(</span><span class=3D"=
n">Structure</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">[(</span><span class=3D"s2">"name"<=
/span><span class=3D"p">,</span> <span class=3D"n">c_char_p</span><span cla=
ss=3D"p">),</span>
<span class=3D"gp">... </span>                <span class=3D"p">(</span><sp=
an class=3D"s2">"code"</span><span class=3D"p">,</span> <span class=3D"n">P=
OINTER</span><span class=3D"p">(</span><span class=3D"n">c_ubyte</span><spa=
n class=3D"p">)),</span>
<span class=3D"gp">... </span>                <span class=3D"p">(</span><sp=
an class=3D"s2">"size"</span><span class=3D"p">,</span> <span class=3D"n">c=
_int</span><span class=3D"p">)]</span>
<span class=3D"gp">...</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>We have defined the <code class=3D"xref c c-type docutils literal notran=
slate"><span class=3D"pre">struct</span> <span class=3D"pre">_frozen</span>=
</code> data type, so we can get the pointer
to the table:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">FrozenTable</span> <span class=3D"o">=3D</span> <span class=3D"n">POINTE=
R</span><span class=3D"p">(</span><span class=3D"n">struct_frozen</span><sp=
an class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">table</span> <span=
 class=3D"o">=3D</span> <span class=3D"n">FrozenTable</span><span class=3D"=
o">.</span><span class=3D"n">in_dll</span><span class=3D"p">(</span><span c=
lass=3D"n">pythonapi</span><span class=3D"p">,</span> <span class=3D"s2">"P=
yImport_FrozenModules"</span><span class=3D"p">)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Since <code class=3D"docutils literal notranslate"><span class=3D"pre">t=
able</span></code> is a <code class=3D"docutils literal notranslate"><span =
class=3D"pre">pointer</span></code> to the array of <code class=3D"docutils=
 literal notranslate"><span class=3D"pre">struct_frozen</span></code> recor=
ds, we
can iterate over it, but we just have to make sure that our loop terminates=
,
because pointers have no size. Sooner or later it would probably crash with=
 an
access violation or whatever, so it=E2=80=99s better to break out of the lo=
op when we
hit the <code class=3D"docutils literal notranslate"><span class=3D"pre">NU=
LL</span></code> entry:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">for</span> <span class=3D"n">item</span> <span class=3D"ow">in</span> <s=
pan class=3D"n">table</span><span class=3D"p">:</span>
<span class=3D"gp">... </span>    <span class=3D"k">if</span> <span class=
=3D"n">item</span><span class=3D"o">.</span><span class=3D"n">name</span> <=
span class=3D"ow">is</span> <span class=3D"kc">None</span><span class=3D"p"=
>:</span>
<span class=3D"gp">... </span>        <span class=3D"k">break</span>
<span class=3D"gp">... </span>    <span class=3D"nb">print</span><span clas=
s=3D"p">(</span><span class=3D"n">item</span><span class=3D"o">.</span><spa=
n class=3D"n">name</span><span class=3D"o">.</span><span class=3D"n">decode=
</span><span class=3D"p">(</span><span class=3D"s2">"ascii"</span><span cla=
ss=3D"p">),</span> <span class=3D"n">item</span><span class=3D"o">.</span><=
span class=3D"n">size</span><span class=3D"p">)</span>
<span class=3D"gp">...</span>
<span class=3D"go">_frozen_importlib 31764</span>
<span class=3D"go">_frozen_importlib_external 41499</span>
<span class=3D"go">__hello__ 161</span>
<span class=3D"go">__phello__ -161</span>
<span class=3D"go">__phello__.spam 161</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>The fact that standard Python has a frozen module and a frozen package
(indicated by the negative <code class=3D"docutils literal notranslate"><sp=
an class=3D"pre">size</span></code> member) is not well known, it is only u=
sed
for testing. Try it out with <code class=3D"docutils literal notranslate"><=
span class=3D"pre">import</span> <span class=3D"pre">__hello__</span></code=
> for example.</p>
</div>
<div class=3D"section" id=3D"surprises">
<span id=3D"ctypes-surprises"></span><h3>Surprises<a class=3D"headerlink" h=
ref=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#sur=
prises" title=3D"Permalink to this headline">=C2=B6</a></h3>
<p>There are some edges in <a class=3D"reference internal" href=3D"https://=
docs.python.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" tit=
le=3D"ctypes: A foreign function library for Python."><code class=3D"xref p=
y py-mod docutils literal notranslate"><span class=3D"pre"><span class=3D"h=
ighlighted">ctypes</span></span></code></a> where you might expect somethin=
g other
than what actually happens.</p>
<p>Consider the following example:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"o">*</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">class</span> <span=
 class=3D"nc">POINT</span><span class=3D"p">(</span><span class=3D"n">Struc=
ture</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">(</span><span class=3D"s2">"x"</spa=
n><span class=3D"p">,</span> <span class=3D"n">c_int</span><span class=3D"p=
">),</span> <span class=3D"p">(</span><span class=3D"s2">"y"</span><span cl=
ass=3D"p">,</span> <span class=3D"n">c_int</span><span class=3D"p">)</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"k">class</span> <span=
 class=3D"nc">RECT</span><span class=3D"p">(</span><span class=3D"n">Struct=
ure</span><span class=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"n">_fields_</span> <span c=
lass=3D"o">=3D</span> <span class=3D"p">(</span><span class=3D"s2">"a"</spa=
n><span class=3D"p">,</span> <span class=3D"n">POINT</span><span class=3D"p=
">),</span> <span class=3D"p">(</span><span class=3D"s2">"b"</span><span cl=
ass=3D"p">,</span> <span class=3D"n">POINT</span><span class=3D"p">)</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">p1</span> <span cl=
ass=3D"o">=3D</span> <span class=3D"n">POINT</span><span class=3D"p">(</spa=
n><span class=3D"mi">1</span><span class=3D"p">,</span> <span class=3D"mi">=
2</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">p2</span> <span cl=
ass=3D"o">=3D</span> <span class=3D"n">POINT</span><span class=3D"p">(</spa=
n><span class=3D"mi">3</span><span class=3D"p">,</span> <span class=3D"mi">=
4</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">rc</span> <span cl=
ass=3D"o">=3D</span> <span class=3D"n">RECT</span><span class=3D"p">(</span=
><span class=3D"n">p1</span><span class=3D"p">,</span> <span class=3D"n">p2=
</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">rc</span><span class=3D"o">.</span><=
span class=3D"n">a</span><span class=3D"o">.</span><span class=3D"n">x</spa=
n><span class=3D"p">,</span> <span class=3D"n">rc</span><span class=3D"o">.=
</span><span class=3D"n">a</span><span class=3D"o">.</span><span class=3D"n=
">y</span><span class=3D"p">,</span> <span class=3D"n">rc</span><span class=
=3D"o">.</span><span class=3D"n">b</span><span class=3D"o">.</span><span cl=
ass=3D"n">x</span><span class=3D"p">,</span> <span class=3D"n">rc</span><sp=
an class=3D"o">.</span><span class=3D"n">b</span><span class=3D"o">.</span>=
<span class=3D"n">y</span><span class=3D"p">)</span>
<span class=3D"go">1 2 3 4</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"c1"># now swap the tw=
o points</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">rc</span><span cla=
ss=3D"o">.</span><span class=3D"n">a</span><span class=3D"p">,</span> <span=
 class=3D"n">rc</span><span class=3D"o">.</span><span class=3D"n">b</span> =
<span class=3D"o">=3D</span> <span class=3D"n">rc</span><span class=3D"o">.=
</span><span class=3D"n">b</span><span class=3D"p">,</span> <span class=3D"=
n">rc</span><span class=3D"o">.</span><span class=3D"n">a</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">rc</span><span class=3D"o">.</span><=
span class=3D"n">a</span><span class=3D"o">.</span><span class=3D"n">x</spa=
n><span class=3D"p">,</span> <span class=3D"n">rc</span><span class=3D"o">.=
</span><span class=3D"n">a</span><span class=3D"o">.</span><span class=3D"n=
">y</span><span class=3D"p">,</span> <span class=3D"n">rc</span><span class=
=3D"o">.</span><span class=3D"n">b</span><span class=3D"o">.</span><span cl=
ass=3D"n">x</span><span class=3D"p">,</span> <span class=3D"n">rc</span><sp=
an class=3D"o">.</span><span class=3D"n">b</span><span class=3D"o">.</span>=
<span class=3D"n">y</span><span class=3D"p">)</span>
<span class=3D"go">3 4 3 4</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Hm. We certainly expected the last statement to print <code class=3D"doc=
utils literal notranslate"><span class=3D"pre">3</span> <span class=3D"pre"=
>4</span> <span class=3D"pre">1</span> <span class=3D"pre">2</span></code>.=
 What
happened? Here are the steps of the <code class=3D"docutils literal notrans=
late"><span class=3D"pre">rc.a,</span> <span class=3D"pre">rc.b</span> <spa=
n class=3D"pre">=3D</span> <span class=3D"pre">rc.b,</span> <span class=3D"=
pre">rc.a</span></code> line above:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">temp0</span><span class=3D"p">,</span> <span class=3D"n">temp1</span> <s=
pan class=3D"o">=3D</span> <span class=3D"n">rc</span><span class=3D"o">.</=
span><span class=3D"n">b</span><span class=3D"p">,</span> <span class=3D"n"=
>rc</span><span class=3D"o">.</span><span class=3D"n">a</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">rc</span><span cla=
ss=3D"o">.</span><span class=3D"n">a</span> <span class=3D"o">=3D</span> <s=
pan class=3D"n">temp0</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">rc</span><span cla=
ss=3D"o">.</span><span class=3D"n">b</span> <span class=3D"o">=3D</span> <s=
pan class=3D"n">temp1</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Note that <code class=3D"docutils literal notranslate"><span class=3D"pr=
e">temp0</span></code> and <code class=3D"docutils literal notranslate"><sp=
an class=3D"pre">temp1</span></code> are objects still using the internal b=
uffer of
the <code class=3D"docutils literal notranslate"><span class=3D"pre">rc</sp=
an></code> object above. So executing <code class=3D"docutils literal notra=
nslate"><span class=3D"pre">rc.a</span> <span class=3D"pre">=3D</span> <spa=
n class=3D"pre">temp0</span></code> copies the buffer
contents of <code class=3D"docutils literal notranslate"><span class=3D"pre=
">temp0</span></code> into <code class=3D"docutils literal notranslate"><sp=
an class=3D"pre">rc</span></code> =E2=80=98s buffer.  This, in turn, change=
s the
contents of <code class=3D"docutils literal notranslate"><span class=3D"pre=
">temp1</span></code>. So, the last assignment <code class=3D"docutils lite=
ral notranslate"><span class=3D"pre">rc.b</span> <span class=3D"pre">=3D</s=
pan> <span class=3D"pre">temp1</span></code>, doesn=E2=80=99t have
the expected effect.</p>
<p>Keep in mind that retrieving sub-objects from Structure, Unions, and Arr=
ays
doesn=E2=80=99t <em>copy</em> the sub-object, instead it retrieves a wrappe=
r object accessing
the root-object=E2=80=99s underlying buffer.</p>
<p>Another example that may behave differently from what one would expect i=
s this:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">s</span> <span class=3D"o">=3D</span> <span class=3D"n">c_char_p</span><=
span class=3D"p">()</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">s</span><span clas=
s=3D"o">.</span><span class=3D"n">value</span> <span class=3D"o">=3D</span>=
 <span class=3D"sa">b</span><span class=3D"s2">"abc def ghi"</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">s</span><span clas=
s=3D"o">.</span><span class=3D"n">value</span>
<span class=3D"go">b'abc def ghi'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">s</span><span clas=
s=3D"o">.</span><span class=3D"n">value</span> <span class=3D"ow">is</span>=
 <span class=3D"n">s</span><span class=3D"o">.</span><span class=3D"n">valu=
e</span>
<span class=3D"go">False</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class=3D"admonition note">
<p class=3D"admonition-title">Note</p>
<p>Objects instantiated from <a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_char_p"=
 title=3D"ctypes.c_char_p"><code class=3D"xref py py-class docutils literal=
 notranslate"><span class=3D"pre">c_char_p</span></code></a> can only have =
their value set to bytes
or integers.</p>
</div>
<p>Why is it printing <code class=3D"docutils literal notranslate"><span cl=
ass=3D"pre">False</span></code>?  <span class=3D"highlighted">ctypes</span>=
 instances are objects containing a memory
block plus some <a class=3D"reference internal" href=3D"https://docs.python=
.org/3/glossary.html#term-descriptor"><span class=3D"xref std std-term">des=
criptor</span></a>s accessing the contents of the memory.
Storing a Python object in the memory block does not store the object itsel=
f,
instead the <code class=3D"docutils literal notranslate"><span class=3D"pre=
">contents</span></code> of the object is stored.  Accessing the contents a=
gain
constructs a new Python object each time!</p>
</div>
<div class=3D"section" id=3D"variable-sized-data-types">
<span id=3D"ctypes-variable-sized-data-types"></span><h3>Variable-sized dat=
a types<a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ct=
ypes.html?highlight=3Dctypes#variable-sized-data-types" title=3D"Permalink =
to this headline">=C2=B6</a></h3>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign =
function library for Python."><code class=3D"xref py py-mod docutils litera=
l notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span=
></span></code></a> provides some support for variable-sized arrays and str=
uctures.</p>
<p>The <a class=3D"reference internal" href=3D"https://docs.python.org/3/li=
brary/ctypes.html?highlight=3Dctypes#ctypes.resize" title=3D"ctypes.resize"=
><code class=3D"xref py py-func docutils literal notranslate"><span class=
=3D"pre">resize()</span></code></a> function can be used to resize the memo=
ry buffer of an
existing <span class=3D"highlighted">ctypes</span> object.  The function ta=
kes the object as first argument, and
the requested size in bytes as the second argument.  The memory block canno=
t be
made smaller than the natural memory block specified by the objects type, a
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/e=
xceptions.html#ValueError" title=3D"ValueError"><code class=3D"xref py py-e=
xc docutils literal notranslate"><span class=3D"pre">ValueError</span></cod=
e></a> is raised if this is tried:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">short_array</span> <span class=3D"o">=3D</span> <span class=3D"p">(</spa=
n><span class=3D"n">c_short</span> <span class=3D"o">*</span> <span class=
=3D"mi">4</span><span class=3D"p">)()</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"nb">print</span><span=
 class=3D"p">(</span><span class=3D"n">sizeof</span><span class=3D"p">(</sp=
an><span class=3D"n">short_array</span><span class=3D"p">))</span>
<span class=3D"go">8</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">resize</span><span=
 class=3D"p">(</span><span class=3D"n">short_array</span><span class=3D"p">=
,</span> <span class=3D"mi">4</span><span class=3D"p">)</span>
<span class=3D"gt">Traceback (most recent call last):</span>
    <span class=3D"o">...</span>
<span class=3D"gr">ValueError</span><span>: </span><span class=3D"n">minimu=
m size is 8</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">resize</span><span=
 class=3D"p">(</span><span class=3D"n">short_array</span><span class=3D"p">=
,</span> <span class=3D"mi">32</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">sizeof</span><span=
 class=3D"p">(</span><span class=3D"n">short_array</span><span class=3D"p">=
)</span>
<span class=3D"go">32</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">sizeof</span><span=
 class=3D"p">(</span><span class=3D"nb">type</span><span class=3D"p">(</spa=
n><span class=3D"n">short_array</span><span class=3D"p">))</span>
<span class=3D"go">8</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>This is nice and fine, but how would one access the additional elements
contained in this array?  Since the type still only knows about 4 elements,=
 we
get errors accessing other elements:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">short_array</span><span class=3D"p">[:]</span>
<span class=3D"go">[0, 0, 0, 0]</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">short_array</span>=
<span class=3D"p">[</span><span class=3D"mi">7</span><span class=3D"p">]</s=
pan>
<span class=3D"gt">Traceback (most recent call last):</span>
    <span class=3D"o">...</span>
<span class=3D"gr">IndexError</span><span>: </span><span class=3D"n">invali=
d index</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Another way to use variable-sized data types with <a class=3D"reference =
internal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=
=3Dctypes#module-ctypes" title=3D"ctypes: A foreign function library for Py=
thon."><code class=3D"xref py py-mod docutils literal notranslate"><span cl=
ass=3D"pre"><span class=3D"highlighted">ctypes</span></span></code></a> is =
to use the
dynamic nature of Python, and (re-)define the data type after the required =
size
is already known, on a case by case basis.</p>
</div>
</div>
<div class=3D"section" id=3D"ctypes-reference">
<span id=3D"ctypes-ctypes-reference"></span><h2><span class=3D"highlighted"=
>ctypes</span> reference<a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes-reference" title=3D"Pe=
rmalink to this headline">=C2=B6</a></h2>
<div class=3D"section" id=3D"finding-shared-libraries">
<span id=3D"ctypes-finding-shared-libraries"></span><h3>Finding shared libr=
aries<a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ctyp=
es.html?highlight=3Dctypes#finding-shared-libraries" title=3D"Permalink to =
this headline">=C2=B6</a></h3>
<p>When programming in a compiled language, shared libraries are accessed w=
hen
compiling/linking a program, and when the program is run.</p>
<p>The purpose of the <code class=3D"xref py py-func docutils literal notra=
nslate"><span class=3D"pre">find_library()</span></code> function is to loc=
ate a library in a way
similar to what the compiler or runtime loader does (on platforms with seve=
ral
versions of a shared library the most recent should be loaded), while the <=
span class=3D"highlighted">ctypes</span>
library loaders act like when a program is run, and call the runtime loader
directly.</p>
<p>The <code class=3D"xref py py-mod docutils literal notranslate"><span cl=
ass=3D"pre"><span class=3D"highlighted">ctypes</span>.util</span></code> mo=
dule provides a function which can help to determine
the library to load.</p>
<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.util.</code><code class=3D"sig-name descname">find_library</code><=
span class=3D"sig-paren">(</span><em class=3D"sig-param">name</em><span cla=
ss=3D"sig-paren">)</span></dt>
<dd><p>Try to find a library and return a pathname.  <em>name</em> is the l=
ibrary name without
any prefix like <em>lib</em>, suffix like <code class=3D"docutils literal n=
otranslate"><span class=3D"pre">.so</span></code>, <code class=3D"docutils =
literal notranslate"><span class=3D"pre">.dylib</span></code> or version nu=
mber (this
is the form used for the posix linker option <code class=3D"xref std std-op=
tion docutils literal notranslate"><span class=3D"pre">-l</span></code>).  =
If no library can
be found, returns <code class=3D"docutils literal notranslate"><span class=
=3D"pre">None</span></code>.</p>
</dd></dl>

<p>The exact functionality is system dependent.</p>
<p>On Linux, <code class=3D"xref py py-func docutils literal notranslate"><=
span class=3D"pre">find_library()</span></code> tries to run external progr=
ams
(<code class=3D"docutils literal notranslate"><span class=3D"pre">/sbin/ldc=
onfig</span></code>, <code class=3D"docutils literal notranslate"><span cla=
ss=3D"pre">gcc</span></code>, <code class=3D"docutils literal notranslate">=
<span class=3D"pre">objdump</span></code> and <code class=3D"docutils liter=
al notranslate"><span class=3D"pre">ld</span></code>) to find the library f=
ile.
It returns the filename of the library file.</p>
<div class=3D"versionchanged">
<p><span class=3D"versionmodified changed">Changed in version 3.6: </span>O=
n Linux, the value of the environment variable <code class=3D"docutils lite=
ral notranslate"><span class=3D"pre">LD_LIBRARY_PATH</span></code> is used
when searching for libraries, if a library cannot be found by any other mea=
ns.</p>
</div>
<p>Here are some examples:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
>.util</span> <span class=3D"kn">import</span> <span class=3D"n">find_libra=
ry</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">find_library</span=
><span class=3D"p">(</span><span class=3D"s2">"m"</span><span class=3D"p">)=
</span>
<span class=3D"go">'libm.so.6'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">find_library</span=
><span class=3D"p">(</span><span class=3D"s2">"c"</span><span class=3D"p">)=
</span>
<span class=3D"go">'libc.so.6'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">find_library</span=
><span class=3D"p">(</span><span class=3D"s2">"bz2"</span><span class=3D"p"=
>)</span>
<span class=3D"go">'libbz2.so.1.0'</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>On OS X, <code class=3D"xref py py-func docutils literal notranslate"><s=
pan class=3D"pre">find_library()</span></code> tries several predefined nam=
ing schemes and paths
to locate the library, and returns a full pathname if successful:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
>.util</span> <span class=3D"kn">import</span> <span class=3D"n">find_libra=
ry</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">find_library</span=
><span class=3D"p">(</span><span class=3D"s2">"c"</span><span class=3D"p">)=
</span>
<span class=3D"go">'/usr/lib/libc.dylib'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">find_library</span=
><span class=3D"p">(</span><span class=3D"s2">"m"</span><span class=3D"p">)=
</span>
<span class=3D"go">'/usr/lib/libm.dylib'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">find_library</span=
><span class=3D"p">(</span><span class=3D"s2">"bz2"</span><span class=3D"p"=
>)</span>
<span class=3D"go">'/usr/lib/libbz2.dylib'</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">find_library</span=
><span class=3D"p">(</span><span class=3D"s2">"AGL"</span><span class=3D"p"=
>)</span>
<span class=3D"go">'/System/Library/Frameworks/AGL.framework/AGL'</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>On Windows, <code class=3D"xref py py-func docutils literal notranslate"=
><span class=3D"pre">find_library()</span></code> searches along the system=
 search path, and
returns the full pathname, but since there is no predefined naming scheme a=
 call
like <code class=3D"docutils literal notranslate"><span class=3D"pre">find_=
library("c")</span></code> will fail and return <code class=3D"docutils lit=
eral notranslate"><span class=3D"pre">None</span></code>.</p>
<p>If wrapping a shared library with <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#module=
-ctypes" title=3D"ctypes: A foreign function library for Python."><code cla=
ss=3D"xref py py-mod docutils literal notranslate"><span class=3D"pre"><spa=
n class=3D"highlighted">ctypes</span></span></code></a>, it <em>may</em> be=
 better to determine
the shared library name at development time, and hardcode that into the wra=
pper
module instead of using <code class=3D"xref py py-func docutils literal not=
ranslate"><span class=3D"pre">find_library()</span></code> to locate the li=
brary at runtime.</p>
</div>
<div class=3D"section" id=3D"loading-shared-libraries">
<span id=3D"ctypes-loading-shared-libraries"></span><h3>Loading shared libr=
aries<a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ctyp=
es.html?highlight=3Dctypes#loading-shared-libraries" title=3D"Permalink to =
this headline">=C2=B6</a></h3>
<p>There are several ways to load shared libraries into the Python process.=
  One
way is to instantiate one of the following classes:</p>
<dl class=3D"class">
<dt id=3D"ctypes.CDLL">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">CDLL</code><span class=3D"sig-paren">(</span><em class=3D"sig-para=
m">name</em>, <em class=3D"sig-param">mode=3DDEFAULT_MODE</em>, <em class=
=3D"sig-param">handle=3DNone</em>, <em class=3D"sig-param">use_errno=3DFals=
e</em>, <em class=3D"sig-param">use_last_error=3DFalse</em>, <em class=3D"s=
ig-param">winmode=3D0</em><span class=3D"sig-paren">)</span><a class=3D"hea=
derlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3D=
ctypes#ctypes.CDLL" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Instances of this class represent loaded shared libraries. Functions=
 in these
libraries use the standard C calling convention, and are assumed to return
<code class=3D"xref c c-type docutils literal notranslate"><span class=3D"p=
re">int</span></code>.</p>
<p>On Windows creating a <a class=3D"reference internal" href=3D"https://do=
cs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.CDLL" title=
=3D"ctypes.CDLL"><code class=3D"xref py py-class docutils literal notransla=
te"><span class=3D"pre">CDLL</span></code></a> instance may fail even if th=
e DLL name
exists. When a dependent DLL of the loaded DLL is not found, a
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/e=
xceptions.html#OSError" title=3D"OSError"><code class=3D"xref py py-exc doc=
utils literal notranslate"><span class=3D"pre">OSError</span></code></a> er=
ror is raised with the message <em>=E2=80=9C[WinError 126] The
specified module could not be found=E2=80=9D.</em> This error message does =
not contain
the name of the missing DLL because the Windows API does not return this
information making this error hard to diagnose. To resolve this error and
determine which DLL is not found, you need to find the list of dependent
DLLs and determine which one is not found using Windows debugging and
tracing tools.</p>
</dd></dl>

<div class=3D"admonition seealso">
<p class=3D"admonition-title">See also</p>
<p><a class=3D"reference external" href=3D"https://docs.microsoft.com/cpp/b=
uild/reference/dependents">Microsoft DUMPBIN tool</a>
=E2=80=93 A tool to find DLL dependents.</p>
</div>
<dl class=3D"class">
<dt id=3D"ctypes.OleDLL">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">OleDLL</code><span class=3D"sig-paren">(</span><em class=3D"sig-pa=
ram">name</em>, <em class=3D"sig-param">mode=3DDEFAULT_MODE</em>, <em class=
=3D"sig-param">handle=3DNone</em>, <em class=3D"sig-param">use_errno=3DFals=
e</em>, <em class=3D"sig-param">use_last_error=3DFalse</em>, <em class=3D"s=
ig-param">winmode=3D0</em><span class=3D"sig-paren">)</span><a class=3D"hea=
derlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3D=
ctypes#ctypes.OleDLL" title=3D"Permalink to this definition">=C2=B6</a></dt=
>
<dd><p>Windows only: Instances of this class represent loaded shared librar=
ies,
functions in these libraries use the <code class=3D"docutils literal notran=
slate"><span class=3D"pre">stdcall</span></code> calling convention, and ar=
e
assumed to return the windows specific <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
.HRESULT" title=3D"ctypes.HRESULT"><code class=3D"xref py py-class docutils=
 literal notranslate"><span class=3D"pre">HRESULT</span></code></a> code.  =
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.HRESULT" title=3D"ctypes.HRESULT"><cod=
e class=3D"xref py py-class docutils literal notranslate"><span class=3D"pr=
e">HRESULT</span></code></a>
values contain information specifying whether the function call failed or
succeeded, together with additional error code.  If the return value signal=
s a
failure, an <a class=3D"reference internal" href=3D"https://docs.python.org=
/3/library/exceptions.html#OSError" title=3D"OSError"><code class=3D"xref p=
y py-class docutils literal notranslate"><span class=3D"pre">OSError</span>=
</code></a> is automatically raised.</p>
<div class=3D"versionchanged">
<p><span class=3D"versionmodified changed">Changed in version 3.3: </span><=
a class=3D"reference internal" href=3D"https://docs.python.org/3/library/ex=
ceptions.html#WindowsError" title=3D"WindowsError"><code class=3D"xref py p=
y-exc docutils literal notranslate"><span class=3D"pre">WindowsError</span>=
</code></a> used to be raised.</p>
</div>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.WinDLL">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">WinDLL</code><span class=3D"sig-paren">(</span><em class=3D"sig-pa=
ram">name</em>, <em class=3D"sig-param">mode=3DDEFAULT_MODE</em>, <em class=
=3D"sig-param">handle=3DNone</em>, <em class=3D"sig-param">use_errno=3DFals=
e</em>, <em class=3D"sig-param">use_last_error=3DFalse</em>, <em class=3D"s=
ig-param">winmode=3D0</em><span class=3D"sig-paren">)</span><a class=3D"hea=
derlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3D=
ctypes#ctypes.WinDLL" title=3D"Permalink to this definition">=C2=B6</a></dt=
>
<dd><p>Windows only: Instances of this class represent loaded shared librar=
ies,
functions in these libraries use the <code class=3D"docutils literal notran=
slate"><span class=3D"pre">stdcall</span></code> calling convention, and ar=
e
assumed to return <code class=3D"xref c c-type docutils literal notranslate=
"><span class=3D"pre">int</span></code> by default.</p>
<p>On Windows CE only the standard calling convention is used, for convenie=
nce the
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.WinDLL" title=3D"ctypes.WinDLL"><code =
class=3D"xref py py-class docutils literal notranslate"><span class=3D"pre"=
>WinDLL</span></code></a> and <a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.OleDLL" =
title=3D"ctypes.OleDLL"><code class=3D"xref py py-class docutils literal no=
translate"><span class=3D"pre">OleDLL</span></code></a> use the standard ca=
lling convention on this
platform.</p>
</dd></dl>

<p>The Python <a class=3D"reference internal" href=3D"https://docs.python.o=
rg/3/glossary.html#term-global-interpreter-lock"><span class=3D"xref std st=
d-term">global interpreter lock</span></a> is released before calling any
function exported by these libraries, and reacquired afterwards.</p>
<dl class=3D"class">
<dt id=3D"ctypes.PyDLL">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">PyDLL</code><span class=3D"sig-paren">(</span><em class=3D"sig-par=
am">name</em>, <em class=3D"sig-param">mode=3DDEFAULT_MODE</em>, <em class=
=3D"sig-param">handle=3DNone</em><span class=3D"sig-paren">)</span><a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#ctypes.PyDLL" title=3D"Permalink to this definition">=C2=B6</=
a></dt>
<dd><p>Instances of this class behave like <a class=3D"reference internal" =
href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ct=
ypes.CDLL" title=3D"ctypes.CDLL"><code class=3D"xref py py-class docutils l=
iteral notranslate"><span class=3D"pre">CDLL</span></code></a> instances, e=
xcept that the
Python GIL is <em>not</em> released during the function call, and after the=
 function
execution the Python error flag is checked. If the error flag is set, a Pyt=
hon
exception is raised.</p>
<p>Thus, this is only useful to call Python C api functions directly.</p>
</dd></dl>

<p>All these classes can be instantiated by calling them with at least one
argument, the pathname of the shared library.  If you have an existing hand=
le to
an already loaded shared library, it can be passed as the <code class=3D"do=
cutils literal notranslate"><span class=3D"pre">handle</span></code> named
parameter, otherwise the underlying platforms <code class=3D"docutils liter=
al notranslate"><span class=3D"pre">dlopen</span></code> or <code class=3D"=
docutils literal notranslate"><span class=3D"pre">LoadLibrary</span></code>
function is used to load the library into the process, and to get a handle =
to
it.</p>
<p>The <em>mode</em> parameter can be used to specify how the library is lo=
aded.  For
details, consult the <em class=3D"manpage"><a class=3D"manpage reference ex=
ternal" href=3D"https://manpages.debian.org/dlopen(3)">dlopen(3)</a></em> m=
anpage.  On Windows, <em>mode</em> is
ignored.  On posix systems, RTLD_NOW is always added, and is not
configurable.</p>
<p>The <em>use_errno</em> parameter, when set to true, enables a <span clas=
s=3D"highlighted">ctypes</span> mechanism that
allows accessing the system <a class=3D"reference internal" href=3D"https:/=
/docs.python.org/3/library/errno.html#module-errno" title=3D"errno: Standar=
d errno system symbols."><code class=3D"xref py py-data docutils literal no=
translate"><span class=3D"pre">errno</span></code></a> error number in a sa=
fe way.
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign fun=
ction library for Python."><code class=3D"xref py py-mod docutils literal n=
otranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span></=
span></code></a> maintains a thread-local copy of the systems <a class=3D"r=
eference internal" href=3D"https://docs.python.org/3/library/errno.html#mod=
ule-errno" title=3D"errno: Standard errno system symbols."><code class=3D"x=
ref py py-data docutils literal notranslate"><span class=3D"pre">errno</spa=
n></code></a>
variable; if you call foreign functions created with <code class=3D"docutil=
s literal notranslate"><span class=3D"pre">use_errno=3DTrue</span></code> t=
hen the
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/e=
rrno.html#module-errno" title=3D"errno: Standard errno system symbols."><co=
de class=3D"xref py py-data docutils literal notranslate"><span class=3D"pr=
e">errno</span></code></a> value before the function call is swapped with t=
he ctypes private
copy, the same happens immediately after the function call.</p>
<p>The function <a class=3D"reference internal" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.get_errno" title=3D"ct=
ypes.get_errno"><code class=3D"xref py py-func docutils literal notranslate=
"><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.get_errno()=
</span></code></a> returns the value of the <span class=3D"highlighted">cty=
pes</span> private
copy, and the function <a class=3D"reference internal" href=3D"https://docs=
.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.set_errno" titl=
e=3D"ctypes.set_errno"><code class=3D"xref py py-func docutils literal notr=
anslate"><span class=3D"pre">ctypes.set_errno()</span></code></a> changes t=
he ctypes private copy
to a new value and returns the former value.</p>
<p>The <em>use_last_error</em> parameter, when set to true, enables the sam=
e mechanism for
the Windows error code which is managed by the <a class=3D"reference intern=
al" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctype=
s#ctypes.GetLastError" title=3D"ctypes.GetLastError"><code class=3D"xref py=
 py-func docutils literal notranslate"><span class=3D"pre">GetLastError()</=
span></code></a> and
<code class=3D"xref py py-func docutils literal notranslate"><span class=3D=
"pre">SetLastError()</span></code> Windows API functions; <a class=3D"refer=
ence internal" href=3D"https://docs.python.org/3/library/ctypes.html?highli=
ght=3Dctypes#ctypes.get_last_error" title=3D"ctypes.get_last_error"><code c=
lass=3D"xref py py-func docutils literal notranslate"><span class=3D"pre"><=
span class=3D"highlighted">ctypes</span>.get_last_error()</span></code></a>=
 and
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.set_last_error" title=3D"ctypes.set_la=
st_error"><code class=3D"xref py py-func docutils literal notranslate"><spa=
n class=3D"pre"><span class=3D"highlighted">ctypes</span>.set_last_error()<=
/span></code></a> are used to request and change the <span class=3D"highlig=
hted">ctypes</span> private
copy of the windows error code.</p>
<p>The <em>winmode</em> parameter is used on Windows to specify how the lib=
rary is loaded
(since <em>mode</em> is ignored). It takes any value that is valid for the =
Win32 API
<code class=3D"docutils literal notranslate"><span class=3D"pre">LoadLibrar=
yEx</span></code> flags parameter. When omitted, the default is to use the =
flags
that result in the most secure DLL load to avoiding issues such as DLL
hijacking. Passing the full path to the DLL is the safest way to ensure the
correct library and dependencies are loaded.</p>
<div class=3D"versionchanged">
<p><span class=3D"versionmodified changed">Changed in version 3.8: </span>A=
dded <em>winmode</em> parameter.</p>
</div>
<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">RTLD_GLOBAL</code></dt>
<dd><p>Flag to use as <em>mode</em> parameter.  On platforms where this fla=
g is not available,
it is defined as the integer zero.</p>
</dd></dl>

<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">RTLD_LOCAL</code></dt>
<dd><p>Flag to use as <em>mode</em> parameter.  On platforms where this is =
not available, it
is the same as <em>RTLD_GLOBAL</em>.</p>
</dd></dl>

<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">DEFAULT_MODE</code></dt>
<dd><p>The default mode which is used to load shared libraries.  On OSX 10.=
3, this is
<em>RTLD_GLOBAL</em>, otherwise it is the same as <em>RTLD_LOCAL</em>.</p>
</dd></dl>

<p>Instances of these classes have no public methods.  Functions exported b=
y the
shared library can be accessed as attributes or by index.  Please note that
accessing the function through an attribute caches the result and therefore
accessing it repeatedly returns the same object each time.  On the other ha=
nd,
accessing it through an index returns a new object each time:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"n">CDLL</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">libc</span> <span =
class=3D"o">=3D</span> <span class=3D"n">CDLL</span><span class=3D"p">(</sp=
an><span class=3D"s2">"libc.so.6"</span><span class=3D"p">)</span>  <span c=
lass=3D"c1"># On Linux</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">libc</span><span c=
lass=3D"o">.</span><span class=3D"n">time</span> <span class=3D"o">=3D=3D</=
span> <span class=3D"n">libc</span><span class=3D"o">.</span><span class=3D=
"n">time</span>
<span class=3D"go">True</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">libc</span><span c=
lass=3D"p">[</span><span class=3D"s1">'time'</span><span class=3D"p">]</spa=
n> <span class=3D"o">=3D=3D</span> <span class=3D"n">libc</span><span class=
=3D"p">[</span><span class=3D"s1">'time'</span><span class=3D"p">]</span>
<span class=3D"go">False</span>
</pre></div>
</div>
<p>The following public attributes are available, their name starts with an
underscore to not clash with exported function names:</p>
<dl class=3D"attribute">
<dt id=3D"ctypes.PyDLL._handle">
<code class=3D"sig-prename descclassname">PyDLL.</code><code class=3D"sig-n=
ame descname">_handle</code><a class=3D"headerlink" href=3D"https://docs.py=
thon.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.PyDLL._handle" tit=
le=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>The system handle used to access the library.</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes.PyDLL._name">
<code class=3D"sig-prename descclassname">PyDLL.</code><code class=3D"sig-n=
ame descname">_name</code><a class=3D"headerlink" href=3D"https://docs.pyth=
on.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.PyDLL._name" title=
=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>The name of the library passed in the constructor.</p>
</dd></dl>

<p>Shared libraries can also be loaded by using one of the prefabricated ob=
jects,
which are instances of the <a class=3D"reference internal" href=3D"https://=
docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.LibraryLoad=
er" title=3D"ctypes.LibraryLoader"><code class=3D"xref py py-class docutils=
 literal notranslate"><span class=3D"pre">LibraryLoader</span></code></a> c=
lass, either by calling the
<code class=3D"xref py py-meth docutils literal notranslate"><span class=3D=
"pre">LoadLibrary()</span></code> method, or by retrieving the library as a=
ttribute of the
loader instance.</p>
<dl class=3D"class">
<dt id=3D"ctypes.LibraryLoader">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">LibraryLoader</code><span class=3D"sig-paren">(</span><em class=3D=
"sig-param">dlltype</em><span class=3D"sig-paren">)</span><a class=3D"heade=
rlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dct=
ypes#ctypes.LibraryLoader" title=3D"Permalink to this definition">=C2=B6</a=
></dt>
<dd><p>Class which loads shared libraries.  <em>dlltype</em> should be one =
of the
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.CDLL" title=3D"ctypes.CDLL"><code clas=
s=3D"xref py py-class docutils literal notranslate"><span class=3D"pre">CDL=
L</span></code></a>, <a class=3D"reference internal" href=3D"https://docs.p=
ython.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.PyDLL" title=3D"c=
types.PyDLL"><code class=3D"xref py py-class docutils literal notranslate">=
<span class=3D"pre">PyDLL</span></code></a>, <a class=3D"reference internal=
" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#=
ctypes.WinDLL" title=3D"ctypes.WinDLL"><code class=3D"xref py py-class docu=
tils literal notranslate"><span class=3D"pre">WinDLL</span></code></a>, or =
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.OleDLL" title=3D"ctypes.OleDLL"><code =
class=3D"xref py py-class docutils literal notranslate"><span class=3D"pre"=
>OleDLL</span></code></a> types.</p>
<p><a class=3D"reference internal" href=3D"https://docs.python.org/3/refere=
nce/datamodel.html#object.__getattr__" title=3D"object.__getattr__"><code c=
lass=3D"xref py py-meth docutils literal notranslate"><span class=3D"pre">_=
_getattr__()</span></code></a> has special behavior: It allows loading a sh=
ared library by
accessing it as attribute of a library loader instance.  The result is cach=
ed,
so repeated attribute accesses return the same library each time.</p>
<dl class=3D"method">
<dt id=3D"ctypes.LibraryLoader.LoadLibrary">
<code class=3D"sig-name descname">LoadLibrary</code><span class=3D"sig-pare=
n">(</span><em class=3D"sig-param">name</em><span class=3D"sig-paren">)</sp=
an><a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes=
.html?highlight=3Dctypes#ctypes.LibraryLoader.LoadLibrary" title=3D"Permali=
nk to this definition">=C2=B6</a></dt>
<dd><p>Load a shared library into the process and return it.  This method a=
lways
returns a new instance of the library.</p>
</dd></dl>

</dd></dl>

<p>These prefabricated library loaders are available:</p>
<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">cdll</code></dt>
<dd><p>Creates <a class=3D"reference internal" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.CDLL" title=3D"ctypes.C=
DLL"><code class=3D"xref py py-class docutils literal notranslate"><span cl=
ass=3D"pre">CDLL</span></code></a> instances.</p>
</dd></dl>

<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">windll</code></dt>
<dd><p>Windows only: Creates <a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.WinDLL" t=
itle=3D"ctypes.WinDLL"><code class=3D"xref py py-class docutils literal not=
ranslate"><span class=3D"pre">WinDLL</span></code></a> instances.</p>
</dd></dl>

<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">oledll</code></dt>
<dd><p>Windows only: Creates <a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.OleDLL" t=
itle=3D"ctypes.OleDLL"><code class=3D"xref py py-class docutils literal not=
ranslate"><span class=3D"pre">OleDLL</span></code></a> instances.</p>
</dd></dl>

<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">pydll</code></dt>
<dd><p>Creates <a class=3D"reference internal" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.PyDLL" title=3D"ctypes.=
PyDLL"><code class=3D"xref py py-class docutils literal notranslate"><span =
class=3D"pre">PyDLL</span></code></a> instances.</p>
</dd></dl>

<p>For accessing the C Python api directly, a ready-to-use Python shared li=
brary
object is available:</p>
<dl class=3D"data">
<dt>
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">pythonapi</code></dt>
<dd><p>An instance of <a class=3D"reference internal" href=3D"https://docs.=
python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.PyDLL" title=3D"=
ctypes.PyDLL"><code class=3D"xref py py-class docutils literal notranslate"=
><span class=3D"pre">PyDLL</span></code></a> that exposes Python C API func=
tions as
attributes.  Note that all these functions are assumed to return C
<code class=3D"xref c c-type docutils literal notranslate"><span class=3D"p=
re">int</span></code>, which is of course not always the truth, so you have=
 to assign
the correct <code class=3D"xref py py-attr docutils literal notranslate"><s=
pan class=3D"pre">restype</span></code> attribute to use these functions.</=
p>
</dd></dl>

<p class=3D"audit-hook"></p><p>Loading a library through any of these objec=
ts raises an
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/s=
ys.html#auditing"><span class=3D"std std-ref">auditing event</span></a> <co=
de class=3D"docutils literal notranslate"><span class=3D"pre"><span class=
=3D"highlighted">ctypes</span>.dlopen</span></code> with string argument
<code class=3D"docutils literal notranslate"><span class=3D"pre">name</span=
></code>, the name used to load the library.</p>
<p></p>
<p class=3D"audit-hook"></p><p>Accessing a function on a loaded library rai=
ses an auditing event
<code class=3D"docutils literal notranslate"><span class=3D"pre"><span clas=
s=3D"highlighted">ctypes</span>.dlsym</span></code> with arguments <code cl=
ass=3D"docutils literal notranslate"><span class=3D"pre">library</span></co=
de> (the library object) and <code class=3D"docutils literal notranslate"><=
span class=3D"pre">name</span></code>
(the symbol=E2=80=99s name as a string or integer).</p>
<p></p>
<p class=3D"audit-hook"></p><p>In cases when only the library handle is ava=
ilable rather than the object,
accessing a function raises an auditing event <code class=3D"docutils liter=
al notranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</spa=
n>.dlsym/handle</span></code> with
arguments <code class=3D"docutils literal notranslate"><span class=3D"pre">=
handle</span></code> (the raw library handle) and <code class=3D"docutils l=
iteral notranslate"><span class=3D"pre">name</span></code>.</p>
<p></p>
</div>
<div class=3D"section" id=3D"foreign-functions">
<span id=3D"ctypes-foreign-functions"></span><h3>Foreign functions<a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#foreign-functions" title=3D"Permalink to this headline">=C2=
=B6</a></h3>
<p>As explained in the previous section, foreign functions can be accessed =
as
attributes of loaded shared libraries.  The function objects created in thi=
s way
by default accept any number of arguments, accept any <span class=3D"highli=
ghted">ctypes</span> data instances as
arguments, and return the default result type specified by the library load=
er.
They are instances of a private class:</p>
<dl class=3D"class">
<dt id=3D"ctypes._FuncPtr">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">_FuncPtr</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes._FuncPtr" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Base class for C callable foreign functions.</p>
<p>Instances of foreign functions are also C compatible data types; they
represent C function pointers.</p>
<p>This behavior can be customized by assigning to special attributes of th=
e
foreign function object.</p>
<dl class=3D"attribute">
<dt id=3D"ctypes._FuncPtr.restype">
<code class=3D"sig-name descname">restype</code><a class=3D"headerlink" hre=
f=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctype=
s._FuncPtr.restype" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Assign a <span class=3D"highlighted">ctypes</span> type to specify t=
he result type of the foreign function.
Use <code class=3D"docutils literal notranslate"><span class=3D"pre">None</=
span></code> for <code class=3D"xref c c-type docutils literal notranslate"=
><span class=3D"pre">void</span></code>, a function not returning anything.=
</p>
<p>It is possible to assign a callable Python object that is not a <span cl=
ass=3D"highlighted">ctypes</span>
type, in this case the function is assumed to return a C <code class=3D"xre=
f c c-type docutils literal notranslate"><span class=3D"pre">int</span></co=
de>, and
the callable will be called with this integer, allowing further
processing or error checking.  Using this is deprecated, for more flexible
post processing or error checking use a <span class=3D"highlighted">ctypes<=
/span> data type as
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes._FuncPtr.restype" title=3D"ctypes._Fun=
cPtr.restype"><code class=3D"xref py py-attr docutils literal notranslate">=
<span class=3D"pre">restype</span></code></a> and assign a callable to the =
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes._FuncPtr.errcheck" title=3D"ctypes._Fu=
ncPtr.errcheck"><code class=3D"xref py py-attr docutils literal notranslate=
"><span class=3D"pre">errcheck</span></code></a> attribute.</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes._FuncPtr.argtypes">
<code class=3D"sig-name descname">argtypes</code><a class=3D"headerlink" hr=
ef=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctyp=
es._FuncPtr.argtypes" title=3D"Permalink to this definition">=C2=B6</a></dt=
>
<dd><p>Assign a tuple of <span class=3D"highlighted">ctypes</span> types to=
 specify the argument types that the
function accepts.  Functions using the <code class=3D"docutils literal notr=
anslate"><span class=3D"pre">stdcall</span></code> calling convention can
only be called with the same number of arguments as the length of this
tuple; functions using the C calling convention accept additional,
unspecified arguments as well.</p>
<p>When a foreign function is called, each actual argument is passed to the
<code class=3D"xref py py-meth docutils literal notranslate"><span class=3D=
"pre">from_param()</span></code> class method of the items in the <a class=
=3D"reference internal" href=3D"https://docs.python.org/3/library/ctypes.ht=
ml?highlight=3Dctypes#ctypes._FuncPtr.argtypes" title=3D"ctypes._FuncPtr.ar=
gtypes"><code class=3D"xref py py-attr docutils literal notranslate"><span =
class=3D"pre">argtypes</span></code></a>
tuple, this method allows adapting the actual argument to an object that
the foreign function accepts.  For example, a <a class=3D"reference interna=
l" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes=
#ctypes.c_char_p" title=3D"ctypes.c_char_p"><code class=3D"xref py py-class=
 docutils literal notranslate"><span class=3D"pre">c_char_p</span></code></=
a> item in
the <a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#ctypes._FuncPtr.argtypes" title=3D"ctypes=
._FuncPtr.argtypes"><code class=3D"xref py py-attr docutils literal notrans=
late"><span class=3D"pre">argtypes</span></code></a> tuple will convert a s=
tring passed as argument into
a bytes object using <span class=3D"highlighted">ctypes</span> conversion r=
ules.</p>
<p>New: It is now possible to put items in argtypes which are not <span cla=
ss=3D"highlighted">ctypes</span>
types, but each item must have a <code class=3D"xref py py-meth docutils li=
teral notranslate"><span class=3D"pre">from_param()</span></code> method wh=
ich returns a
value usable as argument (integer, string, ctypes instance).  This allows
defining adapters that can adapt custom objects as function parameters.</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes._FuncPtr.errcheck">
<code class=3D"sig-name descname">errcheck</code><a class=3D"headerlink" hr=
ef=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctyp=
es._FuncPtr.errcheck" title=3D"Permalink to this definition">=C2=B6</a></dt=
>
<dd><p>Assign a Python function or another callable to this attribute. The
callable will be called with three or more arguments:</p>
<dl class=3D"function">
<dt>
<code class=3D"sig-name descname">callable</code><span class=3D"sig-paren">=
(</span><em class=3D"sig-param">result</em>, <em class=3D"sig-param">func</=
em>, <em class=3D"sig-param">arguments</em><span class=3D"sig-paren">)</spa=
n></dt>
<dd><p><em>result</em> is what the foreign function returns, as specified b=
y the
<code class=3D"xref py py-attr docutils literal notranslate"><span class=3D=
"pre">restype</span></code> attribute.</p>
<p><em>func</em> is the foreign function object itself, this allows reusing=
 the
same callable object to check or post process the results of several
functions.</p>
<p><em>arguments</em> is a tuple containing the parameters originally passe=
d to
the function call, this allows specializing the behavior on the
arguments used.</p>
</dd></dl>

<p>The object that this function returns will be returned from the
foreign function call, but it can also check the result value
and raise an exception if the foreign function call failed.</p>
</dd></dl>

</dd></dl>

<dl class=3D"exception">
<dt id=3D"ctypes.ArgumentError">
<em class=3D"property">exception </em><code class=3D"sig-prename descclassn=
ame"><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-na=
me descname">ArgumentError</code><a class=3D"headerlink" href=3D"https://do=
cs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.ArgumentError=
" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This exception is raised when a foreign function call cannot convert=
 one of the
passed arguments.</p>
</dd></dl>

<p class=3D"audit-hook"></p><p>On Windows, when a foreign function call rai=
ses a system exception (for
example, due to an access violation), it will be captured and replaced with
a suitable Python exception. Further, an auditing event
<code class=3D"docutils literal notranslate"><span class=3D"pre"><span clas=
s=3D"highlighted">ctypes</span>.seh_exception</span></code> with argument <=
code class=3D"docutils literal notranslate"><span class=3D"pre">code</span>=
</code> will be raised, allowing an
audit hook to replace the exception with its own.</p>
<p></p>
<p class=3D"audit-hook"></p><p>Some ways to invoke foreign function calls m=
ay raise an auditing event
<code class=3D"docutils literal notranslate"><span class=3D"pre"><span clas=
s=3D"highlighted">ctypes</span>.call_function</span></code> with arguments =
<code class=3D"docutils literal notranslate"><span class=3D"pre">function</=
span> <span class=3D"pre">pointer</span></code> and <code class=3D"docutils=
 literal notranslate"><span class=3D"pre">arguments</span></code>.</p>
<p></p>
</div>
<div class=3D"section" id=3D"function-prototypes">
<span id=3D"ctypes-function-prototypes"></span><h3>Function prototypes<a cl=
ass=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?hi=
ghlight=3Dctypes#function-prototypes" title=3D"Permalink to this headline">=
=C2=B6</a></h3>
<p>Foreign functions can also be created by instantiating function prototyp=
es.
Function prototypes are similar to function prototypes in C; they describe =
a
function (return type, argument types, calling convention) without defining=
 an
implementation.  The factory functions must be called with the desired resu=
lt
type and the argument types of the function, and can be used as decorator
factories, and as such, be applied to functions through the <code class=3D"=
docutils literal notranslate"><span class=3D"pre">@wrapper</span></code> sy=
ntax.
See <a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#ctypes-callback-functions"><span class=3D=
"std std-ref">Callback functions</span></a> for examples.</p>
<dl class=3D"function">
<dt id=3D"ctypes.CFUNCTYPE">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">CFUNCTYPE</code><span cla=
ss=3D"sig-paren">(</span><em class=3D"sig-param">restype</em>, <em class=3D=
"sig-param">*argtypes</em>, <em class=3D"sig-param">use_errno=3DFalse</em>,=
 <em class=3D"sig-param">use_last_error=3DFalse</em><span class=3D"sig-pare=
n">)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/librar=
y/ctypes.html?highlight=3Dctypes#ctypes.CFUNCTYPE" title=3D"Permalink to th=
is definition">=C2=B6</a></dt>
<dd><p>The returned function prototype creates functions that use the stand=
ard C
calling convention.  The function will release the GIL during the call.  If
<em>use_errno</em> is set to true, the <span class=3D"highlighted">ctypes</=
span> private copy of the system
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/e=
rrno.html#module-errno" title=3D"errno: Standard errno system symbols."><co=
de class=3D"xref py py-data docutils literal notranslate"><span class=3D"pr=
e">errno</span></code></a> variable is exchanged with the real <a class=3D"=
reference internal" href=3D"https://docs.python.org/3/library/errno.html#mo=
dule-errno" title=3D"errno: Standard errno system symbols."><code class=3D"=
xref py py-data docutils literal notranslate"><span class=3D"pre">errno</sp=
an></code></a> value before
and after the call; <em>use_last_error</em> does the same for the Windows e=
rror
code.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.WINFUNCTYPE">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">WINFUNCTYPE</code><span c=
lass=3D"sig-paren">(</span><em class=3D"sig-param">restype</em>, <em class=
=3D"sig-param">*argtypes</em>, <em class=3D"sig-param">use_errno=3DFalse</e=
m>, <em class=3D"sig-param">use_last_error=3DFalse</em><span class=3D"sig-p=
aren">)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/lib=
rary/ctypes.html?highlight=3Dctypes#ctypes.WINFUNCTYPE" title=3D"Permalink =
to this definition">=C2=B6</a></dt>
<dd><p>Windows only: The returned function prototype creates functions that=
 use the
<code class=3D"docutils literal notranslate"><span class=3D"pre">stdcall</s=
pan></code> calling convention, except on Windows CE where
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.WINFUNCTYPE" title=3D"ctypes.WINFUNCTY=
PE"><code class=3D"xref py py-func docutils literal notranslate"><span clas=
s=3D"pre">WINFUNCTYPE()</span></code></a> is the same as <a class=3D"refere=
nce internal" href=3D"https://docs.python.org/3/library/ctypes.html?highlig=
ht=3Dctypes#ctypes.CFUNCTYPE" title=3D"ctypes.CFUNCTYPE"><code class=3D"xre=
f py py-func docutils literal notranslate"><span class=3D"pre">CFUNCTYPE()<=
/span></code></a>.  The function will
release the GIL during the call.  <em>use_errno</em> and <em>use_last_error=
</em> have the
same meaning as above.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.PYFUNCTYPE">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">PYFUNCTYPE</code><span cl=
ass=3D"sig-paren">(</span><em class=3D"sig-param">restype</em>, <em class=
=3D"sig-param">*argtypes</em><span class=3D"sig-paren">)</span><a class=3D"=
headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=
=3Dctypes#ctypes.PYFUNCTYPE" title=3D"Permalink to this definition">=C2=B6<=
/a></dt>
<dd><p>The returned function prototype creates functions that use the Pytho=
n calling
convention.  The function will <em>not</em> release the GIL during the call=
.</p>
</dd></dl>

<p>Function prototypes created by these factory functions can be instantiat=
ed in
different ways, depending on the type and number of the parameters in the c=
all:</p>
<blockquote>
<div><dl class=3D"function">
<dt>
<code class=3D"sig-name descname">prototype</code><span class=3D"sig-paren"=
>(</span><em class=3D"sig-param">address</em><span class=3D"sig-paren">)</s=
pan></dt>
<dd><p>Returns a foreign function at the specified address which must be an=
 integer.</p>
</dd></dl>

<dl class=3D"function">
<dt>
<code class=3D"sig-name descname">prototype</code><span class=3D"sig-paren"=
>(</span><em class=3D"sig-param">callable</em><span class=3D"sig-paren">)</=
span></dt>
<dd><p>Create a C callable function (a callback function) from a Python <em=
>callable</em>.</p>
</dd></dl>

<dl class=3D"function">
<dt>
<code class=3D"sig-name descname">prototype</code><span class=3D"sig-paren"=
>(</span><em class=3D"sig-param">func_spec</em><span class=3D"optional">[</=
span>, <em class=3D"sig-param">paramflags</em><span class=3D"optional">]</s=
pan><span class=3D"sig-paren">)</span></dt>
<dd><p>Returns a foreign function exported by a shared library. <em>func_sp=
ec</em> must
be a 2-tuple <code class=3D"docutils literal notranslate"><span class=3D"pr=
e">(name_or_ordinal,</span> <span class=3D"pre">library)</span></code>. The=
 first item is the name of
the exported function as string, or the ordinal of the exported function
as small integer.  The second item is the shared library instance.</p>
</dd></dl>

<dl class=3D"function">
<dt>
<code class=3D"sig-name descname">prototype</code><span class=3D"sig-paren"=
>(</span><em class=3D"sig-param">vtbl_index</em>, <em class=3D"sig-param">n=
ame</em><span class=3D"optional">[</span>, <em class=3D"sig-param">paramfla=
gs</em><span class=3D"optional">[</span>, <em class=3D"sig-param">iid</em><=
span class=3D"optional">]</span><span class=3D"optional">]</span><span clas=
s=3D"sig-paren">)</span></dt>
<dd><p>Returns a foreign function that will call a COM method. <em>vtbl_ind=
ex</em> is
the index into the virtual function table, a small non-negative
integer. <em>name</em> is name of the COM method. <em>iid</em> is an option=
al pointer to
the interface identifier which is used in extended error reporting.</p>
<p>COM methods use a special calling convention: They require a pointer to
the COM interface as first argument, in addition to those parameters that
are specified in the <code class=3D"xref py py-attr docutils literal notran=
slate"><span class=3D"pre">argtypes</span></code> tuple.</p>
</dd></dl>

<p>The optional <em>paramflags</em> parameter creates foreign function wrap=
pers with much
more functionality than the features described above.</p>
<p><em>paramflags</em> must be a tuple of the same length as <code class=3D=
"xref py py-attr docutils literal notranslate"><span class=3D"pre">argtypes=
</span></code>.</p>
<p>Each item in this tuple contains further information about a parameter, =
it must
be a tuple containing one, two, or three items.</p>
<p>The first item is an integer containing a combination of direction
flags for the parameter:</p>
<blockquote>
<div><dl class=3D"simple">
<dt>1</dt><dd><p>Specifies an input parameter to the function.</p>
</dd>
<dt>2</dt><dd><p>Output parameter.  The foreign function fills in a value.<=
/p>
</dd>
<dt>4</dt><dd><p>Input parameter which defaults to the integer zero.</p>
</dd>
</dl>
</div></blockquote>
<p>The optional second item is the parameter name as string.  If this is sp=
ecified,
the foreign function can be called with named parameters.</p>
<p>The optional third item is the default value for this parameter.</p>
</div></blockquote>
<p>This example demonstrates how to wrap the Windows <code class=3D"docutil=
s literal notranslate"><span class=3D"pre">MessageBoxW</span></code> functi=
on so
that it supports default parameters and named arguments. The C declaration =
from
the windows header file is this:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"n">WINUSERAPI</sp=
an> <span class=3D"nb">int</span> <span class=3D"n">WINAPI</span>
<span class=3D"n">MessageBoxW</span><span class=3D"p">(</span>
    <span class=3D"n">HWND</span> <span class=3D"n">hWnd</span><span class=
=3D"p">,</span>
    <span class=3D"n">LPCWSTR</span> <span class=3D"n">lpText</span><span c=
lass=3D"p">,</span>
    <span class=3D"n">LPCWSTR</span> <span class=3D"n">lpCaption</span><spa=
n class=3D"p">,</span>
    <span class=3D"n">UINT</span> <span class=3D"n">uType</span><span class=
=3D"p">);</span>
</pre></div>
</div>
<p>Here is the wrapping with <a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" t=
itle=3D"ctypes: A foreign function library for Python."><code class=3D"xref=
 py py-mod docutils literal notranslate"><span class=3D"pre"><span class=3D=
"highlighted">ctypes</span></span></code></a>:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"n">c_int</span><sp=
an class=3D"p">,</span> <span class=3D"n">WINFUNCTYPE</span><span class=3D"=
p">,</span> <span class=3D"n">windll</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"kn">from</span> <span=
 class=3D"nn"><span class=3D"highlighted">ctypes</span>.wintypes</span> <sp=
an class=3D"kn">import</span> <span class=3D"n">HWND</span><span class=3D"p=
">,</span> <span class=3D"n">LPCWSTR</span><span class=3D"p">,</span> <span=
 class=3D"n">UINT</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">prototype</span> <=
span class=3D"o">=3D</span> <span class=3D"n">WINFUNCTYPE</span><span class=
=3D"p">(</span><span class=3D"n">c_int</span><span class=3D"p">,</span> <sp=
an class=3D"n">HWND</span><span class=3D"p">,</span> <span class=3D"n">LPCW=
STR</span><span class=3D"p">,</span> <span class=3D"n">LPCWSTR</span><span =
class=3D"p">,</span> <span class=3D"n">UINT</span><span class=3D"p">)</span=
>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">paramflags</span> =
<span class=3D"o">=3D</span> <span class=3D"p">(</span><span class=3D"mi">1=
</span><span class=3D"p">,</span> <span class=3D"s2">"hwnd"</span><span cla=
ss=3D"p">,</span> <span class=3D"mi">0</span><span class=3D"p">),</span> <s=
pan class=3D"p">(</span><span class=3D"mi">1</span><span class=3D"p">,</spa=
n> <span class=3D"s2">"text"</span><span class=3D"p">,</span> <span class=
=3D"s2">"Hi"</span><span class=3D"p">),</span> <span class=3D"p">(</span><s=
pan class=3D"mi">1</span><span class=3D"p">,</span> <span class=3D"s2">"cap=
tion"</span><span class=3D"p">,</span> <span class=3D"s2">"Hello from <span=
 class=3D"highlighted">ctypes</span>"</span><span class=3D"p">),</span> <sp=
an class=3D"p">(</span><span class=3D"mi">1</span><span class=3D"p">,</span=
> <span class=3D"s2">"flags"</span><span class=3D"p">,</span> <span class=
=3D"mi">0</span><span class=3D"p">)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">MessageBox</span> =
<span class=3D"o">=3D</span> <span class=3D"n">prototype</span><span class=
=3D"p">((</span><span class=3D"s2">"MessageBoxW"</span><span class=3D"p">,<=
/span> <span class=3D"n">windll</span><span class=3D"o">.</span><span class=
=3D"n">user32</span><span class=3D"p">),</span> <span class=3D"n">paramflag=
s</span><span class=3D"p">)</span>
</pre></div>
</div>
<p>The <code class=3D"docutils literal notranslate"><span class=3D"pre">Mes=
sageBox</span></code> foreign function can now be called in these ways:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
n">MessageBox</span><span class=3D"p">()</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">MessageBox</span><=
span class=3D"p">(</span><span class=3D"n">text</span><span class=3D"o">=3D=
</span><span class=3D"s2">"Spam, spam, spam"</span><span class=3D"p">)</spa=
n>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">MessageBox</span><=
span class=3D"p">(</span><span class=3D"n">flags</span><span class=3D"o">=
=3D</span><span class=3D"mi">2</span><span class=3D"p">,</span> <span class=
=3D"n">text</span><span class=3D"o">=3D</span><span class=3D"s2">"foo bar"<=
/span><span class=3D"p">)</span>
</pre></div>
</div>
<p>A second example demonstrates output parameters.  The win32 <code class=
=3D"docutils literal notranslate"><span class=3D"pre">GetWindowRect</span><=
/code>
function retrieves the dimensions of a specified window by copying them int=
o
<code class=3D"docutils literal notranslate"><span class=3D"pre">RECT</span=
></code> structure that the caller has to supply.  Here is the C declaratio=
n:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"n">WINUSERAPI</sp=
an> <span class=3D"n">BOOL</span> <span class=3D"n">WINAPI</span>
<span class=3D"n">GetWindowRect</span><span class=3D"p">(</span>
     <span class=3D"n">HWND</span> <span class=3D"n">hWnd</span><span class=
=3D"p">,</span>
     <span class=3D"n">LPRECT</span> <span class=3D"n">lpRect</span><span c=
lass=3D"p">);</span>
</pre></div>
</div>
<p>Here is the wrapping with <a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" t=
itle=3D"ctypes: A foreign function library for Python."><code class=3D"xref=
 py py-mod docutils literal notranslate"><span class=3D"pre"><span class=3D=
"highlighted">ctypes</span></span></code></a>:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
kn">from</span> <span class=3D"nn"><span class=3D"highlighted">ctypes</span=
></span> <span class=3D"kn">import</span> <span class=3D"n">POINTER</span><=
span class=3D"p">,</span> <span class=3D"n">WINFUNCTYPE</span><span class=
=3D"p">,</span> <span class=3D"n">windll</span><span class=3D"p">,</span> <=
span class=3D"n">WinError</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"kn">from</span> <span=
 class=3D"nn"><span class=3D"highlighted">ctypes</span>.wintypes</span> <sp=
an class=3D"kn">import</span> <span class=3D"n">BOOL</span><span class=3D"p=
">,</span> <span class=3D"n">HWND</span><span class=3D"p">,</span> <span cl=
ass=3D"n">RECT</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">prototype</span> <=
span class=3D"o">=3D</span> <span class=3D"n">WINFUNCTYPE</span><span class=
=3D"p">(</span><span class=3D"n">BOOL</span><span class=3D"p">,</span> <spa=
n class=3D"n">HWND</span><span class=3D"p">,</span> <span class=3D"n">POINT=
ER</span><span class=3D"p">(</span><span class=3D"n">RECT</span><span class=
=3D"p">))</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">paramflags</span> =
<span class=3D"o">=3D</span> <span class=3D"p">(</span><span class=3D"mi">1=
</span><span class=3D"p">,</span> <span class=3D"s2">"hwnd"</span><span cla=
ss=3D"p">),</span> <span class=3D"p">(</span><span class=3D"mi">2</span><sp=
an class=3D"p">,</span> <span class=3D"s2">"lprect"</span><span class=3D"p"=
>)</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">GetWindowRect</spa=
n> <span class=3D"o">=3D</span> <span class=3D"n">prototype</span><span cla=
ss=3D"p">((</span><span class=3D"s2">"GetWindowRect"</span><span class=3D"p=
">,</span> <span class=3D"n">windll</span><span class=3D"o">.</span><span c=
lass=3D"n">user32</span><span class=3D"p">),</span> <span class=3D"n">param=
flags</span><span class=3D"p">)</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Functions with output parameters will automatically return the output pa=
rameter
value if there is a single one, or a tuple containing the output parameter
values when there are more than one, so the GetWindowRect function now retu=
rns a
RECT instance, when called.</p>
<p>Output parameters can be combined with the <code class=3D"xref py py-att=
r docutils literal notranslate"><span class=3D"pre">errcheck</span></code> =
protocol to do
further output processing and error checking.  The win32 <code class=3D"doc=
utils literal notranslate"><span class=3D"pre">GetWindowRect</span></code> =
api
function returns a <code class=3D"docutils literal notranslate"><span class=
=3D"pre">BOOL</span></code> to signal success or failure, so this function =
could
do the error checking, and raises an exception when the api call failed:</p=
>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">def</span> <span class=3D"nf">errcheck</span><span class=3D"p">(</span><=
span class=3D"n">result</span><span class=3D"p">,</span> <span class=3D"n">=
func</span><span class=3D"p">,</span> <span class=3D"n">args</span><span cl=
ass=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"k">if</span> <span class=
=3D"ow">not</span> <span class=3D"n">result</span><span class=3D"p">:</span=
>
<span class=3D"gp">... </span>        <span class=3D"k">raise</span> <span =
class=3D"n">WinError</span><span class=3D"p">()</span>
<span class=3D"gp">... </span>    <span class=3D"k">return</span> <span cla=
ss=3D"n">args</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">GetWindowRect</spa=
n><span class=3D"o">.</span><span class=3D"n">errcheck</span> <span class=
=3D"o">=3D</span> <span class=3D"n">errcheck</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>If the <code class=3D"xref py py-attr docutils literal notranslate"><spa=
n class=3D"pre">errcheck</span></code> function returns the argument tuple =
it receives
unchanged, <a class=3D"reference internal" href=3D"https://docs.python.org/=
3/library/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A =
foreign function library for Python."><code class=3D"xref py py-mod docutil=
s literal notranslate"><span class=3D"pre"><span class=3D"highlighted">ctyp=
es</span></span></code></a> continues the normal processing it does on the =
output
parameters.  If you want to return a tuple of window coordinates instead of=
 a
<code class=3D"docutils literal notranslate"><span class=3D"pre">RECT</span=
></code> instance, you can retrieve the fields in the function and return t=
hem
instead, the normal processing will no longer take place:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><span class=3D"copybutton" title=3D"Hide the promp=
ts and output" style=3D"cursor: pointer; position: absolute; top: 0px; righ=
t: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width=
: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2=
em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</sp=
an><pre><span></span><span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"=
k">def</span> <span class=3D"nf">errcheck</span><span class=3D"p">(</span><=
span class=3D"n">result</span><span class=3D"p">,</span> <span class=3D"n">=
func</span><span class=3D"p">,</span> <span class=3D"n">args</span><span cl=
ass=3D"p">):</span>
<span class=3D"gp">... </span>    <span class=3D"k">if</span> <span class=
=3D"ow">not</span> <span class=3D"n">result</span><span class=3D"p">:</span=
>
<span class=3D"gp">... </span>        <span class=3D"k">raise</span> <span =
class=3D"n">WinError</span><span class=3D"p">()</span>
<span class=3D"gp">... </span>    <span class=3D"n">rc</span> <span class=
=3D"o">=3D</span> <span class=3D"n">args</span><span class=3D"p">[</span><s=
pan class=3D"mi">1</span><span class=3D"p">]</span>
<span class=3D"gp">... </span>    <span class=3D"k">return</span> <span cla=
ss=3D"n">rc</span><span class=3D"o">.</span><span class=3D"n">left</span><s=
pan class=3D"p">,</span> <span class=3D"n">rc</span><span class=3D"o">.</sp=
an><span class=3D"n">top</span><span class=3D"p">,</span> <span class=3D"n"=
>rc</span><span class=3D"o">.</span><span class=3D"n">bottom</span><span cl=
ass=3D"p">,</span> <span class=3D"n">rc</span><span class=3D"o">.</span><sp=
an class=3D"n">right</span>
<span class=3D"gp">...</span>
<span class=3D"gp">&gt;&gt;&gt; </span><span class=3D"n">GetWindowRect</spa=
n><span class=3D"o">.</span><span class=3D"n">errcheck</span> <span class=
=3D"o">=3D</span> <span class=3D"n">errcheck</span>
<span class=3D"go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class=3D"section" id=3D"utility-functions">
<span id=3D"ctypes-utility-functions"></span><h3>Utility functions<a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#utility-functions" title=3D"Permalink to this headline">=C2=
=B6</a></h3>
<dl class=3D"function">
<dt id=3D"ctypes.addressof">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">addressof</code><span cla=
ss=3D"sig-paren">(</span><em class=3D"sig-param">obj</em><span class=3D"sig=
-paren">)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/l=
ibrary/ctypes.html?highlight=3Dctypes#ctypes.addressof" title=3D"Permalink =
to this definition">=C2=B6</a></dt>
<dd><p>Returns the address of the memory buffer as integer.  <em>obj</em> m=
ust be an
instance of a <span class=3D"highlighted">ctypes</span> type.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.addressof</s=
pan></code> with argument <code class=3D"docutils literal notranslate"><spa=
n class=3D"pre">obj</span></code>.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.alignment">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">alignment</code><span cla=
ss=3D"sig-paren">(</span><em class=3D"sig-param">obj_or_type</em><span clas=
s=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.alignment" title=3D"Pe=
rmalink to this definition">=C2=B6</a></dt>
<dd><p>Returns the alignment requirements of a <span class=3D"highlighted">=
ctypes</span> type. <em>obj_or_type</em> must be a
ctypes type or instance.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.byref">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">byref</code><span class=
=3D"sig-paren">(</span><em class=3D"sig-param">obj</em><span class=3D"optio=
nal">[</span>, <em class=3D"sig-param">offset</em><span class=3D"optional">=
]</span><span class=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"h=
ttps://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.byre=
f" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Returns a light-weight pointer to <em>obj</em>, which must be an ins=
tance of a
<span class=3D"highlighted">ctypes</span> type.  <em>offset</em> defaults t=
o zero, and must be an integer that will be
added to the internal pointer value.</p>
<p><code class=3D"docutils literal notranslate"><span class=3D"pre">byref(o=
bj,</span> <span class=3D"pre">offset)</span></code> corresponds to this C =
code:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"p">(((</span><spa=
n class=3D"n">char</span> <span class=3D"o">*</span><span class=3D"p">)</sp=
an><span class=3D"o">&amp;</span><span class=3D"n">obj</span><span class=3D=
"p">)</span> <span class=3D"o">+</span> <span class=3D"n">offset</span><spa=
n class=3D"p">)</span>
</pre></div>
</div>
<p>The returned object can only be used as a foreign function call paramete=
r.
It behaves similar to <code class=3D"docutils literal notranslate"><span cl=
ass=3D"pre">pointer(obj)</span></code>, but the construction is a lot faste=
r.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.cast">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">cast</code><span class=3D=
"sig-paren">(</span><em class=3D"sig-param">obj</em>, <em class=3D"sig-para=
m">type</em><span class=3D"sig-paren">)</span><a class=3D"headerlink" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
.cast" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This function is similar to the cast operator in C. It returns a new=
 instance
of <em>type</em> which points to the same memory block as <em>obj</em>.  <e=
m>type</em> must be a
pointer type, and <em>obj</em> must be an object that can be interpreted as=
 a
pointer.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.create_string_buffer">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">create_string_buffer</cod=
e><span class=3D"sig-paren">(</span><em class=3D"sig-param">init_or_size</e=
m>, <em class=3D"sig-param">size=3DNone</em><span class=3D"sig-paren">)</sp=
an><a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes=
.html?highlight=3Dctypes#ctypes.create_string_buffer" title=3D"Permalink to=
 this definition">=C2=B6</a></dt>
<dd><p>This function creates a mutable character buffer. The returned objec=
t is a
<span class=3D"highlighted">ctypes</span> array of <a class=3D"reference in=
ternal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dc=
types#ctypes.c_char" title=3D"ctypes.c_char"><code class=3D"xref py py-clas=
s docutils literal notranslate"><span class=3D"pre">c_char</span></code></a=
>.</p>
<p><em>init_or_size</em> must be an integer which specifies the size of the=
 array, or a
bytes object which will be used to initialize the array items.</p>
<p>If a bytes object is specified as first argument, the buffer is made one=
 item
larger than its length so that the last element in the array is a NUL
termination character. An integer can be passed as second argument which al=
lows
specifying the size of the array if the length of the bytes should not be u=
sed.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.create_strin=
g_buffer</span></code> with arguments <code class=3D"docutils literal notra=
nslate"><span class=3D"pre">init</span></code>, <code class=3D"docutils lit=
eral notranslate"><span class=3D"pre">size</span></code>.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.create_unicode_buffer">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">create_unicode_buffer</co=
de><span class=3D"sig-paren">(</span><em class=3D"sig-param">init_or_size</=
em>, <em class=3D"sig-param">size=3DNone</em><span class=3D"sig-paren">)</s=
pan><a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ctype=
s.html?highlight=3Dctypes#ctypes.create_unicode_buffer" title=3D"Permalink =
to this definition">=C2=B6</a></dt>
<dd><p>This function creates a mutable unicode character buffer. The return=
ed object is
a <span class=3D"highlighted">ctypes</span> array of <a class=3D"reference =
internal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=
=3Dctypes#ctypes.c_wchar" title=3D"ctypes.c_wchar"><code class=3D"xref py p=
y-class docutils literal notranslate"><span class=3D"pre">c_wchar</span></c=
ode></a>.</p>
<p><em>init_or_size</em> must be an integer which specifies the size of the=
 array, or a
string which will be used to initialize the array items.</p>
<p>If a string is specified as first argument, the buffer is made one item
larger than the length of the string so that the last element in the array =
is a
NUL termination character. An integer can be passed as second argument whic=
h
allows specifying the size of the array if the length of the string should =
not
be used.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.create_unico=
de_buffer</span></code> with arguments <code class=3D"docutils literal notr=
anslate"><span class=3D"pre">init</span></code>, <code class=3D"docutils li=
teral notranslate"><span class=3D"pre">size</span></code>.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.DllCanUnloadNow">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">DllCanUnloadNow</code><sp=
an class=3D"sig-paren">(</span><span class=3D"sig-paren">)</span><a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#ctypes.DllCanUnloadNow" title=3D"Permalink to this definition=
">=C2=B6</a></dt>
<dd><p>Windows only: This function is a hook which allows implementing in-p=
rocess
COM servers with <span class=3D"highlighted">ctypes</span>.  It is called f=
rom the DllCanUnloadNow function that
the _ctypes extension dll exports.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.DllGetClassObject">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">DllGetClassObject</code><=
span class=3D"sig-paren">(</span><span class=3D"sig-paren">)</span><a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#ctypes.DllGetClassObject" title=3D"Permalink to this definiti=
on">=C2=B6</a></dt>
<dd><p>Windows only: This function is a hook which allows implementing in-p=
rocess
COM servers with <span class=3D"highlighted">ctypes</span>.  It is called f=
rom the DllGetClassObject function
that the <code class=3D"docutils literal notranslate"><span class=3D"pre">_=
ctypes</span></code> extension dll exports.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.util.find_library">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.util.</code><code class=3D"sig-name descname">find_library</code><=
span class=3D"sig-paren">(</span><em class=3D"sig-param">name</em><span cla=
ss=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https://docs.pytho=
n.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.util.find_library" ti=
tle=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Try to find a library and return a pathname.  <em>name</em> is the l=
ibrary name
without any prefix like <code class=3D"docutils literal notranslate"><span =
class=3D"pre">lib</span></code>, suffix like <code class=3D"docutils litera=
l notranslate"><span class=3D"pre">.so</span></code>, <code class=3D"docuti=
ls literal notranslate"><span class=3D"pre">.dylib</span></code> or version
number (this is the form used for the posix linker option <code class=3D"xr=
ef std std-option docutils literal notranslate"><span class=3D"pre">-l</spa=
n></code>).  If
no library can be found, returns <code class=3D"docutils literal notranslat=
e"><span class=3D"pre">None</span></code>.</p>
<p>The exact functionality is system dependent.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.util.find_msvcrt">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.util.</code><code class=3D"sig-name descname">find_msvcrt</code><s=
pan class=3D"sig-paren">(</span><span class=3D"sig-paren">)</span><a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#ctypes.util.find_msvcrt" title=3D"Permalink to this definitio=
n">=C2=B6</a></dt>
<dd><p>Windows only: return the filename of the VC runtime library used by =
Python,
and by the extension modules.  If the name of the library cannot be
determined, <code class=3D"docutils literal notranslate"><span class=3D"pre=
">None</span></code> is returned.</p>
<p>If you need to free memory, for example, allocated by an extension modul=
e
with a call to the <code class=3D"docutils literal notranslate"><span class=
=3D"pre">free(void</span> <span class=3D"pre">*)</span></code>, it is impor=
tant that you use the
function in the same library that allocated the memory.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.FormatError">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">FormatError</code><span c=
lass=3D"sig-paren">(</span><span class=3D"optional">[</span><em class=3D"si=
g-param">code</em><span class=3D"optional">]</span><span class=3D"sig-paren=
">)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/library=
/ctypes.html?highlight=3Dctypes#ctypes.FormatError" title=3D"Permalink to t=
his definition">=C2=B6</a></dt>
<dd><p>Windows only: Returns a textual description of the error code <em>co=
de</em>.  If no
error code is specified, the last error code is used by calling the Windows
api function GetLastError.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.GetLastError">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">GetLastError</code><span =
class=3D"sig-paren">(</span><span class=3D"sig-paren">)</span><a class=3D"h=
eaderlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=
=3Dctypes#ctypes.GetLastError" title=3D"Permalink to this definition">=C2=
=B6</a></dt>
<dd><p>Windows only: Returns the last error code set by Windows in the call=
ing thread.
This function calls the Windows <cite>GetLastError()</cite> function direct=
ly,
it does not return the <span class=3D"highlighted">ctypes</span>-private co=
py of the error code.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.get_errno">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">get_errno</code><span cla=
ss=3D"sig-paren">(</span><span class=3D"sig-paren">)</span><a class=3D"head=
erlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dc=
types#ctypes.get_errno" title=3D"Permalink to this definition">=C2=B6</a></=
dt>
<dd><p>Returns the current value of the <span class=3D"highlighted">ctypes<=
/span>-private copy of the system
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/e=
rrno.html#module-errno" title=3D"errno: Standard errno system symbols."><co=
de class=3D"xref py py-data docutils literal notranslate"><span class=3D"pr=
e">errno</span></code></a> variable in the calling thread.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.get_errno</s=
pan></code> with no arguments.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.get_last_error">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">get_last_error</code><spa=
n class=3D"sig-paren">(</span><span class=3D"sig-paren">)</span><a class=3D=
"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highligh=
t=3Dctypes#ctypes.get_last_error" title=3D"Permalink to this definition">=
=C2=B6</a></dt>
<dd><p>Windows only: returns the current value of the <span class=3D"highli=
ghted">ctypes</span>-private copy of the system
<code class=3D"xref py py-data docutils literal notranslate"><span class=3D=
"pre">LastError</span></code> variable in the calling thread.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.get_last_err=
or</span></code> with no arguments.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.memmove">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">memmove</code><span class=
=3D"sig-paren">(</span><em class=3D"sig-param">dst</em>, <em class=3D"sig-p=
aram">src</em>, <em class=3D"sig-param">count</em><span class=3D"sig-paren"=
>)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/library/=
ctypes.html?highlight=3Dctypes#ctypes.memmove" title=3D"Permalink to this d=
efinition">=C2=B6</a></dt>
<dd><p>Same as the standard C memmove library function: copies <em>count</e=
m> bytes from
<em>src</em> to <em>dst</em>. <em>dst</em> and <em>src</em> must be integer=
s or <span class=3D"highlighted">ctypes</span> instances that can
be converted to pointers.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.memset">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">memset</code><span class=
=3D"sig-paren">(</span><em class=3D"sig-param">dst</em>, <em class=3D"sig-p=
aram">c</em>, <em class=3D"sig-param">count</em><span class=3D"sig-paren">)=
</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ct=
ypes.html?highlight=3Dctypes#ctypes.memset" title=3D"Permalink to this defi=
nition">=C2=B6</a></dt>
<dd><p>Same as the standard C memset library function: fills the memory blo=
ck at
address <em>dst</em> with <em>count</em> bytes of value <em>c</em>. <em>dst=
</em> must be an integer
specifying an address, or a <span class=3D"highlighted">ctypes</span> insta=
nce.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.POINTER">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">POINTER</code><span class=
=3D"sig-paren">(</span><em class=3D"sig-param">type</em><span class=3D"sig-=
paren">)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/li=
brary/ctypes.html?highlight=3Dctypes#ctypes.POINTER" title=3D"Permalink to =
this definition">=C2=B6</a></dt>
<dd><p>This factory function creates and returns a new <span class=3D"highl=
ighted">ctypes</span> pointer type. Pointer
types are cached and reused internally, so calling this function repeatedly=
 is
cheap. <em>type</em> must be a ctypes type.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.pointer">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">pointer</code><span class=
=3D"sig-paren">(</span><em class=3D"sig-param">obj</em><span class=3D"sig-p=
aren">)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/lib=
rary/ctypes.html?highlight=3Dctypes#ctypes.pointer" title=3D"Permalink to t=
his definition">=C2=B6</a></dt>
<dd><p>This function creates a new pointer instance, pointing to <em>obj</e=
m>. The returned
object is of the type <code class=3D"docutils literal notranslate"><span cl=
ass=3D"pre">POINTER(type(obj))</span></code>.</p>
<p>Note: If you just want to pass a pointer to an object to a foreign funct=
ion
call, you should use <code class=3D"docutils literal notranslate"><span cla=
ss=3D"pre">byref(obj)</span></code> which is much faster.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.resize">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">resize</code><span class=
=3D"sig-paren">(</span><em class=3D"sig-param">obj</em>, <em class=3D"sig-p=
aram">size</em><span class=3D"sig-paren">)</span><a class=3D"headerlink" hr=
ef=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctyp=
es.resize" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This function resizes the internal memory buffer of <em>obj</em>, wh=
ich must be an
instance of a <span class=3D"highlighted">ctypes</span> type.  It is not po=
ssible to make the buffer smaller
than the native size of the objects type, as given by <code class=3D"docuti=
ls literal notranslate"><span class=3D"pre">sizeof(type(obj))</span></code>=
,
but it is possible to enlarge the buffer.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.set_errno">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">set_errno</code><span cla=
ss=3D"sig-paren">(</span><em class=3D"sig-param">value</em><span class=3D"s=
ig-paren">)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3=
/library/ctypes.html?highlight=3Dctypes#ctypes.set_errno" title=3D"Permalin=
k to this definition">=C2=B6</a></dt>
<dd><p>Set the current value of the <span class=3D"highlighted">ctypes</spa=
n>-private copy of the system <a class=3D"reference internal" href=3D"https=
://docs.python.org/3/library/errno.html#module-errno" title=3D"errno: Stand=
ard errno system symbols."><code class=3D"xref py py-data docutils literal =
notranslate"><span class=3D"pre">errno</span></code></a>
variable in the calling thread to <em>value</em> and return the previous va=
lue.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.set_errno</s=
pan></code> with argument <code class=3D"docutils literal notranslate"><spa=
n class=3D"pre">errno</span></code>.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.set_last_error">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">set_last_error</code><spa=
n class=3D"sig-paren">(</span><em class=3D"sig-param">value</em><span class=
=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.set_last_error" title=
=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Windows only: set the current value of the <span class=3D"highlighte=
d">ctypes</span>-private copy of the system
<code class=3D"xref py py-data docutils literal notranslate"><span class=3D=
"pre">LastError</span></code> variable in the calling thread to <em>value</=
em> and return the
previous value.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.set_last_err=
or</span></code> with argument <code class=3D"docutils literal notranslate"=
><span class=3D"pre">error</span></code>.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.sizeof">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">sizeof</code><span class=
=3D"sig-paren">(</span><em class=3D"sig-param">obj_or_type</em><span class=
=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.sizeof" title=3D"Permal=
ink to this definition">=C2=B6</a></dt>
<dd><p>Returns the size in bytes of a <span class=3D"highlighted">ctypes</s=
pan> type or instance memory buffer.
Does the same as the C <code class=3D"docutils literal notranslate"><span c=
lass=3D"pre">sizeof</span></code> operator.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.string_at">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">string_at</code><span cla=
ss=3D"sig-paren">(</span><em class=3D"sig-param">address</em>, <em class=3D=
"sig-param">size=3D-1</em><span class=3D"sig-paren">)</span><a class=3D"hea=
derlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3D=
ctypes#ctypes.string_at" title=3D"Permalink to this definition">=C2=B6</a><=
/dt>
<dd><p>This function returns the C string starting at memory address <em>ad=
dress</em> as a bytes
object. If size is specified, it is used as size, otherwise the string is a=
ssumed
to be zero-terminated.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.string_at</s=
pan></code> with arguments <code class=3D"docutils literal notranslate"><sp=
an class=3D"pre">address</span></code>, <code class=3D"docutils literal not=
ranslate"><span class=3D"pre">size</span></code>.</p>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.WinError">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">WinError</code><span clas=
s=3D"sig-paren">(</span><em class=3D"sig-param">code=3DNone</em>, <em class=
=3D"sig-param">descr=3DNone</em><span class=3D"sig-paren">)</span><a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#ctypes.WinError" title=3D"Permalink to this definition">=C2=
=B6</a></dt>
<dd><p>Windows only: this function is probably the worst-named thing in <sp=
an class=3D"highlighted">ctypes</span>. It
creates an instance of OSError.  If <em>code</em> is not specified,
<code class=3D"docutils literal notranslate"><span class=3D"pre">GetLastErr=
or</span></code> is called to determine the error code. If <em>descr</em> i=
s not
specified, <a class=3D"reference internal" href=3D"https://docs.python.org/=
3/library/ctypes.html?highlight=3Dctypes#ctypes.FormatError" title=3D"ctype=
s.FormatError"><code class=3D"xref py py-func docutils literal notranslate"=
><span class=3D"pre">FormatError()</span></code></a> is called to get a tex=
tual description of the
error.</p>
<div class=3D"versionchanged">
<p><span class=3D"versionmodified changed">Changed in version 3.3: </span>A=
n instance of <a class=3D"reference internal" href=3D"https://docs.python.o=
rg/3/library/exceptions.html#WindowsError" title=3D"WindowsError"><code cla=
ss=3D"xref py py-exc docutils literal notranslate"><span class=3D"pre">Wind=
owsError</span></code></a> used to be created.</p>
</div>
</dd></dl>

<dl class=3D"function">
<dt id=3D"ctypes.wstring_at">
<code class=3D"sig-prename descclassname"><span class=3D"highlighted">ctype=
s</span>.</code><code class=3D"sig-name descname">wstring_at</code><span cl=
ass=3D"sig-paren">(</span><em class=3D"sig-param">address</em>, <em class=
=3D"sig-param">size=3D-1</em><span class=3D"sig-paren">)</span><a class=3D"=
headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=
=3Dctypes#ctypes.wstring_at" title=3D"Permalink to this definition">=C2=B6<=
/a></dt>
<dd><p>This function returns the wide character string starting at memory a=
ddress
<em>address</em> as a string.  If <em>size</em> is specified, it is used as=
 the number of
characters of the string, otherwise the string is assumed to be
zero-terminated.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.wstring_at</=
span></code> with arguments <code class=3D"docutils literal notranslate"><s=
pan class=3D"pre">address</span></code>, <code class=3D"docutils literal no=
translate"><span class=3D"pre">size</span></code>.</p>
</dd></dl>

</div>
<div class=3D"section" id=3D"data-types">
<span id=3D"ctypes-data-types"></span><h3>Data types<a class=3D"headerlink"=
 href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#d=
ata-types" title=3D"Permalink to this headline">=C2=B6</a></h3>
<dl class=3D"class">
<dt id=3D"ctypes._CData">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">_CData</code><a class=3D"headerlink" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes._CData" title=3D"Permali=
nk to this definition">=C2=B6</a></dt>
<dd><p>This non-public class is the common base class of all <span class=3D=
"highlighted">ctypes</span> data types.
Among other things, all <span class=3D"highlighted">ctypes</span> type inst=
ances contain a memory block that
hold C compatible data; the address of the memory block is returned by the
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.addressof" title=3D"ctypes.addressof">=
<code class=3D"xref py py-func docutils literal notranslate"><span class=3D=
"pre">addressof()</span></code></a> helper function. Another instance varia=
ble is exposed as
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes._CData._objects" title=3D"ctypes._CDat=
a._objects"><code class=3D"xref py py-attr docutils literal notranslate"><s=
pan class=3D"pre">_objects</span></code></a>; this contains other Python ob=
jects that need to be kept
alive in case the memory block contains pointers.</p>
<p>Common methods of <span class=3D"highlighted">ctypes</span> data types, =
these are all class methods (to be
exact, they are methods of the <a class=3D"reference internal" href=3D"http=
s://docs.python.org/3/glossary.html#term-metaclass"><span class=3D"xref std=
 std-term">metaclass</span></a>):</p>
<dl class=3D"method">
<dt id=3D"ctypes._CData.from_buffer">
<code class=3D"sig-name descname">from_buffer</code><span class=3D"sig-pare=
n">(</span><em class=3D"sig-param">source</em><span class=3D"optional">[</s=
pan>, <em class=3D"sig-param">offset</em><span class=3D"optional">]</span><=
span class=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https://do=
cs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes._CData.from_b=
uffer" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This method returns a <span class=3D"highlighted">ctypes</span> inst=
ance that shares the buffer of the
<em>source</em> object.  The <em>source</em> object must support the writea=
ble buffer
interface.  The optional <em>offset</em> parameter specifies an offset into=
 the
source buffer in bytes; the default is zero.  If the source buffer is not
large enough a <a class=3D"reference internal" href=3D"https://docs.python.=
org/3/library/exceptions.html#ValueError" title=3D"ValueError"><code class=
=3D"xref py py-exc docutils literal notranslate"><span class=3D"pre">ValueE=
rror</span></code></a> is raised.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.cdata/buffer=
</span></code> with arguments <code class=3D"docutils literal notranslate">=
<span class=3D"pre">pointer</span></code>, <code class=3D"docutils literal =
notranslate"><span class=3D"pre">size</span></code>, <code class=3D"docutil=
s literal notranslate"><span class=3D"pre">offset</span></code>.</p>
</dd></dl>

<dl class=3D"method">
<dt id=3D"ctypes._CData.from_buffer_copy">
<code class=3D"sig-name descname">from_buffer_copy</code><span class=3D"sig=
-paren">(</span><em class=3D"sig-param">source</em><span class=3D"optional"=
>[</span>, <em class=3D"sig-param">offset</em><span class=3D"optional">]</s=
pan><span class=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https=
://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes._CData.f=
rom_buffer_copy" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This method creates a <span class=3D"highlighted">ctypes</span> inst=
ance, copying the buffer from the
<em>source</em> object buffer which must be readable.  The optional <em>off=
set</em>
parameter specifies an offset into the source buffer in bytes; the default
is zero.  If the source buffer is not large enough a <a class=3D"reference =
internal" href=3D"https://docs.python.org/3/library/exceptions.html#ValueEr=
ror" title=3D"ValueError"><code class=3D"xref py py-exc docutils literal no=
translate"><span class=3D"pre">ValueError</span></code></a> is
raised.</p>
<p class=3D"audit-hook">Raises an <a class=3D"reference internal" href=3D"h=
ttps://docs.python.org/3/library/sys.html#auditing"><span class=3D"std std-=
ref">auditing event</span></a> <code class=3D"docutils literal notranslate"=
><span class=3D"pre"><span class=3D"highlighted">ctypes</span>.cdata/buffer=
</span></code> with arguments <code class=3D"docutils literal notranslate">=
<span class=3D"pre">pointer</span></code>, <code class=3D"docutils literal =
notranslate"><span class=3D"pre">size</span></code>, <code class=3D"docutil=
s literal notranslate"><span class=3D"pre">offset</span></code>.</p>
</dd></dl>

<dl class=3D"method">
<dt id=3D"ctypes._CData.from_address">
<code class=3D"sig-name descname">from_address</code><span class=3D"sig-par=
en">(</span><em class=3D"sig-param">address</em><span class=3D"sig-paren">)=
</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ct=
ypes.html?highlight=3Dctypes#ctypes._CData.from_address" title=3D"Permalink=
 to this definition">=C2=B6</a></dt>
<dd><p>This method returns a <span class=3D"highlighted">ctypes</span> type=
 instance using the memory specified by
<em>address</em> which must be an integer.</p>
<p class=3D"audit-hook"></p><p>This method, and others that indirectly call=
 this method, raises an
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/s=
ys.html#auditing"><span class=3D"std std-ref">auditing event</span></a> <co=
de class=3D"docutils literal notranslate"><span class=3D"pre"><span class=
=3D"highlighted">ctypes</span>.cdata</span></code> with argument
<code class=3D"docutils literal notranslate"><span class=3D"pre">address</s=
pan></code>.</p>
<p></p>
</dd></dl>

<dl class=3D"method">
<dt id=3D"ctypes._CData.from_param">
<code class=3D"sig-name descname">from_param</code><span class=3D"sig-paren=
">(</span><em class=3D"sig-param">obj</em><span class=3D"sig-paren">)</span=
><a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.h=
tml?highlight=3Dctypes#ctypes._CData.from_param" title=3D"Permalink to this=
 definition">=C2=B6</a></dt>
<dd><p>This method adapts <em>obj</em> to a <span class=3D"highlighted">cty=
pes</span> type.  It is called with the actual
object used in a foreign function call when the type is present in the
foreign function=E2=80=99s <code class=3D"xref py py-attr docutils literal =
notranslate"><span class=3D"pre">argtypes</span></code> tuple; it must retu=
rn an object that
can be used as a function call parameter.</p>
<p>All <span class=3D"highlighted">ctypes</span> data types have a default =
implementation of this classmethod
that normally returns <em>obj</em> if that is an instance of the type.  Som=
e
types accept other objects as well.</p>
</dd></dl>

<dl class=3D"method">
<dt id=3D"ctypes._CData.in_dll">
<code class=3D"sig-name descname">in_dll</code><span class=3D"sig-paren">(<=
/span><em class=3D"sig-param">library</em>, <em class=3D"sig-param">name</e=
m><span class=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https:/=
/docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes._CData.in_=
dll" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This method returns a <span class=3D"highlighted">ctypes</span> type=
 instance exported by a shared
library. <em>name</em> is the name of the symbol that exports the data, <em=
>library</em>
is the loaded shared library.</p>
</dd></dl>

<p>Common instance variables of <span class=3D"highlighted">ctypes</span> d=
ata types:</p>
<dl class=3D"attribute">
<dt id=3D"ctypes._CData._b_base_">
<code class=3D"sig-name descname">_b_base_</code><a class=3D"headerlink" hr=
ef=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctyp=
es._CData._b_base_" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Sometimes <span class=3D"highlighted">ctypes</span> data instances d=
o not own the memory block they contain,
instead they share part of the memory block of a base object.  The
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes._CData._b_base_" title=3D"ctypes._CDat=
a._b_base_"><code class=3D"xref py py-attr docutils literal notranslate"><s=
pan class=3D"pre">_b_base_</span></code></a> read-only member is the root c=
types object that owns the
memory block.</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes._CData._b_needsfree_">
<code class=3D"sig-name descname">_b_needsfree_</code><a class=3D"headerlin=
k" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes=
#ctypes._CData._b_needsfree_" title=3D"Permalink to this definition">=C2=B6=
</a></dt>
<dd><p>This read-only variable is true when the <span class=3D"highlighted"=
>ctypes</span> data instance has
allocated the memory block itself, false otherwise.</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes._CData._objects">
<code class=3D"sig-name descname">_objects</code><a class=3D"headerlink" hr=
ef=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctyp=
es._CData._objects" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This member is either <code class=3D"docutils literal notranslate"><=
span class=3D"pre">None</span></code> or a dictionary containing Python obj=
ects
that need to be kept alive so that the memory block contents is kept
valid.  This object is only exposed for debugging; never modify the
contents of this dictionary.</p>
</dd></dl>

</dd></dl>

</div>
<div class=3D"section" id=3D"ctypes-fundamental-data-types-2">
<span id=3D"id1"></span><h3>Fundamental data types<a class=3D"headerlink" h=
ref=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#cty=
pes-fundamental-data-types-2" title=3D"Permalink to this headline">=C2=B6</=
a></h3>
<dl class=3D"class">
<dt id=3D"ctypes._SimpleCData">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">_SimpleCData</code><a class=3D"headerlink" href=3D"https://docs.py=
thon.org/3/library/ctypes.html?highlight=3Dctypes#ctypes._SimpleCData" titl=
e=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This non-public class is the base class of all fundamental <span cla=
ss=3D"highlighted">ctypes</span> data
types. It is mentioned here because it contains the common attributes of th=
e
fundamental <span class=3D"highlighted">ctypes</span> data types.  <a class=
=3D"reference internal" href=3D"https://docs.python.org/3/library/ctypes.ht=
ml?highlight=3Dctypes#ctypes._SimpleCData" title=3D"ctypes._SimpleCData"><c=
ode class=3D"xref py py-class docutils literal notranslate"><span class=3D"=
pre">_SimpleCData</span></code></a> is a subclass of
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes._CData" title=3D"ctypes._CData"><code =
class=3D"xref py py-class docutils literal notranslate"><span class=3D"pre"=
>_CData</span></code></a>, so it inherits their methods and attributes. cty=
pes data
types that are not and do not contain pointers can now be pickled.</p>
<p>Instances have a single attribute:</p>
<dl class=3D"attribute">
<dt id=3D"ctypes._SimpleCData.value">
<code class=3D"sig-name descname">value</code><a class=3D"headerlink" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
._SimpleCData.value" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>This attribute contains the actual value of the instance. For intege=
r and
pointer types, it is an integer, for character types, it is a single
character bytes object or string, for character pointer types it is a
Python bytes object or string.</p>
<p>When the <code class=3D"docutils literal notranslate"><span class=3D"pre=
">value</span></code> attribute is retrieved from a <span class=3D"highligh=
ted">ctypes</span> instance, usually
a new object is returned each time.  <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#module=
-ctypes" title=3D"ctypes: A foreign function library for Python."><code cla=
ss=3D"xref py py-mod docutils literal notranslate"><span class=3D"pre"><spa=
n class=3D"highlighted">ctypes</span></span></code></a> does <em>not</em> i=
mplement
original object return, always a new object is constructed.  The same is
true for all other ctypes object instances.</p>
</dd></dl>

</dd></dl>

<p>Fundamental data types, when returned as foreign function call results, =
or, for
example, by retrieving structure field members or array items, are transpar=
ently
converted to native Python types.  In other words, if a foreign function ha=
s a
<code class=3D"xref py py-attr docutils literal notranslate"><span class=3D=
"pre">restype</span></code> of <a class=3D"reference internal" href=3D"http=
s://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_char_=
p" title=3D"ctypes.c_char_p"><code class=3D"xref py py-class docutils liter=
al notranslate"><span class=3D"pre">c_char_p</span></code></a>, you will al=
ways receive a Python bytes
object, <em>not</em> a <a class=3D"reference internal" href=3D"https://docs=
.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_char_p" title=
=3D"ctypes.c_char_p"><code class=3D"xref py py-class docutils literal notra=
nslate"><span class=3D"pre">c_char_p</span></code></a> instance.</p>
<p>Subclasses of fundamental data types do <em>not</em> inherit this behavi=
or. So, if a
foreign functions <code class=3D"xref py py-attr docutils literal notransla=
te"><span class=3D"pre">restype</span></code> is a subclass of <a class=3D"=
reference internal" href=3D"https://docs.python.org/3/library/ctypes.html?h=
ighlight=3Dctypes#ctypes.c_void_p" title=3D"ctypes.c_void_p"><code class=3D=
"xref py py-class docutils literal notranslate"><span class=3D"pre">c_void_=
p</span></code></a>, you will
receive an instance of this subclass from the function call. Of course, you=
 can
get the value of the pointer by accessing the <code class=3D"docutils liter=
al notranslate"><span class=3D"pre">value</span></code> attribute.</p>
<p>These are the fundamental <span class=3D"highlighted">ctypes</span> data=
 types:</p>
<dl class=3D"class">
<dt id=3D"ctypes.c_byte">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_byte</code><a class=3D"headerlink" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_byte" title=3D"Permali=
nk to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">signed</span> <span class=3D"pre">char</span></=
code> datatype, and interprets the value as
small integer.  The constructor accepts an optional integer initializer; no
overflow checking is done.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_char">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_char</code><a class=3D"headerlink" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_char" title=3D"Permali=
nk to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">char</span></code> datatype, and interprets the=
 value as a single
character.  The constructor accepts an optional string initializer, the
length of the string must be exactly one character.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_char_p">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_char_p</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_char_p" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">char</span> <span class=3D"pre">*</span></code>=
 datatype when it points to a zero-terminated
string.  For a general character pointer that may also point to binary data=
,
<code class=3D"docutils literal notranslate"><span class=3D"pre">POINTER(c_=
char)</span></code> must be used.  The constructor accepts an integer
address, or a bytes object.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_double">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_double</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_double" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">double</span></code> datatype.  The constructor=
 accepts an
optional float initializer.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_longdouble">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_longdouble</code><a class=3D"headerlink" href=3D"https://docs.py=
thon.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_longdouble" titl=
e=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">long</span> <span class=3D"pre">double</span></=
code> datatype.  The constructor accepts an
optional float initializer.  On platforms where <code class=3D"docutils lit=
eral notranslate"><span class=3D"pre">sizeof(long</span> <span class=3D"pre=
">double)</span> <span class=3D"pre">=3D=3D</span>
<span class=3D"pre">sizeof(double)</span></code> it is an alias to <a class=
=3D"reference internal" href=3D"https://docs.python.org/3/library/ctypes.ht=
ml?highlight=3Dctypes#ctypes.c_double" title=3D"ctypes.c_double"><code clas=
s=3D"xref py py-class docutils literal notranslate"><span class=3D"pre">c_d=
ouble</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_float">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_float</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_float" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">float</span></code> datatype.  The constructor =
accepts an
optional float initializer.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_int">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_int</code><a class=3D"headerlink" href=3D"https://docs.python.or=
g/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int" title=3D"Permalink=
 to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">signed</span> <span class=3D"pre">int</span></c=
ode> datatype.  The constructor accepts an
optional integer initializer; no overflow checking is done.  On platforms
where <code class=3D"docutils literal notranslate"><span class=3D"pre">size=
of(int)</span> <span class=3D"pre">=3D=3D</span> <span class=3D"pre">sizeof=
(long)</span></code> it is an alias to <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
.c_long" title=3D"ctypes.c_long"><code class=3D"xref py py-class docutils l=
iteral notranslate"><span class=3D"pre">c_long</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_int8">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_int8</code><a class=3D"headerlink" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int8" title=3D"Permali=
nk to this definition">=C2=B6</a></dt>
<dd><p>Represents the C 8-bit <code class=3D"xref c c-type docutils literal=
 notranslate"><span class=3D"pre">signed</span> <span class=3D"pre">int</sp=
an></code> datatype.  Usually an alias for
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_byte" title=3D"ctypes.c_byte"><code =
class=3D"xref py py-class docutils literal notranslate"><span class=3D"pre"=
>c_byte</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_int16">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_int16</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int16" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C 16-bit <code class=3D"xref c c-type docutils litera=
l notranslate"><span class=3D"pre">signed</span> <span class=3D"pre">int</s=
pan></code> datatype.  Usually an alias for
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_short" title=3D"ctypes.c_short"><cod=
e class=3D"xref py py-class docutils literal notranslate"><span class=3D"pr=
e">c_short</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_int32">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_int32</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int32" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C 32-bit <code class=3D"xref c c-type docutils litera=
l notranslate"><span class=3D"pre">signed</span> <span class=3D"pre">int</s=
pan></code> datatype.  Usually an alias for
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_int" title=3D"ctypes.c_int"><code cl=
ass=3D"xref py py-class docutils literal notranslate"><span class=3D"pre">c=
_int</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_int64">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_int64</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int64" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C 64-bit <code class=3D"xref c c-type docutils litera=
l notranslate"><span class=3D"pre">signed</span> <span class=3D"pre">int</s=
pan></code> datatype.  Usually an alias for
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_longlong" title=3D"ctypes.c_longlong=
"><code class=3D"xref py py-class docutils literal notranslate"><span class=
=3D"pre">c_longlong</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_long">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_long</code><a class=3D"headerlink" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_long" title=3D"Permali=
nk to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">signed</span> <span class=3D"pre">long</span></=
code> datatype.  The constructor accepts an
optional integer initializer; no overflow checking is done.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_longlong">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_longlong</code><a class=3D"headerlink" href=3D"https://docs.pyth=
on.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_longlong" title=3D=
"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">signed</span> <span class=3D"pre">long</span> <=
span class=3D"pre">long</span></code> datatype.  The constructor accepts
an optional integer initializer; no overflow checking is done.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_short">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_short</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_short" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">signed</span> <span class=3D"pre">short</span><=
/code> datatype.  The constructor accepts an
optional integer initializer; no overflow checking is done.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_size_t">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_size_t</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_size_t" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">size_t</span></code> datatype.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_ssize_t">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_ssize_t</code><a class=3D"headerlink" href=3D"https://docs.pytho=
n.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ssize_t" title=3D"P=
ermalink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">ssize_t</span></code> datatype.</p>
<div class=3D"versionadded">
<p><span class=3D"versionmodified added">New in version 3.2.</span></p>
</div>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_ubyte">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_ubyte</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ubyte" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">char</span>=
</code> datatype, it interprets the value as
small integer.  The constructor accepts an optional integer initializer; no
overflow checking is done.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_uint">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_uint</code><a class=3D"headerlink" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_uint" title=3D"Permali=
nk to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">int</span><=
/code> datatype.  The constructor accepts an
optional integer initializer; no overflow checking is done.  On platforms
where <code class=3D"docutils literal notranslate"><span class=3D"pre">size=
of(int)</span> <span class=3D"pre">=3D=3D</span> <span class=3D"pre">sizeof=
(long)</span></code> it is an alias for <a class=3D"reference internal" hre=
f=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctype=
s.c_ulong" title=3D"ctypes.c_ulong"><code class=3D"xref py py-class docutil=
s literal notranslate"><span class=3D"pre">c_ulong</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_uint8">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_uint8</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_uint8" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C 8-bit <code class=3D"xref c c-type docutils literal=
 notranslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">int</=
span></code> datatype.  Usually an alias for
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_ubyte" title=3D"ctypes.c_ubyte"><cod=
e class=3D"xref py py-class docutils literal notranslate"><span class=3D"pr=
e">c_ubyte</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_uint16">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_uint16</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_uint16" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C 16-bit <code class=3D"xref c c-type docutils litera=
l notranslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">int<=
/span></code> datatype.  Usually an alias for
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_ushort" title=3D"ctypes.c_ushort"><c=
ode class=3D"xref py py-class docutils literal notranslate"><span class=3D"=
pre">c_ushort</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_uint32">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_uint32</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_uint32" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C 32-bit <code class=3D"xref c c-type docutils litera=
l notranslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">int<=
/span></code> datatype.  Usually an alias for
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_uint" title=3D"ctypes.c_uint"><code =
class=3D"xref py py-class docutils literal notranslate"><span class=3D"pre"=
>c_uint</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_uint64">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_uint64</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_uint64" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C 64-bit <code class=3D"xref c c-type docutils litera=
l notranslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">int<=
/span></code> datatype.  Usually an alias for
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.c_ulonglong" title=3D"ctypes.c_ulonglo=
ng"><code class=3D"xref py py-class docutils literal notranslate"><span cla=
ss=3D"pre">c_ulonglong</span></code></a>.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_ulong">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_ulong</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ulong" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">long</span>=
</code> datatype.  The constructor accepts an
optional integer initializer; no overflow checking is done.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_ulonglong">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_ulonglong</code><a class=3D"headerlink" href=3D"https://docs.pyt=
hon.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ulonglong" title=
=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">long</span>=
 <span class=3D"pre">long</span></code> datatype.  The constructor
accepts an optional integer initializer; no overflow checking is done.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_ushort">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_ushort</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_ushort" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">unsigned</span> <span class=3D"pre">short</span=
></code> datatype.  The constructor accepts
an optional integer initializer; no overflow checking is done.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_void_p">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_void_p</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_void_p" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">void</span> <span class=3D"pre">*</span></code>=
 type.  The value is represented as integer.
The constructor accepts an optional integer initializer.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_wchar">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_wchar</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_wchar" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">wchar_t</span></code> datatype, and interprets =
the value as a
single character unicode string.  The constructor accepts an optional strin=
g
initializer, the length of the string must be exactly one character.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_wchar_p">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_wchar_p</code><a class=3D"headerlink" href=3D"https://docs.pytho=
n.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_wchar_p" title=3D"P=
ermalink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">wchar_t</span> <span class=3D"pre">*</span></co=
de> datatype, which must be a pointer to a
zero-terminated wide character string.  The constructor accepts an integer
address, or a string.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.c_bool">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">c_bool</code><a class=3D"headerlink" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_bool" title=3D"Permali=
nk to this definition">=C2=B6</a></dt>
<dd><p>Represent the C <code class=3D"xref c c-type docutils literal notran=
slate"><span class=3D"pre">bool</span></code> datatype (more accurately, <c=
ode class=3D"xref c c-type docutils literal notranslate"><span class=3D"pre=
">_Bool</span></code> from
C99).  Its value can be <code class=3D"docutils literal notranslate"><span =
class=3D"pre">True</span></code> or <code class=3D"docutils literal notrans=
late"><span class=3D"pre">False</span></code>, and the constructor accepts =
any object
that has a truth value.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.HRESULT">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">HRESULT</code><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.HRESULT" title=3D"Perma=
link to this definition">=C2=B6</a></dt>
<dd><p>Windows only: Represents a <code class=3D"xref c c-type docutils lit=
eral notranslate"><span class=3D"pre">HRESULT</span></code> value, which co=
ntains success or
error information for a function or method call.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.py_object">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">py_object</code><a class=3D"headerlink" href=3D"https://docs.pytho=
n.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.py_object" title=3D"P=
ermalink to this definition">=C2=B6</a></dt>
<dd><p>Represents the C <a class=3D"reference internal" href=3D"https://doc=
s.python.org/3/c-api/structures.html#c.PyObject" title=3D"PyObject"><code c=
lass=3D"xref c c-type docutils literal notranslate"><span class=3D"pre">PyO=
bject</span> <span class=3D"pre">*</span></code></a> datatype.  Calling thi=
s without an
argument creates a <code class=3D"docutils literal notranslate"><span class=
=3D"pre">NULL</span></code> <a class=3D"reference internal" href=3D"https:/=
/docs.python.org/3/c-api/structures.html#c.PyObject" title=3D"PyObject"><co=
de class=3D"xref c c-type docutils literal notranslate"><span class=3D"pre"=
>PyObject</span> <span class=3D"pre">*</span></code></a> pointer.</p>
</dd></dl>

<p>The <code class=3D"xref py py-mod docutils literal notranslate"><span cl=
ass=3D"pre"><span class=3D"highlighted">ctypes</span>.wintypes</span></code=
> module provides quite some other Windows specific
data types, for example <code class=3D"xref c c-type docutils literal notra=
nslate"><span class=3D"pre">HWND</span></code>, <code class=3D"xref c c-typ=
e docutils literal notranslate"><span class=3D"pre">WPARAM</span></code>, o=
r <code class=3D"xref c c-type docutils literal notranslate"><span class=3D=
"pre">DWORD</span></code>.  Some
useful structures like <code class=3D"xref c c-type docutils literal notran=
slate"><span class=3D"pre">MSG</span></code> or <code class=3D"xref c c-typ=
e docutils literal notranslate"><span class=3D"pre">RECT</span></code> are =
also defined.</p>
</div>
<div class=3D"section" id=3D"structured-data-types">
<span id=3D"ctypes-structured-data-types"></span><h3>Structured data types<=
a class=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.htm=
l?highlight=3Dctypes#structured-data-types" title=3D"Permalink to this head=
line">=C2=B6</a></h3>
<dl class=3D"class">
<dt id=3D"ctypes.Union">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">Union</code><span class=3D"sig-paren">(</span><em class=3D"sig-par=
am">*args</em>, <em class=3D"sig-param">**kw</em><span class=3D"sig-paren">=
)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.Union" title=3D"Permalink to this defi=
nition">=C2=B6</a></dt>
<dd><p>Abstract base class for unions in native byte order.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.BigEndianStructure">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">BigEndianStructure</code><span class=3D"sig-paren">(</span><em cla=
ss=3D"sig-param">*args</em>, <em class=3D"sig-param">**kw</em><span class=
=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https://docs.python.=
org/3/library/ctypes.html?highlight=3Dctypes#ctypes.BigEndianStructure" tit=
le=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Abstract base class for structures in <em>big endian</em> byte order=
.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes.LittleEndianStructure">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">LittleEndianStructure</code><span class=3D"sig-paren">(</span><em =
class=3D"sig-param">*args</em>, <em class=3D"sig-param">**kw</em><span clas=
s=3D"sig-paren">)</span><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.LittleEndianStructure"=
 title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Abstract base class for structures in <em>little endian</em> byte or=
der.</p>
</dd></dl>

<p>Structures with non-native byte order cannot contain pointer type fields=
, or any
other data types containing pointer type fields.</p>
<dl class=3D"class">
<dt id=3D"ctypes.Structure">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">Structure</code><span class=3D"sig-paren">(</span><em class=3D"sig=
-param">*args</em>, <em class=3D"sig-param">**kw</em><span class=3D"sig-par=
en">)</span><a class=3D"headerlink" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#ctypes.Structure" title=3D"Permalink to t=
his definition">=C2=B6</a></dt>
<dd><p>Abstract base class for structures in <em>native</em> byte order.</p=
>
<p>Concrete structure and union types must be created by subclassing one of=
 these
types, and at least define a <a class=3D"reference internal" href=3D"https:=
//docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.Structure=
._fields_" title=3D"ctypes.Structure._fields_"><code class=3D"xref py py-at=
tr docutils literal notranslate"><span class=3D"pre">_fields_</span></code>=
</a> class variable. <a class=3D"reference internal" href=3D"https://docs.p=
ython.org/3/library/ctypes.html?highlight=3Dctypes#module-ctypes" title=3D"=
ctypes: A foreign function library for Python."><code class=3D"xref py py-m=
od docutils literal notranslate"><span class=3D"pre"><span class=3D"highlig=
hted">ctypes</span></span></code></a> will
create <a class=3D"reference internal" href=3D"https://docs.python.org/3/gl=
ossary.html#term-descriptor"><span class=3D"xref std std-term">descriptor</=
span></a>s which allow reading and writing the fields by direct
attribute accesses.  These are the</p>
<dl class=3D"attribute">
<dt id=3D"ctypes.Structure._fields_">
<code class=3D"sig-name descname">_fields_</code><a class=3D"headerlink" hr=
ef=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctyp=
es.Structure._fields_" title=3D"Permalink to this definition">=C2=B6</a></d=
t>
<dd><p>A sequence defining the structure fields.  The items must be 2-tuple=
s or
3-tuples.  The first item is the name of the field, the second item
specifies the type of the field; it can be any <span class=3D"highlighted">=
ctypes</span> data type.</p>
<p>For integer type fields like <a class=3D"reference internal" href=3D"htt=
ps://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.c_int"=
 title=3D"ctypes.c_int"><code class=3D"xref py py-class docutils literal no=
translate"><span class=3D"pre">c_int</span></code></a>, a third optional it=
em can be
given.  It must be a small positive integer defining the bit width of the
field.</p>
<p>Field names must be unique within one structure or union.  This is not
checked, only one field can be accessed when names are repeated.</p>
<p>It is possible to define the <a class=3D"reference internal" href=3D"htt=
ps://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.Struct=
ure._fields_" title=3D"ctypes.Structure._fields_"><code class=3D"xref py py=
-attr docutils literal notranslate"><span class=3D"pre">_fields_</span></co=
de></a> class variable <em>after</em> the
class statement that defines the Structure subclass, this allows creating
data types that directly or indirectly reference themselves:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"k">class</span> <=
span class=3D"nc">List</span><span class=3D"p">(</span><span class=3D"n">St=
ructure</span><span class=3D"p">):</span>
    <span class=3D"k">pass</span>
<span class=3D"n">List</span><span class=3D"o">.</span><span class=3D"n">_f=
ields_</span> <span class=3D"o">=3D</span> <span class=3D"p">[(</span><span=
 class=3D"s2">"pnext"</span><span class=3D"p">,</span> <span class=3D"n">PO=
INTER</span><span class=3D"p">(</span><span class=3D"n">List</span><span cl=
ass=3D"p">)),</span>
                 <span class=3D"o">...</span>
                <span class=3D"p">]</span>
</pre></div>
</div>
<p>The <a class=3D"reference internal" href=3D"https://docs.python.org/3/li=
brary/ctypes.html?highlight=3Dctypes#ctypes.Structure._fields_" title=3D"ct=
ypes.Structure._fields_"><code class=3D"xref py py-attr docutils literal no=
translate"><span class=3D"pre">_fields_</span></code></a> class variable mu=
st, however, be defined before the
type is first used (an instance is created, <a class=3D"reference internal"=
 href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#c=
types.sizeof" title=3D"ctypes.sizeof"><code class=3D"xref py py-func docuti=
ls literal notranslate"><span class=3D"pre">sizeof()</span></code></a> is c=
alled on it,
and so on).  Later assignments to the <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
.Structure._fields_" title=3D"ctypes.Structure._fields_"><code class=3D"xre=
f py py-attr docutils literal notranslate"><span class=3D"pre">_fields_</sp=
an></code></a> class variable will
raise an AttributeError.</p>
<p>It is possible to define sub-subclasses of structure types, they inherit
the fields of the base class plus the <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
.Structure._fields_" title=3D"ctypes.Structure._fields_"><code class=3D"xre=
f py py-attr docutils literal notranslate"><span class=3D"pre">_fields_</sp=
an></code></a> defined in the
sub-subclass, if any.</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes.Structure._pack_">
<code class=3D"sig-name descname">_pack_</code><a class=3D"headerlink" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
.Structure._pack_" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>An optional small integer that allows overriding the alignment of
structure fields in the instance.  <a class=3D"reference internal" href=3D"=
https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.Str=
ucture._pack_" title=3D"ctypes.Structure._pack_"><code class=3D"xref py py-=
attr docutils literal notranslate"><span class=3D"pre">_pack_</span></code>=
</a> must already be defined
when <a class=3D"reference internal" href=3D"https://docs.python.org/3/libr=
ary/ctypes.html?highlight=3Dctypes#ctypes.Structure._fields_" title=3D"ctyp=
es.Structure._fields_"><code class=3D"xref py py-attr docutils literal notr=
anslate"><span class=3D"pre">_fields_</span></code></a> is assigned, otherw=
ise it will have no effect.</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes.Structure._anonymous_">
<code class=3D"sig-name descname">_anonymous_</code><a class=3D"headerlink"=
 href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#c=
types.Structure._anonymous_" title=3D"Permalink to this definition">=C2=B6<=
/a></dt>
<dd><p>An optional sequence that lists the names of unnamed (anonymous) fie=
lds.
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.Structure._anonymous_" title=3D"ctypes=
.Structure._anonymous_"><code class=3D"xref py py-attr docutils literal not=
ranslate"><span class=3D"pre">_anonymous_</span></code></a> must be already=
 defined when <a class=3D"reference internal" href=3D"https://docs.python.o=
rg/3/library/ctypes.html?highlight=3Dctypes#ctypes.Structure._fields_" titl=
e=3D"ctypes.Structure._fields_"><code class=3D"xref py py-attr docutils lit=
eral notranslate"><span class=3D"pre">_fields_</span></code></a> is
assigned, otherwise it will have no effect.</p>
<p>The fields listed in this variable must be structure or union type field=
s.
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign fun=
ction library for Python."><code class=3D"xref py py-mod docutils literal n=
otranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span></=
span></code></a> will create descriptors in the structure type that allows
accessing the nested fields directly, without the need to create the
structure or union field.</p>
<p>Here is an example type (Windows):</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"k">class</span> <=
span class=3D"nc">_U</span><span class=3D"p">(</span><span class=3D"n">Unio=
n</span><span class=3D"p">):</span>
    <span class=3D"n">_fields_</span> <span class=3D"o">=3D</span> <span cl=
ass=3D"p">[(</span><span class=3D"s2">"lptdesc"</span><span class=3D"p">,</=
span> <span class=3D"n">POINTER</span><span class=3D"p">(</span><span class=
=3D"n">TYPEDESC</span><span class=3D"p">)),</span>
                <span class=3D"p">(</span><span class=3D"s2">"lpadesc"</spa=
n><span class=3D"p">,</span> <span class=3D"n">POINTER</span><span class=3D=
"p">(</span><span class=3D"n">ARRAYDESC</span><span class=3D"p">)),</span>
                <span class=3D"p">(</span><span class=3D"s2">"hreftype"</sp=
an><span class=3D"p">,</span> <span class=3D"n">HREFTYPE</span><span class=
=3D"p">)]</span>

<span class=3D"k">class</span> <span class=3D"nc">TYPEDESC</span><span clas=
s=3D"p">(</span><span class=3D"n">Structure</span><span class=3D"p">):</spa=
n>
    <span class=3D"n">_anonymous_</span> <span class=3D"o">=3D</span> <span=
 class=3D"p">(</span><span class=3D"s2">"u"</span><span class=3D"p">,)</spa=
n>
    <span class=3D"n">_fields_</span> <span class=3D"o">=3D</span> <span cl=
ass=3D"p">[(</span><span class=3D"s2">"u"</span><span class=3D"p">,</span> =
<span class=3D"n">_U</span><span class=3D"p">),</span>
                <span class=3D"p">(</span><span class=3D"s2">"vt"</span><sp=
an class=3D"p">,</span> <span class=3D"n">VARTYPE</span><span class=3D"p">)=
]</span>
</pre></div>
</div>
<p>The <code class=3D"docutils literal notranslate"><span class=3D"pre">TYP=
EDESC</span></code> structure describes a COM data type, the <code class=3D=
"docutils literal notranslate"><span class=3D"pre">vt</span></code> field
specifies which one of the union fields is valid.  Since the <code class=3D=
"docutils literal notranslate"><span class=3D"pre">u</span></code> field
is defined as anonymous field, it is now possible to access the members
directly off the TYPEDESC instance. <code class=3D"docutils literal notrans=
late"><span class=3D"pre">td.lptdesc</span></code> and <code class=3D"docut=
ils literal notranslate"><span class=3D"pre">td.u.lptdesc</span></code>
are equivalent, but the former is faster since it does not need to create
a temporary union instance:</p>
<div class=3D"highlight-python3 notranslate" style=3D"position: relative;">=
<div class=3D"highlight"><pre><span></span><span class=3D"n">td</span> <spa=
n class=3D"o">=3D</span> <span class=3D"n">TYPEDESC</span><span class=3D"p"=
>()</span>
<span class=3D"n">td</span><span class=3D"o">.</span><span class=3D"n">vt</=
span> <span class=3D"o">=3D</span> <span class=3D"n">VT_PTR</span>
<span class=3D"n">td</span><span class=3D"o">.</span><span class=3D"n">lptd=
esc</span> <span class=3D"o">=3D</span> <span class=3D"n">POINTER</span><sp=
an class=3D"p">(</span><span class=3D"n">some_type</span><span class=3D"p">=
)</span>
<span class=3D"n">td</span><span class=3D"o">.</span><span class=3D"n">u</s=
pan><span class=3D"o">.</span><span class=3D"n">lptdesc</span> <span class=
=3D"o">=3D</span> <span class=3D"n">POINTER</span><span class=3D"p">(</span=
><span class=3D"n">some_type</span><span class=3D"p">)</span>
</pre></div>
</div>
</dd></dl>

<p>It is possible to define sub-subclasses of structures, they inherit the
fields of the base class.  If the subclass definition has a separate
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.Structure._fields_" title=3D"ctypes.St=
ructure._fields_"><code class=3D"xref py py-attr docutils literal notransla=
te"><span class=3D"pre">_fields_</span></code></a> variable, the fields spe=
cified in this are appended to the
fields of the base class.</p>
<p>Structure and union constructors accept both positional and keyword
arguments.  Positional arguments are used to initialize member fields in th=
e
same order as they are appear in <a class=3D"reference internal" href=3D"ht=
tps://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.Struc=
ture._fields_" title=3D"ctypes.Structure._fields_"><code class=3D"xref py p=
y-attr docutils literal notranslate"><span class=3D"pre">_fields_</span></c=
ode></a>.  Keyword arguments in the
constructor are interpreted as attribute assignments, so they will initiali=
ze
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.Structure._fields_" title=3D"ctypes.St=
ructure._fields_"><code class=3D"xref py py-attr docutils literal notransla=
te"><span class=3D"pre">_fields_</span></code></a> with the same name, or c=
reate new attributes for names not
present in <a class=3D"reference internal" href=3D"https://docs.python.org/=
3/library/ctypes.html?highlight=3Dctypes#ctypes.Structure._fields_" title=
=3D"ctypes.Structure._fields_"><code class=3D"xref py py-attr docutils lite=
ral notranslate"><span class=3D"pre">_fields_</span></code></a>.</p>
</dd></dl>

</div>
<div class=3D"section" id=3D"arrays-and-pointers">
<span id=3D"ctypes-arrays-pointers"></span><h3>Arrays and pointers<a class=
=3D"headerlink" href=3D"https://docs.python.org/3/library/ctypes.html?highl=
ight=3Dctypes#arrays-and-pointers" title=3D"Permalink to this headline">=C2=
=B6</a></h3>
<dl class=3D"class">
<dt id=3D"ctypes.Array">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">Array</code><span class=3D"sig-paren">(</span><em class=3D"sig-par=
am">*args</em><span class=3D"sig-paren">)</span><a class=3D"headerlink" hre=
f=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctype=
s.Array" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Abstract base class for arrays.</p>
<p>The recommended way to create concrete array types is by multiplying any
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#module-ctypes" title=3D"ctypes: A foreign fun=
ction library for Python."><code class=3D"xref py py-mod docutils literal n=
otranslate"><span class=3D"pre"><span class=3D"highlighted">ctypes</span></=
span></code></a> data type with a positive integer.  Alternatively, you can=
 subclass
this type and define <a class=3D"reference internal" href=3D"https://docs.p=
ython.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.Array._length_" t=
itle=3D"ctypes.Array._length_"><code class=3D"xref py py-attr docutils lite=
ral notranslate"><span class=3D"pre">_length_</span></code></a> and <a clas=
s=3D"reference internal" href=3D"https://docs.python.org/3/library/ctypes.h=
tml?highlight=3Dctypes#ctypes.Array._type_" title=3D"ctypes.Array._type_"><=
code class=3D"xref py py-attr docutils literal notranslate"><span class=3D"=
pre">_type_</span></code></a> class variables.
Array elements can be read and written using standard
subscript and slice accesses; for slice reads, the resulting object is
<em>not</em> itself an <a class=3D"reference internal" href=3D"https://docs=
.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes.Array" title=3D=
"ctypes.Array"><code class=3D"xref py py-class docutils literal notranslate=
"><span class=3D"pre">Array</span></code></a>.</p>
<dl class=3D"attribute">
<dt id=3D"ctypes.Array._length_">
<code class=3D"sig-name descname">_length_</code><a class=3D"headerlink" hr=
ef=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctyp=
es.Array._length_" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>A positive integer specifying the number of elements in the array.
Out-of-range subscripts result in an <a class=3D"reference internal" href=
=3D"https://docs.python.org/3/library/exceptions.html#IndexError" title=3D"=
IndexError"><code class=3D"xref py py-exc docutils literal notranslate"><sp=
an class=3D"pre">IndexError</span></code></a>. Will be
returned by <a class=3D"reference internal" href=3D"https://docs.python.org=
/3/library/functions.html#len" title=3D"len"><code class=3D"xref py py-func=
 docutils literal notranslate"><span class=3D"pre">len()</span></code></a>.=
</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes.Array._type_">
<code class=3D"sig-name descname">_type_</code><a class=3D"headerlink" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
.Array._type_" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Specifies the type of each element in the array.</p>
</dd></dl>

<p>Array subclass constructors accept positional arguments, used to
initialize the elements in order.</p>
</dd></dl>

<dl class=3D"class">
<dt id=3D"ctypes._Pointer">
<em class=3D"property">class </em><code class=3D"sig-prename descclassname"=
><span class=3D"highlighted">ctypes</span>.</code><code class=3D"sig-name d=
escname">_Pointer</code><a class=3D"headerlink" href=3D"https://docs.python=
.org/3/library/ctypes.html?highlight=3Dctypes#ctypes._Pointer" title=3D"Per=
malink to this definition">=C2=B6</a></dt>
<dd><p>Private, abstract base class for pointers.</p>
<p>Concrete pointer types are created by calling <a class=3D"reference inte=
rnal" href=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dcty=
pes#ctypes.POINTER" title=3D"ctypes.POINTER"><code class=3D"xref py py-func=
 docutils literal notranslate"><span class=3D"pre">POINTER()</span></code><=
/a> with the
type that will be pointed to; this is done automatically by
<a class=3D"reference internal" href=3D"https://docs.python.org/3/library/c=
types.html?highlight=3Dctypes#ctypes.pointer" title=3D"ctypes.pointer"><cod=
e class=3D"xref py py-func docutils literal notranslate"><span class=3D"pre=
">pointer()</span></code></a>.</p>
<p>If a pointer points to an array, its elements can be read and
written using standard subscript and slice accesses.  Pointer objects
have no size, so <a class=3D"reference internal" href=3D"https://docs.pytho=
n.org/3/library/functions.html#len" title=3D"len"><code class=3D"xref py py=
-func docutils literal notranslate"><span class=3D"pre">len()</span></code>=
</a> will raise <a class=3D"reference internal" href=3D"https://docs.python=
.org/3/library/exceptions.html#TypeError" title=3D"TypeError"><code class=
=3D"xref py py-exc docutils literal notranslate"><span class=3D"pre">TypeEr=
ror</span></code></a>.  Negative
subscripts will read from the memory <em>before</em> the pointer (as in C),=
 and
out-of-range subscripts will probably crash with an access violation (if
you=E2=80=99re lucky).</p>
<dl class=3D"attribute">
<dt id=3D"ctypes._Pointer._type_">
<code class=3D"sig-name descname">_type_</code><a class=3D"headerlink" href=
=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctypes=
._Pointer._type_" title=3D"Permalink to this definition">=C2=B6</a></dt>
<dd><p>Specifies the type pointed to.</p>
</dd></dl>

<dl class=3D"attribute">
<dt id=3D"ctypes._Pointer.contents">
<code class=3D"sig-name descname">contents</code><a class=3D"headerlink" hr=
ef=3D"https://docs.python.org/3/library/ctypes.html?highlight=3Dctypes#ctyp=
es._Pointer.contents" title=3D"Permalink to this definition">=C2=B6</a></dt=
>
<dd><p>Returns the object to which to pointer points.  Assigning to this
attribute changes the pointer to point to the assigned object.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class=3D"sphinxsidebar" role=3D"navigation" aria-label=3D"main n=
avigation">
        <div class=3D"sphinxsidebarwrapper" style=3D"float: left; margin-ri=
ght: 0px; width: 202px; top: 3678.89px;">
  <h3><a href=3D"https://docs.python.org/3/contents.html">Table of Contents=
</a></h3>
  <ul>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#"><code class=3D"xref py py-mod docutils =
literal notranslate"><span class=3D"pre">ctypes</span></code> =E2=80=94 A f=
oreign function library for Python</a><ul>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#ctypes-tutorial">ctypes tutorial</a><ul>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#loading-dynamic-link-libraries">Loading d=
ynamic link libraries</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#accessing-functions-from-loaded-dlls">Acc=
essing functions from loaded dlls</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#calling-functions">Calling functions</a><=
/li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#fundamental-data-types">Fundamental data =
types</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#calling-functions-continued">Calling func=
tions, continued</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#calling-functions-with-your-own-custom-da=
ta-types">Calling functions with your own custom data types</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#specifying-the-required-argument-types-fu=
nction-prototypes">Specifying the required argument types (function prototy=
pes)</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#return-types">Return types</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#passing-pointers-or-passing-parameters-by=
-reference">Passing pointers (or: passing parameters by reference)</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#structures-and-unions">Structures and uni=
ons</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#structure-union-alignment-and-byte-order"=
>Structure/union alignment and byte order</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#bit-fields-in-structures-and-unions">Bit =
fields in structures and unions</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#arrays">Arrays</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#pointers">Pointers</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#type-conversions">Type conversions</a></l=
i>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#incomplete-types">Incomplete Types</a></l=
i>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#callback-functions">Callback functions</a=
></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#accessing-values-exported-from-dlls">Acce=
ssing values exported from dlls</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#surprises">Surprises</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#variable-sized-data-types">Variable-sized=
 data types</a></li>
</ul>
</li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#ctypes-reference">ctypes reference</a><ul=
>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#finding-shared-libraries">Finding shared =
libraries</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#loading-shared-libraries">Loading shared =
libraries</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#foreign-functions">Foreign functions</a><=
/li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#function-prototypes">Function prototypes<=
/a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#utility-functions">Utility functions</a><=
/li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#data-types">Data types</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#ctypes-fundamental-data-types-2">Fundamen=
tal data types</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#structured-data-types">Structured data ty=
pes</a></li>
<li><a class=3D"reference internal" href=3D"https://docs.python.org/3/libra=
ry/ctypes.html?highlight=3Dctypes#arrays-and-pointers">Arrays and pointers<=
/a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class=3D"topless"><a href=3D"https://docs.python.org/3/library/errno.h=
tml" title=3D"previous chapter"><code class=3D"xref py py-mod docutils lite=
ral notranslate"><span class=3D"pre">errno</span></code> =E2=80=94 Standard=
 errno system symbols</a></p>
  <h4>Next topic</h4>
  <p class=3D"topless"><a href=3D"https://docs.python.org/3/library/concurr=
ency.html" title=3D"next chapter">Concurrent Execution</a></p>
  <div role=3D"note" aria-label=3D"source link">
    <h3>This Page</h3>
    <ul class=3D"this-page-menu">
      <li><a href=3D"https://docs.python.org/3/bugs.html">Report a Bug</a><=
/li>
      <li>
        <a href=3D"https://github.com/python/cpython/blob/3.9/Doc/library/c=
types.rst" rel=3D"nofollow">Show Source
        </a>
      </li>
    </ul>
  </div>
        </div>
      <div id=3D"sidebarbutton" title=3D"Collapse sidebar" style=3D"border-=
radius: 0px 5px 5px 0px; color: rgb(68, 68, 68); background-color: rgb(204,=
 204, 204); font-size: 1.2em; cursor: pointer; height: 39862.3px; padding-t=
op: 1px; padding-left: 1px; margin-left: 218px;"><span style=3D"display: bl=
ock; position: fixed; top: 302.5px;">=C2=AB</span></div></div>
      <div class=3D"clearer"></div>
    </div> =20
    <div class=3D"related" role=3D"navigation" aria-label=3D"related naviga=
tion">
      <h3>Navigation</h3>
      <ul>
        <li class=3D"right" style=3D"margin-right: 10px">
          <a href=3D"https://docs.python.org/3/genindex.html" title=3D"Gene=
ral Index">index</a></li>
        <li class=3D"right">
          <a href=3D"https://docs.python.org/3/py-modindex.html" title=3D"P=
ython Module Index">modules</a> |</li>
        <li class=3D"right">
          <a href=3D"https://docs.python.org/3/library/concurrency.html" ti=
tle=3D"Concurrent Execution">next</a> |</li>
        <li class=3D"right">
          <a href=3D"https://docs.python.org/3/library/errno.html" title=3D=
"errno =E2=80=94 Standard errno system symbols">previous</a> |</li>

    <li><img src=3D"https://docs.python.org/3/_static/py.png" alt=3D"" styl=
e=3D"vertical-align: middle; margin-top: -1px"></li>
    <li><a href=3D"https://www.python.org/">Python</a> =C2=BB</li>
   =20

    <li>
      <a href=3D"https://docs.python.org/3/index.html">3.9.7 Documentation<=
/a> =C2=BB
    </li>

          <li class=3D"nav-item nav-item-1"><a href=3D"https://docs.python.=
org/3/library/index.html">The Python Standard Library</a> =C2=BB</li>
          <li class=3D"nav-item nav-item-2"><a href=3D"https://docs.python.=
org/3/library/allos.html">Generic Operating System Services</a> =C2=BB</li>
    <li class=3D"right">
       =20

    <div class=3D"inline-search" style=3D"" role=3D"search">
        <form class=3D"inline-search" action=3D"https://docs.python.org/3/s=
earch.html" method=3D"get">
          <input placeholder=3D"Quick search" type=3D"text" name=3D"q">
          <input type=3D"submit" value=3D"Go">
         =20
         =20
        </form>
    </div>
   =20
         |
    </li>

      </ul>
    </div> =20
    <div class=3D"footer">
    =C2=A9 <a href=3D"https://docs.python.org/3/copyright.html">Copyright</=
a> 2001-2021, Python Software Foundation.
    <br>

    The Python Software Foundation is a non-profit corporation.
<a href=3D"https://www.python.org/psf/donations/">Please donate.</a>
<br>
    <br>

    Last updated on Sep 23, 2021.
    <a href=3D"https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br>

    Created using <a href=3D"https://www.sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>

   =20
 =20
</body></html>
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: cid:css-26cfc2c8-13ba-4483-92f6-f438e6b337a3@mhtml.blink

@charset "utf-8";

@media only screen {
  table.full-width-table { width: 100%; }
}
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: cid:css-fc75671e-b67c-4609-9dc9-d1e2c4fa7c96@mhtml.blink

@charset "utf-8";

div.h5-ext-layer, txpdiv[data-role=3D"hd-ad-adapter-interactivelayer"], div=
.m-video-play.js-play > a.m-video-bannerTitle.js-video-bannerTitle, div#sli=
de_ad, #Ad_windows, #Layeraa1, #Layeraa2, #MsnDialog.ad, #MyMoveAd, #QQ_Ful=
l, #ZAML, #\31 280_adv, #\31 x1_container.float-banner-footer, #aafoot.top_=
box, #aafoot[class^=3D"top_box"], #aaheadtop, #aatop.top_box, #aatop[class^=
=3D"top_box"], #ad > .pre-img, #ad-SNSSplashAd { display: none !important; =
}

#ad08, #ad6cn, #adBody07, #adLeftFloat, #adRightFloat, #ad_box1, #ad_box2, =
#ad_full, #ad_globle_div, #ad_headerbanner, #adad, #adrights14, #ads_c_tpc,=
 #ads_in_video, #ads_top_video, #adtop1, #adv-2, #adv-3, #adx_cggp, #app > =
.publicAllContentBg > .bigBannerBg { display: none !important; }

#body > #left-promotion, #body > #right-promotion, #bottom-gg1, #bottomAD, =
#bottomNavad, #bottombanner, #breadCrumb + .c + .t[style=3D"margin-top:8px"=
], #breadCrumb + .t[style=3D"margin-top:8px"], #comiis_xizi_gg02, #containe=
r > .sectionBanner, #crazy_ad_float, #crazy_ad_layer, #cs_left_couplet, #cs=
_right_couplet, #dbgg, #dgf_pc, #duilian_left, #duilian_right, #eis_pad1, #=
eis_pad2 { display: none !important; }

#everydayadv_mask, #fixed-bottom-modal[style^=3D"right:"][style$=3D"px; dis=
play: block;"], #fk_faiVisitStateAd, #floatAd, #floatad-winpop, #fnbt, #foo=
ter_fix_ggw, #frameS8CyqB, #fuo_top_float, #fwin_popad_7ree, #fwin_popad_7r=
ee + #fwin_dialog, #gg1, #gg300, #googleAD1, #googleAD2, #googleAD3, #googl=
eAdIndexTop, #haoetv, #haoetv1, #haoxinqing_me_img { display: none !importa=
nt; }

#header > a[target=3D"_blank"] > img[style=3D"width:100%;height:60px;margin=
-bottom:2px;"], #hellobox > .mylist, #hengfu > #jiukan, #hfad, #js-ad-map, =
#js-ysjpp, #js_ads_banner_top, #js_ads_banner_top_slide, #kfivtwin, #kfpopu=
pDiv, #ks > .DaKuang, #ldgindexbuttom, #leftCouple, #leftCouple1, #leftCoup=
let, #leftFloat + #rightFloat, #leftFloat1 + #rightFloat1, #leftFloat[style=
=3D"z-index: 999; position: fixed; left: 0px; bottom: 0px;"], #left_couple,=
 #left_couplet.close_discor { display: none !important; }

#left_down_float_ad, #left_float + #right_float, #left_float.close_discor, =
#left_up_float_ad, #lovexin1, #lovexin11, #lovexin12, #lovexin121, #lovexin=
13, #lovexin14, #lovexin2, #lt-ad-radio, #magneturlpost + .movie + .movie[s=
tyle=3D"padding:12px; margin-top:15px"], #mainbody:nth-child(5) > .mylist, =
#menu + #topBox, #menu + script + #topBox, #miaov_float_layer, #micast_ads,=
 #modalgg, #movieInfoRight { display: none !important; }

#mv_ad_dom, #mv_float_layer, #my-adsFPR, #nav + .slider-spons, #navcontaine=
r + .moneyarea, #netease_mail_footer, #new_pop_ad, #news_top_advert, #olful=
lad, #overture_ads_bottom_td, #overture_ads_top_td, #photo--content-title-b=
ottomx--foot, #piao_div_0[style*=3D"width:140px;"], #piao_div_1[style*=3D"w=
idth:140px;"], #piao_div_2[style*=3D"width:140px;"], #piao_div_3[style*=3D"=
width:140px;"], #piao_div_4[style*=3D"width:140px;"], #piao_div_5[style*=3D=
"width:140px;"], #player-bottom-ads, #player_banner[style*=3D"fixed;"] { di=
splay: none !important; }

#player_pause[style^=3D"position"] > a[target=3D"_blank"], #popup.t, #pp-mo=
dal-id, #projectpostbody > a[target=3D"_blank"], #propagandaInsert[style=3D=
"display: flex;"], #ptcmsad1, #qj960a, #qj960b, #reportPop, #results.conten=
t-main > .eLeft, #rightCouple, #rightCouple + #leftFloat, #rightCouple1, #r=
ightCouple1 + #leftFloat1, #rightCouplet, #rightCouplet + #leftFloat, #righ=
t_couple, #right_couple + #left_float, #right_couplet.close_discor, #right_=
down_float_ad { display: none !important; }

#right_float.close_discor, #right_up_float_ad, #rip[href*=3D".taobao.com"],=
 #search > a[href=3D"/top1.html"], #sitefocus.focus, #snActive-wrap, #spons=
orAdDiv2, #swtleft[style^=3D"position:fixed;"], #table1[width=3D"468"][heig=
ht=3D"50"], #table1[width=3D"794"][height=3D"60"], #table1[width=3D"812"][h=
eight=3D"50"], #table1[width=3D"812"][height=3D"60"], #tanx-con-1, #tanx-fo=
ld-main, #taotaole, #textggs, #timedfuo, #top-gg-container, #topNavad, #top=
_ads0 { display: none !important; }

#top_box > a[onclick^=3D"javascript"], #toperAd2, #tr_ad1, #tr_ad10, #tr_ad=
11, #tr_ad2, #tr_ad3, #tr_ad4, #tr_ad5, #tr_ad6, #tr_ad7, #tr_ad8, #tr_ad9,=
 #tripadvisor-ad, #widget-quan, #wp > .V-videoFloat, #wrapper > .topad, #xi=
anliaome_ads, #xinnxi, .Flagrow-Ads-under-header { display: none !important=
; }

.Text-Advertising, ._cggp, ._ggs, ._popIn_recommend_article_ad, ._popIn_rec=
ommend_article_ad_reserved, .a_2mu, .a_cn, .a_fl, .a_fr, .a_mu, .a_oscar1, =
.a_p, .a_pb, .a_pr, .a_pt, .a_ssk_cn, .a_sxc, .a_xsfl, .aab-post, .aasd-tex=
t { display: none !important; }

.aasdwa, .ad-above-footer, .ad-below-adjacent-post, .ad-below-header-menu, =
.ad-below-post-title, .ad-below-related-post, .ad-bottomfixedwrap, .ad-coup=
let-common, .ad-left-down, .ad-left-top, .ad-right-down, .ad-right-top, .ad=
-shine-panel, .ad-site, .ad250left, .ad250right, .ad300left, .ad336left, .a=
d990x130, .ad990x90 { display: none !important; }

.adContainer[style=3D"margin-top: -5px"], .adHF3, .ad_couplebanner, .ad_fix=
ed, .ad_footerbanner, .ad_headerbanner, .ad_hf, .ad_right_1, .ad_right_2, .=
ad_thread, .adbox-bg.adscounter, .add-gg, .ads > a > img[src*=3D".sinaimg."=
], .ads-all, .ads_desktop, .ads_mobile, .adsense160, .adsense200, .adsoho, =
.adv-g1 { display: none !important; }

.advInfoElem, .advertising_lightbox, .afc_popup, .anniversary-wrap-2018, .a=
rtad, .article_ad_top, .asb-index, .asb-post, .assort-ad, .aub-post, .baidu=
ad, .banner-ad-section, .bdyp-sygg-ul, .below_ads, .bm.a_c, .bn728-100, .bn=
728-93, .bottomSponsor, .bottom_mengcheng_ad_wrap, .bottomads + .leftd { di=
splay: none !important; }

.bottomd > .closebox2, .broadcastMe[style=3D"width: 1200px;"], .btn[href*=
=3D".papa9394.com"], .bus_adsbox, .buyaoa-below, .cari-ads, .chat-ad, .chat=
-right-ad, .chat-sysbroadcast-ad, .chat-top-ad, .col-md-10 > .banner-table-=
block, .comiis_ad, .comiis_adbox, .comiis_guanggao, .comiis_guanggao_tit, .=
common-topad, .common_ad, .con_ad, .con_search + #carousel-example-generic[=
style^=3D"max-width: 1170px;"], .container > .ads { display: none !importan=
t; }

.container > a[href^=3D"http"] > .ads, .content > a > .topline, .content-vi=
deo > .ads, .content-video > .ads-player, .content_ad_300, .corner-gg, .cou=
plet_9cb0d, .ctm_ad, .d_banner_inner, .dipiao, .div-search-box.col-lg-offse=
t-2.col-lg-8 > a[href^=3D"http"][target=3D"_blank"], .duilian > .leftd, .ed=
tj, .eis_muad, .error > #qqs, .event_fullscreen_gg_modal, .f-sign-cont[data=
-dysign-adid], .fed-part-case > .ads-img, .ff-ads, .flex-row > #propagandaL=
eft { display: none !important; }

.flex-row > #propagandaRight, .float-adv-left-bottom, .float-adv-left-top, =
.float-adv-right-bottom, .float-adv-right-top, .floatAd, .float_bot_right, =
.fnwehjnc12, .frAd, .frontpageAdvM, .full-ads, .full.banners12, .g1_wz > .g=
1_tp, .getads, .gg1000, .gg430, .gg_300, .gg_728, .gg_950, .gg_960 { displa=
y: none !important; }

.gg_canvas, .gg_full, .gg_tp, .ggad, .ggbox, .gggpost-above, .gglist, .ggpo=
st-below, .ggtop, .ggw, .global_video_bottom_dbtc, .google-ad2_fixed, .goog=
le_adsense2, .gpost-below, .gpt_ads_box, .guangjiaodebupachuanxiede, .gurui=
n-ads, .hao123-unionad-pic, .hbp > .wp_banner, .headxx11xiaoapp { display: =
none !important; }

.heg > .div-list, .his-sign-cont[data-dysign-adid], .hlol_ad, .hongbao_hd, =
.hzxld, .iHead960x90, .ibtad, .index-top-aassd, .index-top-ad, .index-top-g=
g, .index-wz-ad, .index_alert_gg, .indexad2, .indexad3, .indexad4, .indexne=
ws-ad, .itopbar + .container, .jav-nav + .bcpic, .jingqun_tu, .jq_infoflow_=
ad_wrap { display: none !important; }

.jq_mediav_ad_report, .jqrp_infoflow_ad, .kf_qycn_com_cckf_welcomebox, .lef=
tadv, .leftd + .rightd, .listok > a > img[src*=3D".alicdn.com"][width=3D"98=
0"][height=3D"80"], .listok > a > img[style^=3D"width:980px;height:"], .loc=
-home-top-adv-new, .lol-ad, .lol_ad, .lyzm-prevent, .m1938-container, .main=
-ad-l, .main-ad-r, .main-ad-r + .topad, .main[style=3D"border:#7D8C8E solid=
 1px;height: 23px;"], .maomi-content > .section-banner, .mediav-newsfeed-li=
stitem-type-1, .mediavAd_report, .mediavfeed-newsitem { display: none !impo=
rtant; }

.menutab_ad, .ml_ad1, .ml_ad3, .ml_ad5, .mlad, .mod + #bottomBox, .my-cat.m=
y-cat-header, .mylist + #topthree, .mylist > a > img[width^=3D"9"][height=
=3D"80"], .nQIAj, .nQIAj1, .newstyle > .container > a[target=3D"_blank"], .=
newstyle > a > img[src*=3D"img.com/i/"], .orbui-post, .overBanner.dowloadBt=
n, .pagead_3, .pagecon + .ad1, .partialViewSlider-outerwrapper, .pasuAD, .p=
cd_ad { display: none !important; }

.pcgg, .photo-two > a[onclick^=3D"_czc."], .player + .sponsor, .player-bott=
om-gg, .player-info > .recommend-two.recommend-list, .pop[style=3D"right: 1=
0px;"], .privilege-promote, .propa_bottom, .qpdb + a[href], .qq_nr_lad, .qz=
hfaaa, .readmidad, .right > .content > .ads, .room-ad-bottom, .room-ad-top,=
 .room-ad-video-down, .rotate-adv, .rtcenter_game, .scupioadslot, .self-gg =
{ display: none !important; }

.spon-img[src*=3D".alicdn."], .static-a2d, .subject_link[href$=3D"/thread-i=
ndex-fid-1-tid-12848.htm"], .sxAdBox, .t5[style=3D"border:1px solid #a6cbe7=
;"] + .t[style=3D"margin-top:8px"], .table_ad, .textadlist, .theme_custom_s=
lidebox-ad-below, .tmall_ad_container, .tooltip > #tp, .top-gg, .top-read-a=
d, .topSponsor, .top_ad_ban, .top_box > #foot, .top_box > #indextop, .top_b=
ox > #news, .top_box > li > a[href^=3D"/js/app.htm?"], .top_func_ad, .toy52=
_outer { display: none !important; }

.toy52apparel_ALL, .trad1, .trad3, .twavt-ads, .uk-width-1-1.adbox, .w100b =
> .m_adv, .wemziguanggao, .wf_ad_block, .widget-qianhuiji, .widget-topaddin=
g, .widget-xlxba, .widget_adbox, .widget_image_ad, .widget_ui_ads, .widget_=
ui_asb, .widget_ui_aub, .widget_ui_textasb, .widget_ui_textaub, .wordurl[st=
yle=3D"   width: 42%; float:left; text-align: center;"], .wp > .ad-box { di=
splay: none !important; }

.wp.a2_h, .wp.a_f, .wp.a_h, .wp.a_t, .wp_headline + .ad1, .wpcom_ad_wrap, .=
wrap.mt10.clearfix > .box.top_box, .wrapper > a[target=3D"_blank"] > .ads, =
.wumii-bottom-popup, .wumii-widget-ad, .wzad, .xzbox-gh, .y.mtw[style=3D"pa=
dding: 0px 10px;"], .yd_ad, .yd_ad1, .yd_ad2, .yd_ad3, .yd_ad5, .yd_ad6, .z=
hanzhang_tuijian_btn { display: none !important; }

.zhedangceng_ggg, .zone_wap_banner2, a[href*=3D".com/?Agent=3D"], a[href=3D=
"http://t.cn/A6hQCVsv"], a[href=3D"https://s.click.taobao.com/cTAwFvu"], a[=
href^=3D"/e/public/ClickAd?adid=3D"], a > img[src*=3D".sinaimg."][src$=3D".=
gif"][style*=3D"width:960"], a > img[width=3D"960"][src*=3D".alicdn.com/"],=
 a > img[width=3D"960"][src*=3D".sinaimg."], a > img[width=3D"980"][src*=3D=
".sinaimg."], a#wrapper_left_bg[target=3D"_blank"], a#wrapper_right_bg[targ=
et=3D"_blank"], a[href$=3D"/liyusheng.com"], a[href$=3D"/lol8.co"], a[href$=
=3D"/od567.net"], a[href*=3D".05bq.com/"], a[href*=3D".05cg.com/"], a[href*=
=3D".08an.com/"], a[href*=3D".123ch.cn"], a[href*=3D".1317yb.com"] { displa=
y: none !important; }

a[href*=3D".17yyba.com/"], a[href*=3D".222bz.com/"], a[href*=3D".41gw.com/"=
], a[href*=3D".51gogogou.com"], a[href*=3D".613639.com/"], a[href*=3D".7wkw=
.com"], a[href*=3D".9xiazaiqi.com"], a[href*=3D".ahhxwavi.cn"], a[href*=3D"=
.aiyou305.com/"], a[href*=3D".aiyouxi31.com"], a[href*=3D".aiyouxi56.com"],=
 a[href*=3D".ayx300.com/"], a[href*=3D".bayiyy.com/download."], a[href*=3D"=
.betbar168.net"], a[href*=3D".birthcaker.cn"], a[href*=3D".biwbmsyt.cn"], a=
[href*=3D".c43066a9.com"], a[href*=3D".cangpie.com/"], a[href*=3D".caohang.=
com.cn/"], a[href*=3D".chouchuai.com/"] { display: none !important; }

a[href*=3D".chuairan.com/"], a[href*=3D".com/?Extend=3D"], a[href*=3D".com/=
?p=3D"][target=3D"_blank"] > img[src$=3D".gif"], a[href*=3D".com/Register.a=
spx?aid=3D"], a[href*=3D".com/Register/?a=3D"], a[href*=3D".com/register/?i=
_code=3D"] > img, a[href*=3D".com?aff=3D"], a[href*=3D".com?intr=3D"], a[hr=
ef*=3D".dajiang99.com"], a[href*=3D".dongtaisteel.com/"], a[href*=3D".downo=
k.com"], a[href*=3D".dpcpfw.com/"], a[href*=3D".gongnou.com/"], a[href*=3D"=
.gsxzq.com/"], a[href*=3D".guzaosf.com/"], a[href*=3D".hbjimin.com/"], a[hr=
ef*=3D".hndazhan.com/"], a[href*=3D".hth379.com/"], a[href*=3D".hth399.com"=
], a[href*=3D".hth401.com"] { display: none !important; }

a[href*=3D".hth402.com"], a[href*=3D".hthbet34.com"], a[href*=3D".hthbet35.=
com"], a[href*=3D".hthbet49.com"], a[href*=3D".hthty24.app"], a[href*=3D".h=
thty25.app"], a[href*=3D".hthty26.app"], a[href*=3D".hthty27.app"], a[href*=
=3D".hthvip20.com"], a[href*=3D".hthvip22.com"], a[href*=3D".hthvip23.com"]=
, a[href*=3D".hthvip34.com"], a[href*=3D".hthvip36.com"], a[href*=3D".htvip=
24.app"], a[href*=3D".htvip27.app"], a[href*=3D".iziyo.com/"], a[href*=3D".=
liaochuo.com/"], a[href*=3D".mieseng.com/"], a[href*=3D".qpokok.com/"], a[h=
ref*=3D".qtj5.com/"] { display: none !important; }

a[href*=3D".quankan.tv"], a[href*=3D".tbb168.com"], a[href*=3D".tduou.com/"=
], a[href*=3D".tea123.me"], a[href*=3D".thejierou.net"], a[href*=3D".tnelb.=
xyz/"], a[href*=3D".ttz5.cn"], a[href*=3D".tudown.com/"], a[href*=3D".umeng=
.com"]:not([href=3D"http://www.umeng.com/"]) > img, a[href*=3D".wenpie.com/=
"], a[href*=3D".wensixuetang.com/"], a[href*=3D".wjLkj.com/"], a[href*=3D".=
xjspa.in/"], a[href*=3D".xlddz.net/"], a[href*=3D".xlgqy.com/"], a[href*=3D=
".xrzzk.com/"], a[href*=3D".yabo414.com"], a[href*=3D".yabo816.com"], a[hre=
f*=3D".yabo824.com"], a[href*=3D".yabo858.com"] { display: none !important;=
 }

a[href*=3D".yabovip113.com"], a[href*=3D".yabovip2027.com/"], a[href*=3D".y=
b2843.vip"], a[href*=3D".ybvip5741.vip"], a[href*=3D".youxi126.com"], a[hre=
f*=3D".youxi141.com"], a[href*=3D".youxi142.com"], a[href*=3D".yuanmengbi.c=
om/"], a[href*=3D".yyk2.com/"], a[href*=3D".zhongguohao123.com/"], a[href*=
=3D"/10093813.com"], a[href*=3D"/111.231.78.194/"], a[href*=3D"/136ayx.vip"=
], a[href*=3D"/170hth.com/"], a[href*=3D"/171hth.com/"], a[href*=3D"/182hth=
.com"], a[href*=3D"/2e9c9aa9.com/"], a[href*=3D"/3337818.com/"], a[href*=3D=
"/33hth.cn"], a[href*=3D"/602034.com"] { display: none !important; }

a[href*=3D"/?INTR=3D"], a[href*=3D"/?Intr=3D"], a[href*=3D"/?intr=3D"], a[h=
ref*=3D"/Register?a=3D"], a[href*=3D"/ads/adscenter."], a[href*=3D"/aiyoube=
t178.com/"], a[href*=3D"/ayx600.com/"], a[href*=3D"/ayxbet846.vip"], a[href=
*=3D"/du505.com"], a[href*=3D"/entry/register/?i_code=3D"], a[href*=3D"/htb=
et1536.com"], a[href*=3D"/hth104.com/"], a[href*=3D"/hth107.com/"], a[href*=
=3D"/hth377.com/"], a[href*=3D"/hth567.cn"], a[href*=3D"/hth678.cn"], a[hre=
f*=3D"/hth907.com"], a[href*=3D"/hth908.com"], a[href*=3D"/hthty21.app"], a=
[href*=3D"/htvip21.app"] { display: none !important; }

a[href*=3D"/l1y5.com"], a[href*=3D"/l1y9.com"], a[href*=3D"/ly0909.com"], a=
[href*=3D"/ly1111.vip"], a[href*=3D"/ly288.net"], a[href*=3D"/md0c.oss-cn-b=
eijing.aliyuncs.com/"], a[href*=3D"/mda1.site/"], a[href*=3D"/mdapp03.com/"=
], a[href*=3D"/mdapp2.cc/"], a[href*=3D"/mdb1.site/"], a[href*=3D"/nba9.lol=
"], a[href*=3D"/nf.brushshopy.com"], a[href*=3D"/od005.cn"], a[href*=3D"/od=
005.com"], a[href*=3D"/od005.net"], a[href*=3D"/od005.tv"], a[href*=3D"/od0=
05.vip"], a[href*=3D"/od006.net"], a[href*=3D"/od05.vip"], a[href*=3D"/odnb=
.vip"] { display: none !important; }

a[href*=3D"/odty55.cc"], a[href*=3D"/ppffj.me/"], a[href*=3D"/uuzb50.cc/"],=
 a[href*=3D"https://www.zhidmai.com"], a[href*=3D"itoon.app"], a[href*=3D"m=
dapp01.com/"], a[href*=3D"nnqp.vip"], a[href=3D"/e/member/register/index.ph=
p?tobind=3D0&groupid=3D1"], a[href=3D"/gghtml/tyc.html"], a[href=3D"http://=
hqbet2191.com"], a[href=3D"http://t.cn/E2PgiG1"], a[href=3D"http://t.cn/Ex0=
cCbt"], a[href=3D"http://www.tw787.com/"], a[href=3D"http://www.yabovip5.cc=
/"], a[href=3D"https://368259.com"], a[href=3D"https://537687.com"], a[href=
=3D"https://5385442.com"], a[href=3D"https://8646543.com"], a[href=3D"https=
://87nn.cc/"], a[href=3D"https://www.ybvip1879.vip"] { display: none !impor=
tant; }

a[href=3D"javascript:GoDb();"], a[href=3D"javascript:GoGd();"], a[href=3D"j=
avascript:GoTp();"], a[href^=3D"http://ad.moemoe."], a[href^=3D"http://go.g=
otourl.xyz/"], a[href^=3D"http://pic.gunqiu.com/"], a[href^=3D"http://www.u=
pupoo.com"], a[href^=3D"https://hi.potvpn.com/?from=3D"], a[href^=3D"javasc=
ript:gl012"], a[href^=3D"javascript:gl012"] + img, a[onclick^=3D"_czc."] > =
.ads, a[onclick^=3D"_czc.push(['_trackEvent', '=E5=B9=BF=E5=91=8A"], a[oncl=
ick^=3D"javascript:pc_"] > img[src*=3D".alicdn.com"], a[style=3D"display:in=
line-block;font-weight:bold;color:#f00;border:1px solid #f00;border-radius:=
15px;padding:2px 5px 2px 5px;margin:5px 5px 5px 0px;"], body .has-ad, body[=
class|=3D"view"] > .ad-box, body[onload*=3D"u()"] > #x, center > a[target=
=3D"_blank"] > img[style=3D"padding- bottom:5px;width:960px;height:120px;"]=
, center > a[target=3D"_blank"] > img[style=3D"padding- bottom:5px;width:96=
0px;height:200px;"], center > a[target=3D"_blank"] > img[style=3D"padding- =
bottom:5px;width:960px;height:60px;"] { display: none !important; }

div#ad_id, div#xinxi, div[class^=3D"ADTOPLB_"], div[class^=3D"ps_"][value=
=3D"20"], div[id^=3D"ad_thread"], div[id^=3D"photo-header-title-content-tex=
t-dall"], img#adv1, img[data-link][data-src*=3D"/u/"]:not([data-link*=3D"/i=
/"]), img[data-src*=3D".alicdn.com/img/ibank/"][src=3D"/static/images/loadi=
ngerror.gif"], img[onclick*=3D".aiyou305.com/"], img[onclick*=3D".hth390.co=
m"], img[onclick*=3D"/2e9c9aa9.com"], img[onclick*=3D"/60hthty.vip"], img[o=
nclick*=3D"/789htbet.vip"], img[onclick*=3D"/ayx600.com/"], img[onclick*=3D=
"/ayx700.com/"], img[onclick*=3D"/c7.net/"], img[onclick*=3D"/statics/js/"]=
, img[onclick=3D"window.open(this.url)"][src*=3D"qq.com"], img[onclick^=3D"=
window.open"][src*=3D".360buyimg.com"] { display: none !important; }

img[src$=3D"/img/tianbo.gif"], img[src*=3D".qpic.cn"][width=3D"980"][height=
=3D"80"], img[src*=3D".sinaimg."][style=3D"width:1025px;height:80px"], img[=
src*=3D".sinaimg."][style=3D"width:150px;height:300px"], script + #coupletB=
ox, script + #rbbox, script[src=3D"/js/sy2.js"] + div[align=3D"center"], sc=
ript[src=3D"/templates/frontend/frontend-jiucao/js/jquery.lazyload.min.js"]=
 + .footer_app_box, span[title=3D"neteasefooter"], style + .vdgdo, table[st=
yle=3D"border:#7D8C8E solid 1px;height: 30px;text-align: center;"], #guangg=
ao1[style^=3D"position"], #guanggao2[style^=3D"position"], [style=3D"displa=
y:none"] + iframe[scrolling=3D"no"][src*=3D"//"][src*=3D"?"][src*=3D"=3D"][=
src*=3D"&"][width][height][frameborder=3D"0"], div:not(#video)[style^=3D"wi=
dth: 100%;"][style$=3D"display: block;"] iframe[scrolling=3D"no"][src*=3D"/=
/"][src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height][frameborder=3D"0"]=
, div[style^=3D"width: 100%;"][style$=3D"margin: 0px;"] iframe[scrolling=3D=
"no"][src*=3D"//"][src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height][fra=
meborder=3D"0"], div[style^=3D"width: 100%;"][style$=3D"opacity: 100;"] ifr=
ame[scrolling=3D"no"][src*=3D"//"][src*=3D"?"][src*=3D"=3D"][src*=3D"&"][wi=
dth][height][frameborder=3D"0"], div[style^=3D"width: 100%;"][style$=3D"ove=
rflow: hidden;"] iframe[scrolling=3D"no"][src*=3D"//"][src*=3D"?"][src*=3D"=
=3D"][src*=3D"&"][width][height][frameborder=3D"0"], div[style^=3D"width: 1=
00%;"][style$=3D"visibility: visible;"] iframe[scrolling=3D"no"][src*=3D"//=
"][src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height][frameborder=3D"0"],=
 div[style^=3D"width: 100%;"][style$=3D"z-index: inherit;"] iframe[scrollin=
g=3D"no"][src*=3D"//"][src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height]=
[frameborder=3D"0"] { display: none !important; }

a[href*=3D"/cpro."], a[href*=3D"/cpro/"], #bd-hl-content, #container > .ite=
m.title_normal, #container > .item.title_top, #container > .wrapper > .fl, =
#container > a.block, #container.container > a.item, #cpro_container, #img-=
txt-wrapper > #title_desc_div, #wrapper > div[style=3D"padding:3px;"] > #pi=
c, .container > a.mid-wrapper, a[href*=3D"/mobads.php?"], body > div[style=
=3D"display:none;"] + div[style=3D"display:none;"] + div[id][class][style^=
=3D"background-color:"], div[class][id][style] > .pic_container, div[id][st=
yle=3D"width: 100%;"] > div > div > iframe[scrolling=3D"no"][src^=3D"http"]=
[src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height][frameborder=3D"0"], d=
iv[id][style=3D"width: 100%;"] > div > iframe[scrolling=3D"no"][src^=3D"htt=
p"][src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height][frameborder=3D"0"]=
, div[id][style=3D"width: 100%;"] > iframe[scrolling=3D"no"][src^=3D"http"]=
[src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height][frameborder=3D"0"], d=
iv[style=3D"display:none;"] + script + #container.container, div[style=3D"w=
idth: 100%;"]:not([id]):not([class]) > iframe[scrolling=3D"no"][src*=3D"//"=
][src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height][frameborder=3D"0"] {=
 display: none !important; }

div[style^=3D"width: 100%;"]:not([id]):not([class]) > iframe[scrolling=3D"n=
o"][src^=3D"http"][src*=3D"?"][src*=3D"=3D"][src*=3D"&"][width][height][fra=
meborder=3D"0"]:not([allowfullscreen]), .footer > #box[style=3D"width:100%;=
height:100%;position:fixed;top:0"], a[href*=3D".gotourls.bid"], a[href^=3D"=
http://yunbofangbt."], div[align=3D"center"] > a[href^=3D"/url/"] > img[src=
*=3D".alicdn.com"], div[align=3D"center"] > a[href^=3D"/url/"] > img[src*=
=3D".qpic.cn"], a[href$=3D".anwangdaohang.com"], a[href$=3D"/1c626.com"], a=
[href$=3D"/my15.tv"], a[href$=3D"s.hw226.cn"], a[href*=3D".hhjs20.com"], a[=
href*=3D"/cslpldyc.me"], vg-pause-ads, .cc5278_banner_ad, center > p > a[ta=
rget=3D"_blank"] > img[width=3D"728px"][height=3D"90px"], #chaptername + di=
v > div[style=3D"padding:10px;border-radius:10px;background-color:green;"],=
 #content > div[style=3D"padding:10px!important;border-radius:10px;backgrou=
nd-color:green;"], #downdiv > .downcode, #gudingweiDiv, #htmlContent > div[=
style=3D"padding:10px;border-radius:10px;background-color:green;"] { displa=
y: none !important; }

.appguide-wrap[onclick*=3D"bcebos.com"], .box_con[style=3D"border-radius:10=
px;background-color:#ff0000;padding:15px;"], .downcode[style^=3D"position:f=
ixed;z-index:1000;top:200px;"], .layui-row[style=3D"border-radius:10px;back=
ground-color:#ff0000;padding:15px;margin:15px;"], .layui-row[style=3D"borde=
r-radius:10px;background-color:#ff0000;padding:15px;margin:15px;margin-righ=
t:0px;margin-left:0px;"], .layui-row[style=3D"height:160px;border-radius:10=
px;background-color:#ff0000;padding:15px;margin:15px;"], .readerListADbox, =
[class][onclick=3D"window.location.href=3D'/api/goapp/'"], [class][onclick=
=3D"window.location.href=3D'https://www.suyuexs.com'"], [class][onclick=3D"=
window.location.href=3D'https://www.tsqcy.cn'"], [class][onclick^=3D"window=
.location.href"][onclick*=3D"%AF%B4.apk"], [class][onclick^=3D"window.locat=
ion.href"][onclick*=3D".bcebos."], [class][onclick^=3D"window.location.href=
"][onclick*=3D".sydtqg.com"], a[href*=3D".1956hl.com/"], a[href*=3D".233787=
.com/"], a[href*=3D".com/tg.html?id=3D"], a[href*=3D".jiq339.com/"], a[href=
*=3D".nksauiiya0214.top"], a[href*=3D".vxzmok.com"], a[href*=3D".woyicanyin=
.com"] { display: none !important; }

a[href*=3D".yixing-hb.com"], a[href*=3D"/huojugg.com"], a[href*=3D"://mgzs.=
cdn.bcebos.com/"], a[href=3D"/ad2.html"], dd[style=3D"padding:16px 16px 20p=
x;margin: 15px;border-radius:50%;background-color:green;"], div[onclick^=3D=
"window.location.href"][onclick*=3D".bcebos."], div[style=3D"border-radius:=
8px;background-color:#005737;padding:6px!important;text-align: center;"], d=
iv[style=3D"border-radius:8px;background-color:#005737;padding:6px;"], div[=
style=3D"box-sizing:border-box;padding:20px 16px;border-radius:8px;width:90=
%;margin:0 auto;"], div[style=3D"position:fixed;z-index:1000;top:200px;left=
:10px;overflow:hidden;background: #fff;"], div[style=3D"position:fixed;z-in=
dex:1000;top:200px;right:10px;overflow:hidden;background: #fff;"], #Video-S=
hunt-Box + .container, .leftd1 + .rightd1, .rightd + .leftd1, .smcms-wrap >=
 .group-box > a[target=3D"_blank"] > img, .smcms-wrap > a[target=3D"_blank"=
] > img, div[style=3D"display: flex;flex-wrap: wrap;margin-right: 5px;margi=
n-left: 5px;"] + style + .container, .txp_ad_center, #asx_text, #wp > .V-vi=
deo-floats { display: none !important; }

.b_oscar1, .b_pr, .b_sxc, .b_sxp, .b_sxp + .zxy, .float-left12 > .div-list,=
 .wrapper > #asxv, a[onclick*=3D"/dasp.php?a=3D"], #j-new-ad, .a_sxfl, .a_s=
xmu, .a_sxp, .a_sxpb, .heg > .partner-list, a[href^=3D"/dasp.php?a=3D"], .s=
earch + #midBox, .wrap + #btmBox, .wrap + #midBox, script[src=3D"/skin/base=
.js"] + #couplet, #toptb + div[align=3D"center"] { display: none !important=
; }

.it618_firstad_flex, table[style=3D"border:#e8e8e8 1px solid;"] + div[style=
=3D"margin-top:5px"] > table[style=3D"width:100%;"][cellspacing=3D"0"][cell=
padding=3D"1"][bordercolor=3D"#22222"][border=3D"1"], #ad-ft, #wp > div > #=
top_banner, .ads > #video_playr_sider, .bottom-gg, .pull-right > #video_pla=
yr_sider, .video-player-container > #player_bottom_banner, div[data-gg-zone=
], .nordvpn-popup, .nordvpn-popup + .sidebar-vpn, .tm3all2h4b { display: no=
ne !important; }
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: cid:css-bbb2339e-0b52-4ec4-b5e8-6d014be9d8ac@mhtml.blink

@charset "utf-8";

.a907dbf8-7416-4cb3-97bc-b23f97198b29 { position: relative !important; bord=
er-radius: 0.2em !important; padding: 0px !important; margin: 0px !importan=
t; }

.c4e35af3-dd3d-41e2-b44d-837dac7d3447 .ssh-close { position: absolute; left=
: -8px; top: -8px; width: 16px; height: 16px; z-index: 999; border: none; b=
ackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAA=
AAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUA=
AHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoC=
MFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8=
TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0k=
ThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACAT=
ZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN=
4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA=
/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/=
qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48=
/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqU=
iiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+=
8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCC=
mSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFi=
ilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIG=
yUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsT=
gsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDh=
FHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ks=
qZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJ=
BVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0s=
vpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKC=
pVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/=
pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzN=
KM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7a=
edpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb=
6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8=
o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+e=
b15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7=
Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6az=
pzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVx=
XeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9=
jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngC=
UBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQf=
ujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3=
ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZ=
ATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hC=
epkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQr=
AVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9=
rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1=
dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+=
aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7=
ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU=
1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2p=
CmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDbor=
Z752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca=
7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDt=
QdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89=
kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx=
3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAg=
OkAAHUwAADqYAAAOpgAABdvkl/FRgAAAeBJREFUeNqMU01rGlEUPW9EUJeR2QyUcZ1uVLrr3zAb=
pdhfFWphVgUFR1ylNGR04qaIUBQXbaOmoOQHZObJW83H6UZfGq3gWb7LPe/ec88R2CGXyyFJEkR=
R9A7Ah2q1+t627TcAsNlsnqbT6XcAX7LZ7I98Po/tdguSOMR1s9nkZDJhkiTcI04STiYTNptNAr=
gGACHEUfN9p9N5aYpjKqWolGIcx/q93W4TwP0hyeder8d/EQQBpZSUUjIIglc113UJoGUYBgDgs=
tFo6KLjOPx2e0uSDMOQYRiSJMfjMX3fZ5qmJMl6vU4AlzAMozWfz/XYruvSNE2ORiNNOhgMaFkW=
fd9nFEUkyfl8TiHEJ5Qrld/75v1vA8+jaZp8/PPIxWLB4sUFPc/TU8U7gcvl8k/Urq6eSVIpRSm=
lJlktlyzZNu1SiavVSjdLKamUIknWarVnAycghECSJBAAMpkMTqJcqfw6XMG7u2OxWORyueTi4e=
GVJkcrCCG0iFEU0R8OaVkWB8Phi4g7Tfr9vvaEFhHA20ajTpJM05S+73M8Hh+d8evNDR3H0aT6j=
NpIrnu2kbrdLgG0DrU5aeXkDCvrMH3chSk+M0yaIp/PI47j/8Z5vV4/zWYzHedCoQApJUji7wAq=
NGpVYJkfGwAAAABJRU5ErkJggg=3D=3D") no-repeat border-box border-box; animati=
on-duration: 275ms; animation-timing-function: ease-out; box-shadow: none; =
animation-name: bbce7862-9eda-43fd-9ef4-e14bf4eb0363; }

.c4e35af3-dd3d-41e2-b44d-837dac7d3447 .ssh-close:hover, .c4e35af3-dd3d-41e2=
-b44d-837dac7d3447 .ssh-close:focus { background-image: url("data:image/png=
;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwE=
AmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUh=
UIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja=
9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+=
PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKA=
EAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5AN=
gtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8u=
SQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62=
Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/N=
w+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5=
IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+A=
XuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/H=
CAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMB=
RaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIk=
uRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8Wo=
JvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+x=
dwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCP=
WEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkne=
TD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoE=
zR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcY=
Zxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+=
pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2=
MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX8=
36K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3n=
U9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGsww=
kBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmIS=
ZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnut=
rxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdn=
t8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcR=
pnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8=
w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4=
zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay=
2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFg=
a0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm=
5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCH=
cJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOS=
kZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYn=
KOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km=
3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf=
9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7=
g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1Wb=
VZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg=
1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R=
9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvO=
XPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tW=
eOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/=
cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRo=
Zfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmT=
k/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgA=
AAudJREFUeNp0k11olXUcxz////PizjnPOYHbPGNDKGLPoC0h8KKMYpW9YUMIZ9JpgmtztIvEug=
ixi6A3ugjKi0nr2Mo5rFxdDKEU0mAoBMpQtwsfkQL1uLNzenE+x3PO8/L/d3EyMtwXfnc/vj9+8=
PkIrTUA9VqNyJBIy16vYCCYW3g0vrK4FsBY23bFfqj7lAGTcRCc0bUaqXQaIQTidkEEBDDmT828=
VslPE8xfQt/wARD3ONg9nThD/aRyffuB0YTWdxZU4eTS4J5ef2ISiYPRvgZhWwDoICQuLKGokB4=
coOXABz8n4Qm0RqrG9fHi0N5ef+IgxqpmhJNEplMgJUiJcFLIjIOZyXLziy8p7Xy7N4TPIq0RVa=
0fuDH940K5fwijqZn0rgHiq4v4U99ju10AhN5lEi88iUglqP0wS7S8SOuRPJktz3XLWMW7KmOHk=
TgI0yC+XmJ1/l2Sm54m8DwCzyOxeSPNhz5CV6qAQOLgjx1G6fh1M5j3Hg/PexjtWWQ6iX/wW9Rf=
y7R89ynFh7eBlLR88zHlrW9SPXoCy70f4SQIL3jU5y89Zka/FdrUso/ZsQYdRthuF7dmjlHckKP=
1eB60pvhIjvrcOWzXRUcRwrZQ5T+Jfr3WLgEE/41ojNYgJAgBSrFSpHVvx3WRcdBBhDBNQu8yyc=
3Pkj09RemZVyk9P0L2l69JbtpI4F1EWCY6CBEZB/O+joK0e9xZa51LXCgSL5ZI9D1F81cfUn7pD=
epz56mfnaO8dTctRz7Byb3Y2CssYT3YSVOPOyuFlPtSo9tQ/ENdsonfX3mL6sxP2K6L7brcmjnG=
HyPvYHRk0WGMwic1+jJCyH0i1ooYMX5teO9wJT+BmWlv/NbWClHUKLVMoqtFiGPiWpn08A7axt8=
bl0qN3AXlQ0hSK6LsDG6n9cD7/6J8d5k+nyZYuFMmq7uT9HA/Tq5vv4LR5P9luq2zadnroxV0Nm=
EyCoIzqlrFyWQQQvD3AGVQYCCmF8O+AAAAAElFTkSuQmCC"); }

@media print {
  .c4e35af3-dd3d-41e2-b44d-837dac7d3447 { box-shadow: unset !important; -we=
bkit-print-color-adjust: exact !important; }
}

@keyframes bbce7862-9eda-43fd-9ef4-e14bf4eb0363 {=20
  0% { opacity: 0; transform: scale(0.6); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes fb480f19-c6a9-4eb8-8d5d-b196f1352224 {=20
  100% { opacity: 0; transform: scale(0.3); }
}

.c4e35af3-dd3d-41e2-b44d-837dac7d3447 { background-color: rgba(238, 238, 23=
8, 0.8); color: rgb(170, 170, 170); font: inherit; box-shadow: rgb(238, 238=
, 238) 0px 0px 0.35em; text-shadow: none !important; }

.default-red-aa94e3d5-ab2f-4205-b74e-18ce31c7c0ce { box-shadow: rgb(255, 12=
8, 128) 0px 0px 0.35em; background-color: rgba(255, 128, 128, 0.8) !importa=
nt; color: rgb(0, 0, 0) !important; }

.default-orange-da01945e-1964-4d27-8a6c-3331e1fe7f14 { box-shadow: rgb(255,=
 210, 170) 0px 0px 0.35em; background-color: rgba(255, 210, 170, 0.8) !impo=
rtant; color: rgb(0, 0, 0) !important; }

.default-yellow-aaddcf5c-0e41-4f83-8a64-58c91f7c6250 { box-shadow: rgb(255,=
 255, 170) 0px 0px 0.35em; background-color: rgba(255, 255, 170, 0.8) !impo=
rtant; color: rgb(0, 0, 0) !important; }

.default-green-c4d41e0a-e40f-4c3f-91ad-2d66481614c2 { box-shadow: rgb(170, =
255, 170) 0px 0px 0.35em; background-color: rgba(170, 255, 170, 0.8) !impor=
tant; color: rgb(0, 0, 0) !important; }

.default-cyan-f88e8827-e652-4d79-a9d9-f6c8b8ec9e2b { box-shadow: rgb(170, 2=
55, 255) 0px 0px 0.35em; background-color: rgba(170, 255, 255, 0.8) !import=
ant; color: rgb(0, 0, 0) !important; }

.default-purple-c472dcdb-f2b8-41ab-bb1e-2fb293df172a { box-shadow: rgb(255,=
 170, 255) 0px 0px 0.35em; background-color: rgba(255, 170, 255, 0.8) !impo=
rtant; color: rgb(0, 0, 0) !important; }

.default-grey-da7cb902-89c6-46fe-b0e7-d3b35aaf237a { box-shadow: rgb(119, 1=
19, 119) 0px 0px 0.35em; background-color: rgba(119, 119, 119, 0.8) !import=
ant; color: rgb(255, 255, 255) !important; }
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: https://docs.python.org/3/_static/pydoctheme.css

@charset "utf-8";

@import url("default.css");

body { background-color: white; margin-left: 1em; margin-right: 1em; }

div.related { margin-bottom: 1.2em; padding: 0.5em 0px; border-top: 1px sol=
id rgb(204, 204, 204); margin-top: 0.5em; }

div.related a:hover { color: rgb(0, 149, 196); }

div.related:first-child { border-top: 0px; border-bottom: 1px solid rgb(204=
, 204, 204); }

.inline-search { display: inline; }

form.inline-search input { display: inline; }

form.inline-search input[type=3D"submit"] { width: 40px; }

div.sphinxsidebar { background-color: rgb(238, 238, 238); border-radius: 5p=
x; line-height: 130%; font-size: smaller; }

div.sphinxsidebar h3, div.sphinxsidebar h4 { margin-top: 1.5em; }

div.sphinxsidebarwrapper > h3:first-child { margin-top: 0.2em; }

div.sphinxsidebarwrapper > ul > li > ul > li { margin-bottom: 0.4em; }

div.sphinxsidebar a:hover { color: rgb(0, 149, 196); }

form.inline-search input, div.sphinxsidebar input { font-family: "Lucida Gr=
ande", Arial, sans-serif; border: 1px solid rgb(153, 153, 153); font-size: =
smaller; border-radius: 3px; }

div.sphinxsidebar input[type=3D"text"] { max-width: 150px; }

div.body { padding: 0px 0px 0px 1.2em; }

div.body p { line-height: 140%; }

div.body h1, div.body h2, div.body h3, div.body h4, div.body h5, div.body h=
6 { margin: 0px; border: 0px; padding: 0.3em 0px; }

div.body hr { border: 0px; background-color: rgb(204, 204, 204); height: 1p=
x; }

div.body pre { border-radius: 3px; border: 1px solid rgb(170, 204, 153); }

div.body div.admonition, div.body div.impl-detail { border-radius: 3px; }

div.body div.impl-detail > p { margin: 0px; }

div.body div.seealso { border: 1px solid rgb(221, 221, 102); }

div.body a { color: rgb(0, 114, 170); }

div.body a:visited { color: rgb(99, 99, 187); }

div.body a:hover { color: rgb(0, 176, 228); }

tt, code, pre { font-family: monospace, sans-serif; font-size: 96.5%; }

div.body tt, div.body code { border-radius: 3px; }

div.body tt.descname, div.body code.descname { font-size: 120%; }

div.body tt.xref, div.body a tt, div.body code.xref, div.body a code { font=
-weight: normal; }

table.docutils { border: 1px solid rgb(221, 221, 221); min-width: 20%; bord=
er-radius: 3px; margin-top: 10px; margin-bottom: 10px; }

table.docutils td, table.docutils th { border-radius: 3px; border: 1px soli=
d rgb(221, 221, 221) !important; }

table p, table li { text-align: left !important; }

table.docutils th { background-color: rgb(238, 238, 238); padding: 0.3em 0.=
5em; }

table.docutils td { background-color: white; padding: 0.3em 0.5em; }

table.footnote, table.footnote td { border: 0px !important; }

div.footer { line-height: 150%; margin-top: -2em; text-align: right; width:=
 auto; margin-right: 10px; }

div.footer a:hover { color: rgb(0, 149, 196); }

.refcount { color: rgb(0, 102, 0); }

.stableabi { color: rgb(34, 34, 153); }

.highlight { background: none !important; }

dl > dt span ~ em { font-family: monospace, sans-serif; }
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: https://docs.python.org/3/_static/default.css

@charset "utf-8";

@import url("classic.css");
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: https://docs.python.org/3/_static/classic.css

@charset "utf-8";

@import url("basic.css");

html { background-color: rgb(255, 255, 255); }

body { font-family: "Lucida Grande", Arial, sans-serif; font-size: 100%; ba=
ckground-color: white; color: rgb(0, 0, 0); margin: 0px; padding: 0px; }

div.document { background-color: white; }

div.documentwrapper { float: left; width: 100%; }

div.bodywrapper { margin: 0px 0px 0px 230px; }

div.body { background-color: white; color: rgb(34, 34, 34); padding: 0px 20=
px 30px; }

div.footer { color: rgb(85, 85, 85); width: 100%; padding: 9px 0px; text-al=
ign: center; font-size: 75%; }

div.footer a { color: rgb(85, 85, 85); text-decoration: underline; }

div.related { background-color: white; line-height: 30px; color: rgb(102, 1=
02, 102); }

div.related a { color: rgb(68, 68, 68); }

div.sphinxsidebar { }

div.sphinxsidebar h3 { font-family: "Lucida Grande", Arial, sans-serif; col=
or: rgb(68, 68, 68); font-size: 1.4em; font-weight: normal; margin: 0px; pa=
dding: 0px; }

div.sphinxsidebar h3 a { color: rgb(68, 68, 68); }

div.sphinxsidebar h4 { font-family: "Lucida Grande", Arial, sans-serif; col=
or: rgb(68, 68, 68); font-size: 1.3em; font-weight: normal; margin: 5px 0px=
 0px; padding: 0px; }

div.sphinxsidebar p { color: rgb(68, 68, 68); }

div.sphinxsidebar p.topless { margin: 5px 10px 10px; }

div.sphinxsidebar ul { margin: 10px; padding: 0px; color: rgb(68, 68, 68); =
}

div.sphinxsidebar a { color: rgb(68, 68, 68); }

div.sphinxsidebar input { border: 1px solid rgb(68, 68, 68); font-family: s=
ans-serif; font-size: 1em; }

div#sidebarbutton { background-color: rgb(60, 110, 131); }

a { color: rgb(0, 144, 192); text-decoration: none; }

a:visited { color: rgb(0, 96, 143); text-decoration: none; }

a:hover { text-decoration: underline; }

div.body h1, div.body h2, div.body h3, div.body h4, div.body h5, div.body h=
6 { font-family: "Lucida Grande", Arial, sans-serif; background-color: whit=
e; font-weight: normal; color: rgb(26, 26, 26); border-bottom: 1px solid rg=
b(204, 204, 204); margin: 20px -20px 10px; padding: 3px 0px 3px 10px; }

div.body h1 { margin-top: 0px; font-size: 200%; }

div.body h2 { font-size: 160%; }

div.body h3 { font-size: 140%; }

div.body h4 { font-size: 120%; }

div.body h5 { font-size: 110%; }

div.body h6 { font-size: 100%; }

a.headerlink { color: rgb(170, 170, 170); font-size: 0.8em; padding: 0px 4p=
x; text-decoration: none; }

a.headerlink:hover { background-color: rgb(170, 170, 170); color: white; }

div.body p, div.body dd, div.body li, div.body blockquote { text-align: jus=
tify; line-height: 130%; }

div.admonition p.admonition-title + p { display: inline; }

div.admonition p { margin-bottom: 5px; }

div.admonition pre { margin-bottom: 5px; }

div.admonition ul, div.admonition ol { margin-bottom: 5px; }

div.note { background-color: rgb(238, 238, 238); border: 1px solid rgb(204,=
 204, 204); }

div.seealso { background-color: rgb(255, 255, 204); border: 1px solid rgb(2=
55, 255, 102); }

div.topic { background-color: rgb(238, 238, 238); }

div.warning { background-color: rgb(255, 228, 228); border: 1px solid rgb(2=
55, 102, 102); }

p.admonition-title { display: inline; }

p.admonition-title::after { content: ":"; }

pre { padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51=
, 51); line-height: 120%; border-top: 1px solid rgb(170, 204, 153); border-=
bottom: 1px solid rgb(170, 204, 153); border-image: initial; border-left: n=
one; border-right: none; }

code { background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 0=
.95em; }

th, dl.field-list > dt { background-color: rgb(238, 221, 238); }

.warning code { background: rgb(239, 194, 194); }

.note code { background: rgb(214, 214, 214); }

.viewcode-back { font-family: "Lucida Grande", Arial, sans-serif; }

div.viewcode-block:target { background-color: rgb(244, 222, 191); border-to=
p: 1px solid rgb(170, 204, 153); border-bottom: 1px solid rgb(170, 204, 153=
); }

div.code-block-caption { color: rgb(239, 239, 239); background-color: rgb(2=
8, 78, 99); }
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: https://docs.python.org/3/_static/basic.css

@charset "utf-8";

div.clearer { clear: both; }

div.related { width: 100%; font-size: 90%; }

div.related h3 { display: none; }

div.related ul { margin: 0px; padding: 0px 0px 0px 10px; list-style: none; =
}

div.related li { display: inline; }

div.related li.right { float: right; margin-right: 5px; }

div.sphinxsidebarwrapper { padding: 10px 5px 0px 10px; }

div.sphinxsidebar { float: left; width: 230px; margin-left: -100%; font-siz=
e: 90%; overflow-wrap: break-word; }

div.sphinxsidebar ul { list-style: none; }

div.sphinxsidebar ul ul, div.sphinxsidebar ul.want-points { margin-left: 20=
px; list-style: square; }

div.sphinxsidebar ul ul { margin-top: 0px; margin-bottom: 0px; }

div.sphinxsidebar form { margin-top: 10px; }

div.sphinxsidebar input { border: 1px solid rgb(152, 219, 204); font-family=
: sans-serif; font-size: 1em; }

div.sphinxsidebar #searchbox form.search { overflow: hidden; }

div.sphinxsidebar #searchbox input[type=3D"text"] { float: left; width: 80%=
; padding: 0.25em; box-sizing: border-box; }

div.sphinxsidebar #searchbox input[type=3D"submit"] { float: left; width: 2=
0%; border-left: none; padding: 0.25em; box-sizing: border-box; }

img { border: 0px; max-width: 100%; }

ul.search { margin: 10px 0px 0px 20px; padding: 0px; }

ul.search li { padding: 5px 0px 5px 20px; background-image: url("file.png")=
; background-repeat: no-repeat; background-position: 0px 7px; }

ul.search li a { font-weight: bold; }

ul.search li div.context { color: rgb(136, 136, 136); margin: 2px 0px 0px 3=
0px; text-align: left; }

ul.keywordmatches li.goodmatch a { font-weight: bold; }

table.contentstable { width: 90%; margin-left: auto; margin-right: auto; }

table.contentstable p.biglink { line-height: 150%; }

a.biglink { font-size: 1.3em; }

span.linkdescr { font-style: italic; padding-top: 5px; font-size: 90%; }

table.indextable { width: 100%; }

table.indextable td { text-align: left; vertical-align: top; }

table.indextable ul { margin-top: 0px; margin-bottom: 0px; list-style-type:=
 none; }

table.indextable > tbody > tr > td > ul { padding-left: 0em; }

table.indextable tr.pcap { height: 10px; }

table.indextable tr.cap { margin-top: 10px; background-color: rgb(242, 242,=
 242); }

img.toggler { margin-right: 3px; margin-top: 3px; cursor: pointer; }

div.modindex-jumpbox { border-top: 1px solid rgb(221, 221, 221); border-bot=
tom: 1px solid rgb(221, 221, 221); margin: 1em 0px; padding: 0.4em; }

div.genindex-jumpbox { border-top: 1px solid rgb(221, 221, 221); border-bot=
tom: 1px solid rgb(221, 221, 221); margin: 1em 0px; padding: 0.4em; }

table.modindextable td { padding: 2px; border-collapse: collapse; }

div.body { min-width: 450px; max-width: 800px; }

div.body p, div.body dd, div.body li, div.body blockquote { hyphens: auto; =
}

a.headerlink { visibility: hidden; }

a.brackets::before, span.brackets > a::before { content: "["; }

a.brackets::after, span.brackets > a::after { content: "]"; }

h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, =
h4:hover > a.headerlink, h5:hover > a.headerlink, h6:hover > a.headerlink, =
dt:hover > a.headerlink, caption:hover > a.headerlink, p.caption:hover > a.=
headerlink, div.code-block-caption:hover > a.headerlink { visibility: visib=
le; }

div.body p.caption { text-align: inherit; }

div.body td { text-align: left; }

.first { margin-top: 0px !important; }

p.rubric { margin-top: 30px; font-weight: bold; }

img.align-left, .figure.align-left, object.align-left { clear: left; float:=
 left; margin-right: 1em; }

img.align-right, .figure.align-right, object.align-right { clear: right; fl=
oat: right; margin-left: 1em; }

img.align-center, .figure.align-center, object.align-center { display: bloc=
k; margin-left: auto; margin-right: auto; }

img.align-default, .figure.align-default { display: block; margin-left: aut=
o; margin-right: auto; }

.align-left { text-align: left; }

.align-center { text-align: center; }

.align-default { text-align: center; }

.align-right { text-align: right; }

div.sidebar { margin: 0px 0px 0.5em 1em; border: 1px solid rgb(221, 221, 18=
7); padding: 7px 7px 0px; background-color: rgb(255, 255, 238); width: 40%;=
 float: right; }

p.sidebar-title { font-weight: bold; }

div.topic { border: 1px solid rgb(204, 204, 204); padding: 7px 7px 0px; mar=
gin: 10px 0px; }

p.topic-title { font-size: 1.1em; font-weight: bold; margin-top: 10px; }

div.admonition { margin-top: 10px; margin-bottom: 10px; padding: 7px; }

div.admonition dt { font-weight: bold; }

div.admonition dl { margin-bottom: 0px; }

p.admonition-title { margin: 0px 10px 5px 0px; font-weight: bold; }

div.body p.centered { text-align: center; margin-top: 25px; }

table.docutils { border: 0px; border-collapse: collapse; }

table.align-center { margin-left: auto; margin-right: auto; }

table.align-default { margin-left: auto; margin-right: auto; }

table caption span.caption-number { font-style: italic; }

table caption span.caption-text { }

table.docutils td, table.docutils th { padding: 1px 8px 1px 5px; border-wid=
th: 0px 0px 1px; border-top-style: initial; border-top-color: initial; bord=
er-left-style: initial; border-left-color: initial; border-right-style: ini=
tial; border-right-color: initial; border-bottom-style: solid; border-botto=
m-color: rgb(170, 170, 170); }

table.footnote td, table.footnote th { border: 0px !important; }

th { text-align: left; padding-right: 5px; }

table.citation { border-left: 1px solid gray; margin-left: 1px; }

table.citation td { border-bottom: none; }

th > p:first-child, td > p:first-child { margin-top: 0px; }

th > p:last-child, td > p:last-child { margin-bottom: 0px; }

div.figure { margin: 0.5em; padding: 0.5em; }

div.figure p.caption { padding: 0.3em; }

div.figure p.caption span.caption-number { font-style: italic; }

div.figure p.caption span.caption-text { }

table.field-list td, table.field-list th { border: 0px !important; }

.field-list ul { margin: 0px; padding-left: 1em; }

.field-list p { margin: 0px; }

.field-name { hyphens: manual; }

table.hlist td { vertical-align: top; }

ol.arabic { list-style: decimal; }

ol.loweralpha { list-style: lower-alpha; }

ol.upperalpha { list-style: upper-alpha; }

ol.lowerroman { list-style: lower-roman; }

ol.upperroman { list-style: upper-roman; }

li > p:first-child { margin-top: 0px; }

li > p:last-child { margin-bottom: 0px; }

dl.footnote > dt, dl.citation > dt { float: left; }

dl.footnote > dd, dl.citation > dd { margin-bottom: 0em; }

dl.footnote > dd::after, dl.citation > dd::after { content: ""; clear: both=
; }

dl.field-list { display: grid; grid-template-columns: fit-content(30%) auto=
; }

dl.field-list > dt { font-weight: bold; word-break: break-word; padding-lef=
t: 0.5em; padding-right: 5px; }

dl.field-list > dt::after { content: ":"; }

dl.field-list > dd { padding-left: 0.5em; margin-top: 0em; margin-left: 0em=
; margin-bottom: 0em; }

dl { margin-bottom: 15px; }

dd > p:first-child { margin-top: 0px; }

dd ul, dd table { margin-bottom: 10px; }

dd { margin-top: 3px; margin-bottom: 10px; margin-left: 30px; }

dt:target, span.highlighted { background-color: rgb(251, 229, 78); }

rect.highlighted { fill: rgb(251, 229, 78); }

dl.glossary dt { font-weight: bold; font-size: 1.1em; }

.optional { font-size: 1.3em; }

.sig-paren { font-size: larger; }

.versionmodified { font-style: italic; }

.system-message { background-color: rgb(255, 221, 170); padding: 5px; borde=
r: 3px solid red; }

.footnote:target { background-color: rgb(255, 255, 170); }

.line-block { display: block; margin-top: 1em; margin-bottom: 1em; }

.line-block .line-block { margin-top: 0px; margin-bottom: 0px; margin-left:=
 1.5em; }

.guilabel, .menuselection { font-family: sans-serif; }

.accelerator { text-decoration: underline; }

.classifier { font-style: oblique; }

.classifier::before { font-style: normal; margin: 0.5em; content: ":"; }

abbr, acronym { border-bottom: 1px dotted; cursor: help; }

pre { overflow: auto hidden; }

span.pre { hyphens: none; }

td.linenos pre { padding: 5px 0px; border: 0px; background-color: transpare=
nt; color: rgb(170, 170, 170); }

table.highlighttable { margin-left: 0.5em; }

table.highlighttable td { padding: 0px 0.5em; }

div.code-block-caption { padding: 2px 5px; font-size: small; }

div.code-block-caption code { background-color: transparent; }

div.code-block-caption + div > div.highlight > pre { margin-top: 0px; }

div.doctest > div.highlight span.gp { user-select: none; }

div.code-block-caption span.caption-number { padding: 0.1em 0.3em; font-sty=
le: italic; }

div.code-block-caption span.caption-text { }

div.literal-block-wrapper { padding: 1em 1em 0px; }

div.literal-block-wrapper div.highlight { margin: 0px; }

code.descname { background-color: transparent; font-weight: bold; font-size=
: 1.2em; }

code.descclassname { background-color: transparent; }

code.xref, a code { background-color: transparent; font-weight: bold; }

h1 code, h2 code, h3 code, h4 code, h5 code, h6 code { background-color: tr=
ansparent; }

.viewcode-link { float: right; }

.viewcode-back { float: right; font-family: sans-serif; }

div.viewcode-block:target { margin: -1px -10px; padding: 0px 10px; }

img.math { vertical-align: middle; }

div.body div.math p { text-align: center; }

span.eqno { float: right; }

span.eqno a.headerlink { position: relative; left: 0px; z-index: 1; }

div.math:hover a.headerlink { visibility: visible; }

@media print {
  div.document, div.documentwrapper, div.bodywrapper { width: 100%; margin:=
 0px !important; }
  div.sphinxsidebar, div.related, div.footer, #top-link { display: none; }
}
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: https://docs.python.org/3/_static/pygments.css

@charset "utf-8";

pre { line-height: 125%; margin: 0px; }

td.linenos pre { color: rgb(0, 0, 0); background-color: rgb(240, 240, 240);=
 padding: 0px 5px; }

span.linenos { color: rgb(0, 0, 0); background-color: rgb(240, 240, 240); p=
adding: 0px 5px; }

td.linenos pre.special { color: rgb(0, 0, 0); background-color: rgb(255, 25=
5, 192); padding: 0px 5px; }

span.linenos.special { color: rgb(0, 0, 0); background-color: rgb(255, 255,=
 192); padding: 0px 5px; }

.highlight .hll { background-color: rgb(255, 255, 204); }

.highlight { background: rgb(238, 255, 204); }

.highlight .c { color: rgb(64, 128, 144); font-style: italic; }

.highlight .err { border: 1px solid rgb(255, 0, 0); }

.highlight .k { color: rgb(0, 112, 32); font-weight: bold; }

.highlight .o { color: rgb(102, 102, 102); }

.highlight .ch { color: rgb(64, 128, 144); font-style: italic; }

.highlight .cm { color: rgb(64, 128, 144); font-style: italic; }

.highlight .cp { color: rgb(0, 112, 32); }

.highlight .cpf { color: rgb(64, 128, 144); font-style: italic; }

.highlight .c1 { color: rgb(64, 128, 144); font-style: italic; }

.highlight .cs { color: rgb(64, 128, 144); background-color: rgb(255, 240, =
240); }

.highlight .gd { color: rgb(160, 0, 0); }

.highlight .ge { font-style: italic; }

.highlight .gr { color: rgb(255, 0, 0); }

.highlight .gh { color: rgb(0, 0, 128); font-weight: bold; }

.highlight .gi { color: rgb(0, 160, 0); }

.highlight .go { color: rgb(51, 51, 51); }

.highlight .gp { color: rgb(198, 93, 9); font-weight: bold; }

.highlight .gs { font-weight: bold; }

.highlight .gu { color: rgb(128, 0, 128); font-weight: bold; }

.highlight .gt { color: rgb(0, 68, 221); }

.highlight .kc { color: rgb(0, 112, 32); font-weight: bold; }

.highlight .kd { color: rgb(0, 112, 32); font-weight: bold; }

.highlight .kn { color: rgb(0, 112, 32); font-weight: bold; }

.highlight .kp { color: rgb(0, 112, 32); }

.highlight .kr { color: rgb(0, 112, 32); font-weight: bold; }

.highlight .kt { color: rgb(144, 32, 0); }

.highlight .m { color: rgb(32, 128, 80); }

.highlight .s { color: rgb(64, 112, 160); }

.highlight .na { color: rgb(64, 112, 160); }

.highlight .nb { color: rgb(0, 112, 32); }

.highlight .nc { color: rgb(14, 132, 181); font-weight: bold; }

.highlight .no { color: rgb(96, 173, 213); }

.highlight .nd { color: rgb(85, 85, 85); font-weight: bold; }

.highlight .ni { color: rgb(213, 85, 55); font-weight: bold; }

.highlight .ne { color: rgb(0, 112, 32); }

.highlight .nf { color: rgb(6, 40, 126); }

.highlight .nl { color: rgb(0, 32, 112); font-weight: bold; }

.highlight .nn { color: rgb(14, 132, 181); font-weight: bold; }

.highlight .nt { color: rgb(6, 40, 115); font-weight: bold; }

.highlight .nv { color: rgb(187, 96, 213); }

.highlight .ow { color: rgb(0, 112, 32); font-weight: bold; }

.highlight .w { color: rgb(187, 187, 187); }

.highlight .mb { color: rgb(32, 128, 80); }

.highlight .mf { color: rgb(32, 128, 80); }

.highlight .mh { color: rgb(32, 128, 80); }

.highlight .mi { color: rgb(32, 128, 80); }

.highlight .mo { color: rgb(32, 128, 80); }

.highlight .sa { color: rgb(64, 112, 160); }

.highlight .sb { color: rgb(64, 112, 160); }

.highlight .sc { color: rgb(64, 112, 160); }

.highlight .dl { color: rgb(64, 112, 160); }

.highlight .sd { color: rgb(64, 112, 160); font-style: italic; }

.highlight .s2 { color: rgb(64, 112, 160); }

.highlight .se { color: rgb(64, 112, 160); font-weight: bold; }

.highlight .sh { color: rgb(64, 112, 160); }

.highlight .si { color: rgb(112, 160, 208); font-style: italic; }

.highlight .sx { color: rgb(198, 93, 9); }

.highlight .sr { color: rgb(35, 83, 136); }

.highlight .s1 { color: rgb(64, 112, 160); }

.highlight .ss { color: rgb(81, 121, 24); }

.highlight .bp { color: rgb(0, 112, 32); }

.highlight .fm { color: rgb(6, 40, 126); }

.highlight .vc { color: rgb(187, 96, 213); }

.highlight .vg { color: rgb(187, 96, 213); }

.highlight .vi { color: rgb(187, 96, 213); }

.highlight .vm { color: rgb(187, 96, 213); }

.highlight .il { color: rgb(32, 128, 80); }
------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y----
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-Location: https://docs.python.org/3/_static/py.png

iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A
/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9gEGxE4IQYzJ14AAAI3SURBVDjL
ZZNPSFVBFIe/e9+zd3silBCl0SZoU4s2rVq0EB5tQip4UNvATVGu3QRBiyAi2iltWkgbF5EgRhFF
RpiWtrWIzDIV1Pzz7p15M2fmtvDevOqBw8DM9zvnN8ycgF3R/eDtM2mac96ZdrFNxBikqbRV+vHH
/ut9gAZczoe7C3gnF0f6au1OLM5avFi8d1Ea+JvAMSAq8nsKOGs5f2cYJ3Y7rc2PO4BqkS8DdD98
f9tbe1ysCoxOBo1qlEXHJWcM4b5KPU19zleA0o4Clx99eO3EdqVewHsCoFRugUoVghJO7A6H6Vx9
wdtYi27cr5x6dy/03nVtWTU7bWeZh6jNUcAiCaFTURl9A+gs56AviHzh3mnqtdPxm6knfQPLU7Ua
okASQq/agY7yDrG16Mba6Pz48NP56VdrgAApYObGaicPtkovToFLQBKA/WUxTe3FRk4san15aGKg
d3Dj560rrdGJS6FT0X9YYvLuiMKL1kAQOpHZ3PqfyZfP41+9PW1VfzX0RXFSECfgNEmSTgImdDru
F2O0E8vvqZG1auQubAsKooIYYHpGvwA2g+xndQBHgWa6cG0ih5cW/w6VvEq3nChwCoBvs+bL2Z7V
ceBHGTDAIrABpMVuhw+4OiLgLIglOLPYBTQAlfErIeCzjRVg1dtEb1kt5Omv+DTV2YssAN+zNdkz
C42N9brV8WdvYp07seOdM2Of1F3AAknW0AJpwN6IgEPAEaANaMlcbmZdl7KRBuAfAb+v//yMAJoA
AAAASUVORK5CYII=

------MultipartBoundary--X29Mhpbv4ZP8T0hLA0JfevBkCKrHPbzjq1D0pynT3y------
